(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var qm={exports:{}},ll={},Km={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),IT=Symbol.for("react.portal"),LT=Symbol.for("react.fragment"),OT=Symbol.for("react.strict_mode"),DT=Symbol.for("react.profiler"),RT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),NT=Symbol.for("react.forward_ref"),UT=Symbol.for("react.suspense"),FT=Symbol.for("react.memo"),BT=Symbol.for("react.lazy"),Ph=Symbol.iterator;function jT(e){return e===null||typeof e!="object"?null:(e=Ph&&e[Ph]||e["@@iterator"],typeof e=="function"?e:null)}var Xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ym=Object.assign,Qm={};function ji(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Xm}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jm(){}Jm.prototype=ji.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Xm}var cd=ud.prototype=new Jm;cd.constructor=ud;Ym(cd,ji.prototype);cd.isPureReactComponent=!0;var Ah=Array.isArray,Zm=Object.prototype.hasOwnProperty,dd={current:null},ev={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Zm.call(t,r)&&!ev.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:os,type:e,key:a,ref:s,props:i,_owner:dd.current}}function zT(e,t){return{$$typeof:os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===os}function HT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ih=/\/+/g;function eu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HT(""+e.key):t.toString(36)}function io(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case os:case IT:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+eu(s,0):r,Ah(i)?(n="",e!=null&&(n=e.replace(Ih,"$&/")+"/"),io(i,t,n,"",function(u){return u})):i!=null&&(fd(i)&&(i=zT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ih,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Ah(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+eu(a,o);s+=io(a,t,n,l,i)}else if(l=jT(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+eu(a,o++),s+=io(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ds(e,t,n){if(e==null)return e;var r=[],i=0;return io(e,r,"","",function(a){return t.call(n,a,i++)}),r}function VT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ao={transition:null},$T={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ao,ReactCurrentOwner:dd};se.Children={map:Ds,forEach:function(e,t,n){Ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ds(e,function(){t++}),t},toArray:function(e){return Ds(e,function(t){return t})||[]},only:function(e){if(!fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=ji;se.Fragment=LT;se.Profiler=DT;se.PureComponent=ud;se.StrictMode=OT;se.Suspense=UT;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ym({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=dd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Zm.call(t,l)&&!ev.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:os,type:e.type,key:i,ref:a,props:r,_owner:s}};se.createContext=function(e){return e={$$typeof:MT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RT,_context:e},e.Consumer=e};se.createElement=tv;se.createFactory=function(e){var t=tv.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:NT,render:e}};se.isValidElement=fd;se.lazy=function(e){return{$$typeof:BT,_payload:{_status:-1,_result:e},_init:VT}};se.memo=function(e,t){return{$$typeof:FT,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=ao.transition;ao.transition={};try{e()}finally{ao.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return ht.current.useCallback(e,t)};se.useContext=function(e){return ht.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};se.useEffect=function(e,t){return ht.current.useEffect(e,t)};se.useId=function(){return ht.current.useId()};se.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ht.current.useMemo(e,t)};se.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};se.useRef=function(e){return ht.current.useRef(e)};se.useState=function(e){return ht.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return ht.current.useTransition()};se.version="18.2.0";Km.exports=se;var An=Km.exports;const WT=Xt(An);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=An,qT=Symbol.for("react.element"),KT=Symbol.for("react.fragment"),XT=Object.prototype.hasOwnProperty,YT=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function rv(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)XT.call(t,r)&&!QT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qT,type:e,key:a,ref:s,props:i,_owner:YT.current}}ll.Fragment=KT;ll.jsx=rv;ll.jsxs=rv;qm.exports=ll;var nv=qm.exports;const Z=nv.jsx,mt=nv.jsxs;var Wu={},iv={exports:{}},Ot={},av={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,X){var te=H.length;H.push(X);e:for(;0<te;){var ce=te-1>>>1,fe=H[ce];if(0<i(fe,X))H[ce]=X,H[te]=fe,te=ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],te=H.pop();if(te!==X){H[0]=te;e:for(var ce=0,fe=H.length,Mt=fe>>>1;ce<Mt;){var nt=2*(ce+1)-1,Qt=H[nt],je=nt+1,Jt=H[je];if(0>i(Qt,te))je<fe&&0>i(Jt,Qt)?(H[ce]=Jt,H[je]=te,ce=je):(H[ce]=Qt,H[nt]=te,ce=nt);else if(je<fe&&0>i(Jt,te))H[ce]=Jt,H[je]=te,ce=je;else break e}}return X}function i(H,X){var te=H.sortIndex-X.sortIndex;return te!==0?te:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,T=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=H)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function A(H){if(E=!1,b(H),!T)if(n(l)!==null)T=!0,Be(L);else{var X=n(u);X!==null&&Ee(A,X.startTime-H)}}function L(H,X){T=!1,E&&(E=!1,y(B),B=-1),m=!0;var te=h;try{for(b(X),d=n(l);d!==null&&(!(d.expirationTime>X)||H&&!Q());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var fe=ce(d.expirationTime<=X);X=e.unstable_now(),typeof fe=="function"?d.callback=fe:d===n(l)&&r(l),b(X)}else r(l);d=n(l)}if(d!==null)var Mt=!0;else{var nt=n(u);nt!==null&&Ee(A,nt.startTime-X),Mt=!1}return Mt}finally{d=null,h=te,m=!1}}var R=!1,M=null,B=-1,q=5,G=-1;function Q(){return!(e.unstable_now()-G<q)}function $(){if(M!==null){var H=e.unstable_now();G=H;var X=!0;try{X=M(!0,H)}finally{X?de():(R=!1,M=null)}}else R=!1}var de;if(typeof S=="function")de=function(){S($)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Re=Ae.port2;Ae.port1.onmessage=$,de=function(){Re.postMessage(null)}}else de=function(){O($,0)};function Be(H){M=H,R||(R=!0,de())}function Ee(H,X){B=O(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){T||m||(T=!0,Be(L))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var te=h;h=X;try{return H()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=h;h=H;try{return X()}finally{h=te}},e.unstable_scheduleCallback=function(H,X,te){var ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,H){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=te+fe,H={id:c++,callback:X,priorityLevel:H,startTime:te,expirationTime:fe,sortIndex:-1},te>ce?(H.sortIndex=te,t(u,H),n(l)===null&&H===n(u)&&(E?(y(B),B=-1):E=!0,Ee(A,te-ce))):(H.sortIndex=fe,t(l,H),T||m||(T=!0,Be(L))),H},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(H){var X=h;return function(){var te=h;h=X;try{return H.apply(this,arguments)}finally{h=te}}}})(sv);av.exports=sv;var JT=av.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=An,It=JT;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lv=new Set,Na={};function Wn(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(Na[e]=t,e=0;e<t.length;e++)lv.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=Object.prototype.hasOwnProperty,ZT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lh={},Oh={};function eS(e){return Gu.call(Oh,e)?!0:Gu.call(Lh,e)?!1:ZT.test(e)?Oh[e]=!0:(Lh[e]=!0,!1)}function tS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rS(e,t,n,r){if(t===null||typeof t>"u"||tS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function pd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hd,pd);Qe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hd,pd);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hd,pd);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function md(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rS(t,n,i,r)&&(n=null),r||i===null?eS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mr=ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),ii=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),vd=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),uv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),dv=Symbol.for("react.offscreen"),Dh=Symbol.iterator;function ta(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,tu;function va(e){if(tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tu=t&&t[1]||""}return`
`+tu+e}var ru=!1;function nu(e,t){if(!e||ru)return"";ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{ru=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?va(e):""}function nS(e){switch(e.tag){case 5:return va(e.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function Yu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case ii:return"Portal";case qu:return"Profiler";case vd:return"StrictMode";case Ku:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cv:return(e.displayName||"Context")+".Consumer";case uv:return(e._context.displayName||"Context")+".Provider";case gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:Yu(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return Yu(e(t))}catch{}}return null}function iS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yu(t);case 8:return t===vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aS(e){var t=fv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=aS(e))}function hv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qu(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pv(e,t){t=t.checked,t!=null&&md(e,"checked",t,!1)}function Ju(e,t){pv(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zu(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zu(e,t,n){(t!=="number"||Eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ga=Array.isArray;function yi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ec(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(ga(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function mv(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,gv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ua(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sS=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(e){sS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ea[t]=Ea[e]})});function yv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ea.hasOwnProperty(e)&&Ea[e]?(""+t).trim():t+"px"}function _v(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var oS=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rc(e,t){if(t){if(oS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function nc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ac=null,_i=null,Ti=null;function Fh(e){if(e=cs(e)){if(typeof ac!="function")throw Error(F(280));var t=e.stateNode;t&&(t=hl(t),ac(e.stateNode,e.type,t))}}function Tv(e){_i?Ti?Ti.push(e):Ti=[e]:_i=e}function Sv(){if(_i){var e=_i,t=Ti;if(Ti=_i=null,Fh(e),t)for(e=0;e<t.length;e++)Fh(t[e])}}function xv(e,t){return e(t)}function bv(){}var iu=!1;function Ev(e,t,n){if(iu)return e(t,n);iu=!0;try{return xv(e,t,n)}finally{iu=!1,(_i!==null||Ti!==null)&&(bv(),Sv())}}function Fa(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var sc=!1;if(Ir)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){sc=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{sc=!1}function lS(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ca=!1,Co=null,wo=!1,oc=null,uS={onError:function(e){Ca=!0,Co=e}};function cS(e,t,n,r,i,a,s,o,l){Ca=!1,Co=null,lS.apply(uS,arguments)}function dS(e,t,n,r,i,a,s,o,l){if(cS.apply(this,arguments),Ca){if(Ca){var u=Co;Ca=!1,Co=null}else throw Error(F(198));wo||(wo=!0,oc=u)}}function Gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bh(e){if(Gn(e)!==e)throw Error(F(188))}function fS(e){var t=e.alternate;if(!t){if(t=Gn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Bh(i),e;if(a===r)return Bh(i),t;a=a.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function wv(e){return e=fS(e),e!==null?kv(e):null}function kv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kv(e);if(t!==null)return t;e=e.sibling}return null}var Pv=It.unstable_scheduleCallback,jh=It.unstable_cancelCallback,hS=It.unstable_shouldYield,pS=It.unstable_requestPaint,De=It.unstable_now,mS=It.unstable_getCurrentPriorityLevel,Td=It.unstable_ImmediatePriority,Av=It.unstable_UserBlockingPriority,ko=It.unstable_NormalPriority,vS=It.unstable_LowPriority,Iv=It.unstable_IdlePriority,ul=null,gr=null;function gS(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:TS,yS=Math.log,_S=Math.LN2;function TS(e){return e>>>=0,e===0?32:31-(yS(e)/_S|0)|0}var Us=64,Fs=4194304;function ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Po(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=ya(o):(a&=s,a!==0&&(r=ya(a)))}else s=n&~i,s!==0?r=ya(s):a!==0&&(r=ya(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ar(t),i=1<<n,r|=e[n],t&=~i;return r}function SS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ar(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=SS(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function lc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lv(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=n}function bS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ar(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Sd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ar(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function Ov(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dv,xd,Rv,Mv,Nv,uc=!1,Bs=[],Xr=null,Yr=null,Qr=null,Ba=new Map,ja=new Map,Vr=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(t.pointerId)}}function na(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=cs(t),t!==null&&xd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CS(e,t,n,r,i){switch(t){case"focusin":return Xr=na(Xr,e,t,n,r,i),!0;case"dragenter":return Yr=na(Yr,e,t,n,r,i),!0;case"mouseover":return Qr=na(Qr,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ba.set(a,na(Ba.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ja.set(a,na(ja.get(a)||null,e,t,n,r,i)),!0}return!1}function Uv(e){var t=Cn(e.target);if(t!==null){var n=Gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Cv(n),t!==null){e.blockedOn=t,Nv(e.priority,function(){Rv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ic=r,n.target.dispatchEvent(r),ic=null}else return t=cs(n),t!==null&&xd(t),e.blockedOn=n,!1;t.shift()}return!0}function Hh(e,t,n){so(e)&&n.delete(t)}function wS(){uc=!1,Xr!==null&&so(Xr)&&(Xr=null),Yr!==null&&so(Yr)&&(Yr=null),Qr!==null&&so(Qr)&&(Qr=null),Ba.forEach(Hh),ja.forEach(Hh)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,wS)))}function za(e){function t(i){return ia(i,e)}if(0<Bs.length){ia(Bs[0],e);for(var n=1;n<Bs.length;n++){var r=Bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xr!==null&&ia(Xr,e),Yr!==null&&ia(Yr,e),Qr!==null&&ia(Qr,e),Ba.forEach(t),ja.forEach(t),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)Uv(n),n.blockedOn===null&&Vr.shift()}var Si=Mr.ReactCurrentBatchConfig,Ao=!0;function kS(e,t,n,r){var i=me,a=Si.transition;Si.transition=null;try{me=1,bd(e,t,n,r)}finally{me=i,Si.transition=a}}function PS(e,t,n,r){var i=me,a=Si.transition;Si.transition=null;try{me=4,bd(e,t,n,r)}finally{me=i,Si.transition=a}}function bd(e,t,n,r){if(Ao){var i=cc(e,t,n,r);if(i===null)mu(e,t,r,Io,n),zh(e,r);else if(CS(i,e,t,n,r))r.stopPropagation();else if(zh(e,r),t&4&&-1<ES.indexOf(e)){for(;i!==null;){var a=cs(i);if(a!==null&&Dv(a),a=cc(e,t,n,r),a===null&&mu(e,t,r,Io,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}var Io=null;function cc(e,t,n,r){if(Io=null,e=_d(r),e=Cn(e),e!==null)if(t=Gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function Fv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mS()){case Td:return 1;case Av:return 4;case ko:case vS:return 16;case Iv:return 536870912;default:return 16}default:return 16}}var Gr=null,Ed=null,oo=null;function Bv(){if(oo)return oo;var e,t=Ed,n=t.length,r,i="value"in Gr?Gr.value:Gr.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return oo=i.slice(e,1<r?1-r:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Vh(){return!1}function Dt(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?js:Vh,this.isPropagationStopped=Vh,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=Dt(zi),us=Pe({},zi,{view:0,detail:0}),AS=Dt(us),su,ou,aa,cl=Pe({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==aa&&(aa&&e.type==="mousemove"?(su=e.screenX-aa.screenX,ou=e.screenY-aa.screenY):ou=su=0,aa=e),su)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),$h=Dt(cl),IS=Pe({},cl,{dataTransfer:0}),LS=Dt(IS),OS=Pe({},us,{relatedTarget:0}),lu=Dt(OS),DS=Pe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),RS=Dt(DS),MS=Pe({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NS=Dt(MS),US=Pe({},zi,{data:0}),Wh=Dt(US),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jS[e])?!!t[e]:!1}function wd(){return zS}var HS=Pe({},us,{key:function(e){if(e.key){var t=FS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VS=Dt(HS),$S=Pe({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=Dt($S),WS=Pe({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),GS=Dt(WS),qS=Pe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=Dt(qS),XS=Pe({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=Dt(XS),QS=[9,13,27,32],kd=Ir&&"CompositionEvent"in window,wa=null;Ir&&"documentMode"in document&&(wa=document.documentMode);var JS=Ir&&"TextEvent"in window&&!wa,jv=Ir&&(!kd||wa&&8<wa&&11>=wa),qh=String.fromCharCode(32),Kh=!1;function zv(e,t){switch(e){case"keyup":return QS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function ZS(e,t){switch(e){case"compositionend":return Hv(t);case"keypress":return t.which!==32?null:(Kh=!0,qh);case"textInput":return e=t.data,e===qh&&Kh?null:e;default:return null}}function ex(e,t){if(si)return e==="compositionend"||!kd&&zv(e,t)?(e=Bv(),oo=Ed=Gr=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jv&&t.locale!=="ko"?null:t.data;default:return null}}var tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tx[e.type]:t==="textarea"}function Vv(e,t,n,r){Tv(r),t=Lo(t,"onChange"),0<t.length&&(n=new Cd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ka=null,Ha=null;function rx(e){eg(e,0)}function dl(e){var t=ui(e);if(hv(t))return e}function nx(e,t){if(e==="change")return t}var $v=!1;if(Ir){var uu;if(Ir){var cu="oninput"in document;if(!cu){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),cu=typeof Yh.oninput=="function"}uu=cu}else uu=!1;$v=uu&&(!document.documentMode||9<document.documentMode)}function Qh(){ka&&(ka.detachEvent("onpropertychange",Wv),Ha=ka=null)}function Wv(e){if(e.propertyName==="value"&&dl(Ha)){var t=[];Vv(t,Ha,e,_d(e)),Ev(rx,t)}}function ix(e,t,n){e==="focusin"?(Qh(),ka=t,Ha=n,ka.attachEvent("onpropertychange",Wv)):e==="focusout"&&Qh()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(Ha)}function sx(e,t){if(e==="click")return dl(t)}function ox(e,t){if(e==="input"||e==="change")return dl(t)}function lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:lx;function Va(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gu.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zh(e,t){var n=Jh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jh(n)}}function Gv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qv(){for(var e=window,t=Eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ux(e){var t=qv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gv(n.ownerDocument.documentElement,n)){if(r!==null&&Pd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Zh(n,a);var s=Zh(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cx=Ir&&"documentMode"in document&&11>=document.documentMode,oi=null,dc=null,Pa=null,fc=!1;function ep(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fc||oi==null||oi!==Eo(r)||(r=oi,"selectionStart"in r&&Pd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pa&&Va(Pa,r)||(Pa=r,r=Lo(dc,"onSelect"),0<r.length&&(t=new Cd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},du={},Kv={};Ir&&(Kv=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function fl(e){if(du[e])return du[e];if(!li[e])return e;var t=li[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kv)return du[e]=t[n];return e}var Xv=fl("animationend"),Yv=fl("animationiteration"),Qv=fl("animationstart"),Jv=fl("transitionend"),Zv=new Map,tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Zv.set(e,t),Wn(t,[e])}for(var fu=0;fu<tp.length;fu++){var hu=tp[fu],dx=hu.toLowerCase(),fx=hu[0].toUpperCase()+hu.slice(1);dn(dx,"on"+fx)}dn(Xv,"onAnimationEnd");dn(Yv,"onAnimationIteration");dn(Qv,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Jv,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function rp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dS(r,t,void 0,e),e.currentTarget=null}function eg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;rp(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;rp(i,o,u),a=l}}}if(wo)throw e=oc,wo=!1,oc=null,e}function _e(e,t){var n=t[gc];n===void 0&&(n=t[gc]=new Set);var r=e+"__bubble";n.has(r)||(tg(t,e,2,!1),n.add(r))}function pu(e,t,n){var r=0;t&&(r|=4),tg(n,e,r,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Hs]){e[Hs]=!0,lv.forEach(function(n){n!=="selectionchange"&&(hx.has(n)||pu(n,!1,e),pu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,pu("selectionchange",!1,t))}}function tg(e,t,n,r){switch(Fv(t)){case 1:var i=kS;break;case 4:i=PS;break;default:i=bd}n=i.bind(null,t,n,e),i=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Cn(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Ev(function(){var u=a,c=_d(n),d=[];e:{var h=Zv.get(e);if(h!==void 0){var m=Cd,T=e;switch(e){case"keypress":if(lo(n)===0)break e;case"keydown":case"keyup":m=VS;break;case"focusin":T="focus",m=lu;break;case"focusout":T="blur",m=lu;break;case"beforeblur":case"afterblur":m=lu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GS;break;case Xv:case Yv:case Qv:m=RS;break;case Jv:m=KS;break;case"scroll":m=AS;break;case"wheel":m=YS;break;case"copy":case"cut":case"paste":m=NS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gh}var E=(t&4)!==0,O=!E&&e==="scroll",y=E?h!==null?h+"Capture":null:h;E=[];for(var S=u,b;S!==null;){b=S;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,y!==null&&(A=Fa(S,y),A!=null&&E.push(Wa(S,A,b)))),O)break;S=S.return}0<E.length&&(h=new m(h,T,null,n,c),d.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==ic&&(T=n.relatedTarget||n.fromElement)&&(Cn(T)||T[Lr]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Cn(T):null,T!==null&&(O=Gn(T),T!==O||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(E=$h,A="onMouseLeave",y="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(E=Gh,A="onPointerLeave",y="onPointerEnter",S="pointer"),O=m==null?h:ui(m),b=T==null?h:ui(T),h=new E(A,S+"leave",m,n,c),h.target=O,h.relatedTarget=b,A=null,Cn(c)===u&&(E=new E(y,S+"enter",T,n,c),E.target=b,E.relatedTarget=O,A=E),O=A,m&&T)t:{for(E=m,y=T,S=0,b=E;b;b=Zn(b))S++;for(b=0,A=y;A;A=Zn(A))b++;for(;0<S-b;)E=Zn(E),S--;for(;0<b-S;)y=Zn(y),b--;for(;S--;){if(E===y||y!==null&&E===y.alternate)break t;E=Zn(E),y=Zn(y)}E=null}else E=null;m!==null&&np(d,h,m,E,!1),T!==null&&O!==null&&np(d,O,T,E,!0)}}e:{if(h=u?ui(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var L=nx;else if(Xh(h))if($v)L=ox;else{L=ax;var R=ix}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(L=sx);if(L&&(L=L(e,u))){Vv(d,L,n,c);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Zu(h,"number",h.value)}switch(R=u?ui(u):window,e){case"focusin":(Xh(R)||R.contentEditable==="true")&&(oi=R,dc=u,Pa=null);break;case"focusout":Pa=dc=oi=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,ep(d,n,c);break;case"selectionchange":if(cx)break;case"keydown":case"keyup":ep(d,n,c)}var M;if(kd)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else si?zv(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(jv&&n.locale!=="ko"&&(si||B!=="onCompositionStart"?B==="onCompositionEnd"&&si&&(M=Bv()):(Gr=c,Ed="value"in Gr?Gr.value:Gr.textContent,si=!0)),R=Lo(u,B),0<R.length&&(B=new Wh(B,e,null,n,c),d.push({event:B,listeners:R}),M?B.data=M:(M=Hv(n),M!==null&&(B.data=M)))),(M=JS?ZS(e,n):ex(e,n))&&(u=Lo(u,"onBeforeInput"),0<u.length&&(c=new Wh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}eg(d,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fa(e,n),a!=null&&r.unshift(Wa(e,a,i)),a=Fa(e,t),a!=null&&r.push(Wa(e,a,i))),e=e.return}return r}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function np(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Fa(n,a),l!=null&&s.unshift(Wa(n,l,o))):i||(l=Fa(n,a),l!=null&&s.push(Wa(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var px=/\r\n?/g,mx=/\u0000|\uFFFD/g;function ip(e){return(typeof e=="string"?e:""+e).replace(px,`
`).replace(mx,"")}function Vs(e,t,n){if(t=ip(t),ip(e)!==t&&n)throw Error(F(425))}function Oo(){}var hc=null,pc=null;function mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,vx=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(e){return ap.resolve(null).then(e).catch(yx)}:vc;function yx(e){setTimeout(function(){throw e})}function vu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),za(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);za(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),mr="__reactFiber$"+Hi,Ga="__reactProps$"+Hi,Lr="__reactContainer$"+Hi,gc="__reactEvents$"+Hi,_x="__reactListeners$"+Hi,Tx="__reactHandles$"+Hi;function Cn(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sp(e);e!==null;){if(n=e[mr])return n;e=sp(e)}return t}e=n,n=e.parentNode}return null}function cs(e){return e=e[mr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function hl(e){return e[Ga]||null}var yc=[],ci=-1;function fn(e){return{current:e}}function Te(e){0>ci||(e.current=yc[ci],yc[ci]=null,ci--)}function ge(e,t){ci++,yc[ci]=e.current,e.current=t}var on={},rt=fn(on),_t=fn(!1),Fn=on;function Ai(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(e){return e=e.childContextTypes,e!=null}function Do(){Te(_t),Te(rt)}function op(e,t,n){if(rt.current!==on)throw Error(F(168));ge(rt,t),ge(_t,n)}function rg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,iS(e)||"Unknown",i));return Pe({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,Fn=rt.current,ge(rt,e),ge(_t,_t.current),!0}function lp(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=rg(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,Te(_t),Te(rt),ge(rt,e)):Te(_t),ge(_t,n)}var Er=null,pl=!1,gu=!1;function ng(e){Er===null?Er=[e]:Er.push(e)}function Sx(e){pl=!0,ng(e)}function hn(){if(!gu&&Er!==null){gu=!0;var e=0,t=me;try{var n=Er;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Er=null,pl=!1}catch(i){throw Er!==null&&(Er=Er.slice(e+1)),Pv(Td,hn),i}finally{me=t,gu=!1}}return null}var di=[],fi=0,Mo=null,No=0,Ht=[],Vt=0,Bn=null,Cr=1,wr="";function _n(e,t){di[fi++]=No,di[fi++]=Mo,Mo=e,No=t}function ig(e,t,n){Ht[Vt++]=Cr,Ht[Vt++]=wr,Ht[Vt++]=Bn,Bn=e;var r=Cr;e=wr;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var a=32-ar(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cr=1<<32-ar(t)+i|n<<i|r,wr=a+e}else Cr=1<<a|n<<i|r,wr=e}function Ad(e){e.return!==null&&(_n(e,1),ig(e,1,0))}function Id(e){for(;e===Mo;)Mo=di[--fi],di[fi]=null,No=di[--fi],di[fi]=null;for(;e===Bn;)Bn=Ht[--Vt],Ht[Vt]=null,wr=Ht[--Vt],Ht[Vt]=null,Cr=Ht[--Vt],Ht[Vt]=null}var Pt=null,kt=null,xe=!1,ir=null;function ag(e,t){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function up(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,kt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bn!==null?{id:Cr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,kt=null,!0):!1;default:return!1}}function _c(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tc(e){if(xe){var t=kt;if(t){var n=t;if(!up(e,t)){if(_c(e))throw Error(F(418));t=Jr(n.nextSibling);var r=Pt;t&&up(e,t)?ag(r,n):(e.flags=e.flags&-4097|2,xe=!1,Pt=e)}}else{if(_c(e))throw Error(F(418));e.flags=e.flags&-4097|2,xe=!1,Pt=e}}}function cp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function $s(e){if(e!==Pt)return!1;if(!xe)return cp(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mc(e.type,e.memoizedProps)),t&&(t=kt)){if(_c(e))throw sg(),Error(F(418));for(;t;)ag(e,t),t=Jr(t.nextSibling)}if(cp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=Jr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Pt?Jr(e.stateNode.nextSibling):null;return!0}function sg(){for(var e=kt;e;)e=Jr(e.nextSibling)}function Ii(){kt=Pt=null,xe=!1}function Ld(e){ir===null?ir=[e]:ir.push(e)}var xx=Mr.ReactCurrentBatchConfig;function rr(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Uo=fn(null),Fo=null,hi=null,Od=null;function Dd(){Od=hi=Fo=null}function Rd(e){var t=Uo.current;Te(Uo),e._currentValue=t}function Sc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t){Fo=e,Od=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Od!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(Fo===null)throw Error(F(308));hi=e,Fo.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var wn=null;function Md(e){wn===null?wn=[e]:wn.push(e)}function og(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Md(t)):(n.next=i.next,i.next=n),t.interleaved=n,Or(e,r)}function Or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Or(e,n)}return i=r.interleaved,i===null?(t.next=t,Md(r)):(t.next=i.next,i.next=t),r.interleaved=t,Or(e,n)}function uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sd(e,n)}}function dp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Hr=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var T=e,E=o;switch(h=t,m=n,E.tag){case 1:if(T=E.payload,typeof T=="function"){d=T.call(m,d,h);break e}d=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,h=typeof T=="function"?T.call(m,d,h):T,h==null)break e;d=Pe({},d,h);break e;case 2:Hr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);zn|=s,e.lanes=s,e.memoizedState=d}}function fp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var ug=new ov.Component().refs;function xc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),i=tn(e),a=Pr(r,i);a.payload=t,n!=null&&(a.callback=n),t=Zr(e,a,i),t!==null&&(sr(t,e,i,r),uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),i=tn(e),a=Pr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Zr(e,a,i),t!==null&&(sr(t,e,i,r),uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=tn(e),i=Pr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zr(e,i,r),t!==null&&(sr(t,e,r,n),uo(t,e,r))}};function hp(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Va(n,r)||!Va(i,a):!0}function cg(e,t,n){var r=!1,i=on,a=t.contextType;return typeof a=="object"&&a!==null?a=qt(a):(i=Tt(t)?Fn:rt.current,r=t.contextTypes,a=(r=r!=null)?Ai(e,i):on),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function bc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ug,Nd(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qt(a):(a=Tt(t)?Fn:rt.current,i.context=Ai(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(xc(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ml.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;o===ug&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mp(e){var t=e._init;return t(e._payload)}function dg(e){function t(y,S){if(e){var b=y.deletions;b===null?(y.deletions=[S],y.flags|=16):b.push(S)}}function n(y,S){if(!e)return null;for(;S!==null;)t(y,S),S=S.sibling;return null}function r(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function i(y,S){return y=rn(y,S),y.index=0,y.sibling=null,y}function a(y,S,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<S?(y.flags|=2,S):b):(y.flags|=2,S)):(y.flags|=1048576,S)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,S,b,A){return S===null||S.tag!==6?(S=Eu(b,y.mode,A),S.return=y,S):(S=i(S,b),S.return=y,S)}function l(y,S,b,A){var L=b.type;return L===ai?c(y,S,b.props.children,A,b.key):S!==null&&(S.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zr&&mp(L)===S.type)?(A=i(S,b.props),A.ref=sa(y,S,b),A.return=y,A):(A=vo(b.type,b.key,b.props,null,y.mode,A),A.ref=sa(y,S,b),A.return=y,A)}function u(y,S,b,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=Cu(b,y.mode,A),S.return=y,S):(S=i(S,b.children||[]),S.return=y,S)}function c(y,S,b,A,L){return S===null||S.tag!==7?(S=Ln(b,y.mode,A,L),S.return=y,S):(S=i(S,b),S.return=y,S)}function d(y,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Eu(""+S,y.mode,b),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rs:return b=vo(S.type,S.key,S.props,null,y.mode,b),b.ref=sa(y,null,S),b.return=y,b;case ii:return S=Cu(S,y.mode,b),S.return=y,S;case zr:var A=S._init;return d(y,A(S._payload),b)}if(ga(S)||ta(S))return S=Ln(S,y.mode,b,null),S.return=y,S;Ws(y,S)}return null}function h(y,S,b,A){var L=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:o(y,S,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rs:return b.key===L?l(y,S,b,A):null;case ii:return b.key===L?u(y,S,b,A):null;case zr:return L=b._init,h(y,S,L(b._payload),A)}if(ga(b)||ta(b))return L!==null?null:c(y,S,b,A,null);Ws(y,b)}return null}function m(y,S,b,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(b)||null,o(S,y,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Rs:return y=y.get(A.key===null?b:A.key)||null,l(S,y,A,L);case ii:return y=y.get(A.key===null?b:A.key)||null,u(S,y,A,L);case zr:var R=A._init;return m(y,S,b,R(A._payload),L)}if(ga(A)||ta(A))return y=y.get(b)||null,c(S,y,A,L,null);Ws(S,A)}return null}function T(y,S,b,A){for(var L=null,R=null,M=S,B=S=0,q=null;M!==null&&B<b.length;B++){M.index>B?(q=M,M=null):q=M.sibling;var G=h(y,M,b[B],A);if(G===null){M===null&&(M=q);break}e&&M&&G.alternate===null&&t(y,M),S=a(G,S,B),R===null?L=G:R.sibling=G,R=G,M=q}if(B===b.length)return n(y,M),xe&&_n(y,B),L;if(M===null){for(;B<b.length;B++)M=d(y,b[B],A),M!==null&&(S=a(M,S,B),R===null?L=M:R.sibling=M,R=M);return xe&&_n(y,B),L}for(M=r(y,M);B<b.length;B++)q=m(M,y,B,b[B],A),q!==null&&(e&&q.alternate!==null&&M.delete(q.key===null?B:q.key),S=a(q,S,B),R===null?L=q:R.sibling=q,R=q);return e&&M.forEach(function(Q){return t(y,Q)}),xe&&_n(y,B),L}function E(y,S,b,A){var L=ta(b);if(typeof L!="function")throw Error(F(150));if(b=L.call(b),b==null)throw Error(F(151));for(var R=L=null,M=S,B=S=0,q=null,G=b.next();M!==null&&!G.done;B++,G=b.next()){M.index>B?(q=M,M=null):q=M.sibling;var Q=h(y,M,G.value,A);if(Q===null){M===null&&(M=q);break}e&&M&&Q.alternate===null&&t(y,M),S=a(Q,S,B),R===null?L=Q:R.sibling=Q,R=Q,M=q}if(G.done)return n(y,M),xe&&_n(y,B),L;if(M===null){for(;!G.done;B++,G=b.next())G=d(y,G.value,A),G!==null&&(S=a(G,S,B),R===null?L=G:R.sibling=G,R=G);return xe&&_n(y,B),L}for(M=r(y,M);!G.done;B++,G=b.next())G=m(M,y,B,G.value,A),G!==null&&(e&&G.alternate!==null&&M.delete(G.key===null?B:G.key),S=a(G,S,B),R===null?L=G:R.sibling=G,R=G);return e&&M.forEach(function($){return t(y,$)}),xe&&_n(y,B),L}function O(y,S,b,A){if(typeof b=="object"&&b!==null&&b.type===ai&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Rs:e:{for(var L=b.key,R=S;R!==null;){if(R.key===L){if(L=b.type,L===ai){if(R.tag===7){n(y,R.sibling),S=i(R,b.props.children),S.return=y,y=S;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===zr&&mp(L)===R.type){n(y,R.sibling),S=i(R,b.props),S.ref=sa(y,R,b),S.return=y,y=S;break e}n(y,R);break}else t(y,R);R=R.sibling}b.type===ai?(S=Ln(b.props.children,y.mode,A,b.key),S.return=y,y=S):(A=vo(b.type,b.key,b.props,null,y.mode,A),A.ref=sa(y,S,b),A.return=y,y=A)}return s(y);case ii:e:{for(R=b.key;S!==null;){if(S.key===R)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){n(y,S.sibling),S=i(S,b.children||[]),S.return=y,y=S;break e}else{n(y,S);break}else t(y,S);S=S.sibling}S=Cu(b,y.mode,A),S.return=y,y=S}return s(y);case zr:return R=b._init,O(y,S,R(b._payload),A)}if(ga(b))return T(y,S,b,A);if(ta(b))return E(y,S,b,A);Ws(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(n(y,S.sibling),S=i(S,b),S.return=y,y=S):(n(y,S),S=Eu(b,y.mode,A),S.return=y,y=S),s(y)):n(y,S)}return O}var Li=dg(!0),fg=dg(!1),ds={},yr=fn(ds),qa=fn(ds),Ka=fn(ds);function kn(e){if(e===ds)throw Error(F(174));return e}function Ud(e,t){switch(ge(Ka,t),ge(qa,e),ge(yr,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tc(t,e)}Te(yr),ge(yr,t)}function Oi(){Te(yr),Te(qa),Te(Ka)}function hg(e){kn(Ka.current);var t=kn(yr.current),n=tc(t,e.type);t!==n&&(ge(qa,e),ge(yr,n))}function Fd(e){qa.current===e&&(Te(yr),Te(qa))}var we=fn(0);function jo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yu=[];function Bd(){for(var e=0;e<yu.length;e++)yu[e]._workInProgressVersionPrimary=null;yu.length=0}var co=Mr.ReactCurrentDispatcher,_u=Mr.ReactCurrentBatchConfig,jn=0,ke=null,Ue=null,ze=null,zo=!1,Aa=!1,Xa=0,bx=0;function Ze(){throw Error(F(321))}function jd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function zd(e,t,n,r,i,a){if(jn=a,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,co.current=e===null||e.memoizedState===null?kx:Px,e=n(r,i),Aa){a=0;do{if(Aa=!1,Xa=0,25<=a)throw Error(F(301));a+=1,ze=Ue=null,t.updateQueue=null,co.current=Ax,e=n(r,i)}while(Aa)}if(co.current=Ho,t=Ue!==null&&Ue.next!==null,jn=0,ze=Ue=ke=null,zo=!1,t)throw Error(F(300));return e}function Hd(){var e=Xa!==0;return Xa=0,e}function pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ke.memoizedState=ze=e:ze=ze.next=e,ze}function Kt(){if(Ue===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=ze===null?ke.memoizedState:ze.next;if(t!==null)ze=t,Ue=e;else{if(e===null)throw Error(F(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ze===null?ke.memoizedState=ze=e:ze=ze.next=e}return ze}function Ya(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Kt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((jn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,ke.lanes|=c,zn|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,ur(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,ke.lanes|=a,zn|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=Kt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ur(a,t.memoizedState)||(yt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function pg(){}function mg(e,t){var n=ke,r=Kt(),i=t(),a=!ur(r.memoizedState,i);if(a&&(r.memoizedState=i,yt=!0),r=r.queue,Vd(yg.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Qa(9,gg.bind(null,n,r,i,t),void 0,null),We===null)throw Error(F(349));jn&30||vg(n,t,i)}return i}function vg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gg(e,t,n,r){t.value=n,t.getSnapshot=r,_g(t)&&Tg(e)}function yg(e,t,n){return n(function(){_g(t)&&Tg(e)})}function _g(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch{return!0}}function Tg(e){var t=Or(e,1);t!==null&&sr(t,e,1,-1)}function vp(e){var t=pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=wx.bind(null,ke,e),[t.memoizedState,e]}function Qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sg(){return Kt().memoizedState}function fo(e,t,n,r){var i=pr();ke.flags|=e,i.memoizedState=Qa(1|t,n,void 0,r===void 0?null:r)}function vl(e,t,n,r){var i=Kt();r=r===void 0?null:r;var a=void 0;if(Ue!==null){var s=Ue.memoizedState;if(a=s.destroy,r!==null&&jd(r,s.deps)){i.memoizedState=Qa(t,n,a,r);return}}ke.flags|=e,i.memoizedState=Qa(1|t,n,a,r)}function gp(e,t){return fo(8390656,8,e,t)}function Vd(e,t){return vl(2048,8,e,t)}function xg(e,t){return vl(4,2,e,t)}function bg(e,t){return vl(4,4,e,t)}function Eg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cg(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,Eg.bind(null,t,e),n)}function $d(){}function wg(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kg(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pg(e,t,n){return jn&21?(ur(n,t)||(n=Lv(),ke.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Ex(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=_u.transition;_u.transition={};try{e(!1),t()}finally{me=n,_u.transition=r}}function Ag(){return Kt().memoizedState}function Cx(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ig(e))Lg(t,n);else if(n=og(e,t,n,r),n!==null){var i=ft();sr(n,e,r,i),Og(n,t,r)}}function wx(e,t,n){var r=tn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ig(e))Lg(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ur(o,s)){var l=t.interleaved;l===null?(i.next=i,Md(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=og(e,t,i,r),n!==null&&(i=ft(),sr(n,e,r,i),Og(n,t,r))}}function Ig(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Lg(e,t){Aa=zo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Og(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sd(e,n)}}var Ho={readContext:qt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},kx={readContext:qt,useCallback:function(e,t){return pr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:gp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fo(4194308,4,Eg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var n=pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cx.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=pr();return e={current:e},t.memoizedState=e},useState:vp,useDebugValue:$d,useDeferredValue:function(e){return pr().memoizedState=e},useTransition:function(){var e=vp(!1),t=e[0];return e=Ex.bind(null,e[1]),pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,i=pr();if(xe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),We===null)throw Error(F(349));jn&30||vg(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,gp(yg.bind(null,r,a,e),[e]),r.flags|=2048,Qa(9,gg.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=pr(),t=We.identifierPrefix;if(xe){var n=wr,r=Cr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Px={readContext:qt,useCallback:wg,useContext:qt,useEffect:Vd,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:bg,useMemo:kg,useReducer:Tu,useRef:Sg,useState:function(){return Tu(Ya)},useDebugValue:$d,useDeferredValue:function(e){var t=Kt();return Pg(t,Ue.memoizedState,e)},useTransition:function(){var e=Tu(Ya)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:pg,useSyncExternalStore:mg,useId:Ag,unstable_isNewReconciler:!1},Ax={readContext:qt,useCallback:wg,useContext:qt,useEffect:Vd,useImperativeHandle:Cg,useInsertionEffect:xg,useLayoutEffect:bg,useMemo:kg,useReducer:Su,useRef:Sg,useState:function(){return Su(Ya)},useDebugValue:$d,useDeferredValue:function(e){var t=Kt();return Ue===null?t.memoizedState=e:Pg(t,Ue.memoizedState,e)},useTransition:function(){var e=Su(Ya)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:pg,useSyncExternalStore:mg,useId:Ag,unstable_isNewReconciler:!1};function Di(e,t){try{var n="",r=t;do n+=nS(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function xu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ec(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ix=typeof WeakMap=="function"?WeakMap:Map;function Dg(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$o||($o=!0,Rc=r),Ec(e,t)},n}function Rg(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ec(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ec(e,t),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function yp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ix;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$x.bind(null,e,t,n),t.then(e,e))}function _p(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var Lx=Mr.ReactCurrentOwner,yt=!1;function at(e,t,n,r){t.child=e===null?fg(t,null,n,r):Li(t,e.child,n,r)}function Sp(e,t,n,r,i){n=n.render;var a=t.ref;return xi(t,i),r=zd(e,t,n,r,a,i),n=Hd(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dr(e,t,i)):(xe&&n&&Ad(t),t.flags|=1,at(e,t,r,i),t.child)}function xp(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Jd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Mg(e,t,a,r,i)):(e=vo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(s,r)&&e.ref===t.ref)return Dr(e,t,i)}return t.flags|=1,e=rn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Mg(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Va(a,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Dr(e,t,i)}return Cc(e,t,n,r,i)}function Ng(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(mi,Et),Et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(mi,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ge(mi,Et),Et|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ge(mi,Et),Et|=r;return at(e,t,i,n),t.child}function Ug(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cc(e,t,n,r,i){var a=Tt(n)?Fn:rt.current;return a=Ai(t,a),xi(t,i),n=zd(e,t,n,r,a,i),r=Hd(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dr(e,t,i)):(xe&&r&&Ad(t),t.flags|=1,at(e,t,n,i),t.child)}function bp(e,t,n,r,i){if(Tt(n)){var a=!0;Ro(t)}else a=!1;if(xi(t,i),t.stateNode===null)ho(e,t),cg(t,n,r),bc(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Tt(n)?Fn:rt.current,u=Ai(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&pp(t,s,r,u),Hr=!1;var h=t.memoizedState;s.state=h,Bo(t,r,s,i),l=t.memoizedState,o!==r||h!==l||_t.current||Hr?(typeof c=="function"&&(xc(t,n,c,r),l=t.memoizedState),(o=Hr||hp(t,n,o,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,lg(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:rr(t.type,o),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=Tt(n)?Fn:rt.current,l=Ai(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&pp(t,s,r,l),Hr=!1,h=t.memoizedState,s.state=h,Bo(t,r,s,i);var T=t.memoizedState;o!==d||h!==T||_t.current||Hr?(typeof m=="function"&&(xc(t,n,m,r),T=t.memoizedState),(u=Hr||hp(t,n,u,r,h,T,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),s.props=r,s.state=T,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wc(e,t,n,r,a,i)}function wc(e,t,n,r,i,a){Ug(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&lp(t,n,!1),Dr(e,t,a);r=t.stateNode,Lx.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Li(t,e.child,null,a),t.child=Li(t,null,o,a)):at(e,t,o,a),t.memoizedState=r.state,i&&lp(t,n,!0),t.child}function Fg(e){var t=e.stateNode;t.pendingContext?op(e,t.pendingContext,t.pendingContext!==t.context):t.context&&op(e,t.context,!1),Ud(e,t.containerInfo)}function Ep(e,t,n,r,i){return Ii(),Ld(i),t.flags|=256,at(e,t,n,r),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Pc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bg(e,t,n){var r=t.pendingProps,i=we.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(we,i&1),e===null)return Tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=_l(s,r,0,null),e=Ln(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pc(n),t.memoizedState=kc,e):Wd(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ox(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rn(o,a):(a=Ln(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Pc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=kc,r}return a=e.child,e=a.sibling,r=rn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wd(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,n,r){return r!==null&&Ld(r),Li(t,e.child,null,n),e=Wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ox(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=xu(Error(F(422))),Gs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=_l({mode:"visible",children:r.children},i,0,null),a=Ln(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Li(t,e.child,null,s),t.child.memoizedState=Pc(s),t.memoizedState=kc,a);if(!(t.mode&1))return Gs(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(F(419)),r=xu(a,r,void 0),Gs(e,t,s,r)}if(o=(s&e.childLanes)!==0,yt||o){if(r=We,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Or(e,i),sr(r,e,i,-1))}return Qd(),r=xu(Error(F(421))),Gs(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Wx.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,kt=Jr(i.nextSibling),Pt=t,xe=!0,ir=null,e!==null&&(Ht[Vt++]=Cr,Ht[Vt++]=wr,Ht[Vt++]=Bn,Cr=e.id,wr=e.overflow,Bn=t),t=Wd(t,r.children),t.flags|=4096,t)}function Cp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sc(e.return,t,n)}function bu(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function jg(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(at(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,n,t);else if(e.tag===19)Cp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(we,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bu(t,!0,n,null,a);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dx(e,t,n){switch(t.tag){case 3:Fg(t),Ii();break;case 5:hg(t);break;case 1:Tt(t.type)&&Ro(t);break;case 4:Ud(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ge(Uo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?Bg(e,t,n):(ge(we,we.current&1),e=Dr(e,t,n),e!==null?e.sibling:null);ge(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,Ng(e,t,n)}return Dr(e,t,n)}var zg,Ac,Hg,Vg;zg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ac=function(){};Hg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,kn(yr.current);var a=null;switch(n){case"input":i=Qu(e,i),r=Qu(e,r),a=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),a=[];break;case"textarea":i=ec(e,i),r=ec(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Oo)}rc(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Vg=function(e,t,n,r){n!==r&&(t.flags|=4)};function oa(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rx(e,t,n){var r=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return Tt(t.type)&&Do(),et(t),null;case 3:return r=t.stateNode,Oi(),Te(_t),Te(rt),Bd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Uc(ir),ir=null))),Ac(e,t),et(t),null;case 5:Fd(t);var i=kn(Ka.current);if(n=t.type,e!==null&&t.stateNode!=null)Hg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return et(t),null}if(e=kn(yr.current),$s(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mr]=t,r[Ga]=a,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<_a.length;i++)_e(_a[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Rh(r,a),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_e("invalid",r);break;case"textarea":Nh(r,a),_e("invalid",r)}rc(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Vs(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Vs(r.textContent,o,e),i=["children",""+o]):Na.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ms(r),Mh(r,a,!0);break;case"textarea":Ms(r),Uh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Oo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[mr]=t,e[Ga]=r,zg(e,t,!1,!1),t.stateNode=e;e:{switch(s=nc(n,r),n){case"dialog":_e("cancel",e),_e("close",e),i=r;break;case"iframe":case"object":case"embed":_e("load",e),i=r;break;case"video":case"audio":for(i=0;i<_a.length;i++)_e(_a[i],e);i=r;break;case"source":_e("error",e),i=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),i=r;break;case"details":_e("toggle",e),i=r;break;case"input":Rh(e,r),i=Qu(e,r),_e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Nh(e,r),i=ec(e,r),_e("invalid",e);break;default:i=r}rc(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?_v(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gv(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ua(e,l):typeof l=="number"&&Ua(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Na.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_e("scroll",e):l!=null&&md(e,a,l,s))}switch(n){case"input":Ms(e),Mh(e,r,!1);break;case"textarea":Ms(e),Uh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?yi(e,!!r.multiple,a,!1):r.defaultValue!=null&&yi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Oo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Vg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=kn(Ka.current),kn(yr.current),$s(t)){if(r=t.stateNode,n=t.memoizedProps,r[mr]=t,(a=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=t,t.stateNode=r}return et(t),null;case 13:if(Te(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&kt!==null&&t.mode&1&&!(t.flags&128))sg(),Ii(),t.flags|=98560,a=!1;else if(a=$s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[mr]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),a=!1}else ir!==null&&(Uc(ir),ir=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Fe===0&&(Fe=3):Qd())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Oi(),Ac(e,t),e===null&&$a(t.stateNode.containerInfo),et(t),null;case 10:return Rd(t.type._context),et(t),null;case 17:return Tt(t.type)&&Do(),et(t),null;case 19:if(Te(we),a=t.memoizedState,a===null)return et(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)oa(a,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=jo(e),s!==null){for(t.flags|=128,oa(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(we,we.current&1|2),t.child}e=e.sibling}a.tail!==null&&De()>Ri&&(t.flags|=128,r=!0,oa(a,!1),t.lanes=4194304)}else{if(!r)if(e=jo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!xe)return et(t),null}else 2*De()-a.renderingStartTime>Ri&&n!==1073741824&&(t.flags|=128,r=!0,oa(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=De(),t.sibling=null,n=we.current,ge(we,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Yd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Mx(e,t){switch(Id(t),t.tag){case 1:return Tt(t.type)&&Do(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),Te(_t),Te(rt),Bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fd(t),null;case 13:if(Te(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(we),null;case 4:return Oi(),null;case 10:return Rd(t.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var qs=!1,tt=!1,Nx=typeof WeakSet=="function"?WeakSet:Set,Y=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function Ic(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var wp=!1;function Ux(e,t){if(hc=Ao,e=qv(),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++c===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pc={focusedElem:e,selectionRange:n},Ao=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,O=T.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?E:rr(t.type,E),O);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(A){Ie(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return T=wp,wp=!1,T}function Ia(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ic(t,n,a)}i=i.next}while(i!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $g(e){var t=e.alternate;t!==null&&(e.alternate=null,$g(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[Ga],delete t[gc],delete t[_x],delete t[Tx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oo));else if(r!==4&&(e=e.child,e!==null))for(Oc(e,t,n),e=e.sibling;e!==null;)Oc(e,t,n),e=e.sibling}function Dc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dc(e,t,n),e=e.sibling;e!==null;)Dc(e,t,n),e=e.sibling}var qe=null,nr=!1;function Br(e,t,n){for(n=n.child;n!==null;)Gg(e,t,n),n=n.sibling}function Gg(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:tt||pi(n,t);case 6:var r=qe,i=nr;qe=null,Br(e,t,n),qe=r,nr=i,qe!==null&&(nr?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(nr?(e=qe,n=n.stateNode,e.nodeType===8?vu(e.parentNode,n):e.nodeType===1&&vu(e,n),za(e)):vu(qe,n.stateNode));break;case 4:r=qe,i=nr,qe=n.stateNode.containerInfo,nr=!0,Br(e,t,n),qe=r,nr=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ic(n,t,s),i=i.next}while(i!==r)}Br(e,t,n);break;case 1:if(!tt&&(pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ie(n,t,o)}Br(e,t,n);break;case 21:Br(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Br(e,t,n),tt=r):Br(e,t,n);break;default:Br(e,t,n)}}function Pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nx),t.forEach(function(r){var i=Gx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qe=o.stateNode,nr=!1;break e;case 3:qe=o.stateNode.containerInfo,nr=!0;break e;case 4:qe=o.stateNode.containerInfo,nr=!0;break e}o=o.return}if(qe===null)throw Error(F(160));Gg(a,s,i),qe=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qg(t,e),t=t.sibling}function qg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),fr(e),r&4){try{Ia(3,e,e.return),gl(3,e)}catch(E){Ie(e,e.return,E)}try{Ia(5,e,e.return)}catch(E){Ie(e,e.return,E)}}break;case 1:tr(t,e),fr(e),r&512&&n!==null&&pi(n,n.return);break;case 5:if(tr(t,e),fr(e),r&512&&n!==null&&pi(n,n.return),e.flags&32){var i=e.stateNode;try{Ua(i,"")}catch(E){Ie(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&pv(i,a),nc(o,s);var u=nc(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?_v(i,d):c==="dangerouslySetInnerHTML"?gv(i,d):c==="children"?Ua(i,d):md(i,c,d,u)}switch(o){case"input":Ju(i,a);break;case"textarea":mv(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?yi(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?yi(i,!!a.multiple,a.defaultValue,!0):yi(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ga]=a}catch(E){Ie(e,e.return,E)}}break;case 6:if(tr(t,e),fr(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(E){Ie(e,e.return,E)}}break;case 3:if(tr(t,e),fr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{za(t.containerInfo)}catch(E){Ie(e,e.return,E)}break;case 4:tr(t,e),fr(e);break;case 13:tr(t,e),fr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Kd=De())),r&4&&Pp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||c,tr(t,e),tt=u):tr(t,e),fr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(h=Y,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ia(4,h,h.return);break;case 1:pi(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(E){Ie(r,n,E)}}break;case 5:pi(h,h.return);break;case 22:if(h.memoizedState!==null){Ip(d);continue}}m!==null?(m.return=h,Y=m):Ip(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yv("display",s))}catch(E){Ie(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){Ie(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tr(t,e),fr(e),r&4&&Pp(e);break;case 21:break;default:tr(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wg(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ua(i,""),r.flags&=-33);var a=kp(e);Dc(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=kp(e);Oc(e,o,s);break;default:throw Error(F(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fx(e,t,n){Y=e,Kg(e)}function Kg(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qs;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||tt;o=qs;var u=tt;if(qs=s,(tt=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?Lp(i):l!==null?(l.return=s,Y=l):Lp(i);for(;a!==null;)Y=a,Kg(a),a=a.sibling;Y=i,qs=o,tt=u}Ap(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Y=a):Ap(e)}}function Ap(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&fp(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fp(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&za(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||t.flags&512&&Lc(t)}catch(h){Ie(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Ip(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Lp(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var a=t.return;try{Lc(t)}catch(l){Ie(t,a,l)}break;case 5:var s=t.return;try{Lc(t)}catch(l){Ie(t,s,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){Y=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Y=o;break}Y=t.return}}var Bx=Math.ceil,Vo=Mr.ReactCurrentDispatcher,Gd=Mr.ReactCurrentOwner,Wt=Mr.ReactCurrentBatchConfig,ue=0,We=null,Me=null,Xe=0,Et=0,mi=fn(0),Fe=0,Ja=null,zn=0,yl=0,qd=0,La=null,vt=null,Kd=0,Ri=1/0,xr=null,$o=!1,Rc=null,en=null,Ks=!1,qr=null,Wo=0,Oa=0,Mc=null,po=-1,mo=0;function ft(){return ue&6?De():po!==-1?po:po=De()}function tn(e){return e.mode&1?ue&2&&Xe!==0?Xe&-Xe:xx.transition!==null?(mo===0&&(mo=Lv()),mo):(e=me,e!==0||(e=window.event,e=e===void 0?16:Fv(e.type)),e):1}function sr(e,t,n,r){if(50<Oa)throw Oa=0,Mc=null,Error(F(185));ls(e,n,r),(!(ue&2)||e!==We)&&(e===We&&(!(ue&2)&&(yl|=n),Fe===4&&$r(e,Xe)),St(e,r),n===1&&ue===0&&!(t.mode&1)&&(Ri=De()+500,pl&&hn()))}function St(e,t){var n=e.callbackNode;xS(e,t);var r=Po(e,e===We?Xe:0);if(r===0)n!==null&&jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jh(n),t===1)e.tag===0?Sx(Op.bind(null,e)):ng(Op.bind(null,e)),gx(function(){!(ue&6)&&hn()}),n=null;else{switch(Ov(r)){case 1:n=Td;break;case 4:n=Av;break;case 16:n=ko;break;case 536870912:n=Iv;break;default:n=ko}n=r0(n,Xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xg(e,t){if(po=-1,mo=0,ue&6)throw Error(F(327));var n=e.callbackNode;if(bi()&&e.callbackNode!==n)return null;var r=Po(e,e===We?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Go(e,r);else{t=r;var i=ue;ue|=2;var a=Qg();(We!==e||Xe!==t)&&(xr=null,Ri=De()+500,In(e,t));do try{Hx();break}catch(o){Yg(e,o)}while(1);Dd(),Vo.current=a,ue=i,Me!==null?t=0:(We=null,Xe=0,t=Fe)}if(t!==0){if(t===2&&(i=lc(e),i!==0&&(r=i,t=Nc(e,i))),t===1)throw n=Ja,In(e,0),$r(e,r),St(e,De()),n;if(t===6)$r(e,r);else{if(i=e.current.alternate,!(r&30)&&!jx(i)&&(t=Go(e,r),t===2&&(a=lc(e),a!==0&&(r=a,t=Nc(e,a))),t===1))throw n=Ja,In(e,0),$r(e,r),St(e,De()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Tn(e,vt,xr);break;case 3:if($r(e,r),(r&130023424)===r&&(t=Kd+500-De(),10<t)){if(Po(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vc(Tn.bind(null,e,vt,xr),t);break}Tn(e,vt,xr);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ar(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bx(r/1960))-r,10<r){e.timeoutHandle=vc(Tn.bind(null,e,vt,xr),r);break}Tn(e,vt,xr);break;case 5:Tn(e,vt,xr);break;default:throw Error(F(329))}}}return St(e,De()),e.callbackNode===n?Xg.bind(null,e):null}function Nc(e,t){var n=La;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=Go(e,t),e!==2&&(t=vt,vt=n,t!==null&&Uc(t)),e}function Uc(e){vt===null?vt=e:vt.push.apply(vt,e)}function jx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~qd,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ar(t),r=1<<n;e[n]=-1,t&=~r}}function Op(e){if(ue&6)throw Error(F(327));bi();var t=Po(e,0);if(!(t&1))return St(e,De()),null;var n=Go(e,t);if(e.tag!==0&&n===2){var r=lc(e);r!==0&&(t=r,n=Nc(e,r))}if(n===1)throw n=Ja,In(e,0),$r(e,t),St(e,De()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,vt,xr),St(e,De()),null}function Xd(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Ri=De()+500,pl&&hn())}}function Hn(e){qr!==null&&qr.tag===0&&!(ue&6)&&bi();var t=ue;ue|=1;var n=Wt.transition,r=me;try{if(Wt.transition=null,me=1,e)return e()}finally{me=r,Wt.transition=n,ue=t,!(ue&6)&&hn()}}function Yd(){Et=mi.current,Te(mi)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vx(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Do();break;case 3:Oi(),Te(_t),Te(rt),Bd();break;case 5:Fd(r);break;case 4:Oi();break;case 13:Te(we);break;case 19:Te(we);break;case 10:Rd(r.type._context);break;case 22:case 23:Yd()}n=n.return}if(We=e,Me=e=rn(e.current,null),Xe=Et=t,Fe=0,Ja=null,qd=yl=zn=0,vt=La=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}wn=null}return e}function Yg(e,t){do{var n=Me;try{if(Dd(),co.current=Ho,zo){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zo=!1}if(jn=0,ze=Ue=ke=null,Aa=!1,Xa=0,Gd.current=null,n===null||n.return===null){Fe=1,Ja=t,Me=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=_p(s);if(m!==null){m.flags&=-257,Tp(m,s,o,a,t),m.mode&1&&yp(a,u,t),t=m,l=u;var T=t.updateQueue;if(T===null){var E=new Set;E.add(l),t.updateQueue=E}else T.add(l);break e}else{if(!(t&1)){yp(a,u,t),Qd();break e}l=Error(F(426))}}else if(xe&&o.mode&1){var O=_p(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Tp(O,s,o,a,t),Ld(Di(l,o));break e}}a=l=Di(l,o),Fe!==4&&(Fe=2),La===null?La=[a]:La.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Dg(a,l,t);dp(a,y);break e;case 1:o=l;var S=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(en===null||!en.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=Rg(a,o,t);dp(a,A);break e}}a=a.return}while(a!==null)}Zg(n)}catch(L){t=L,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function Qg(){var e=Vo.current;return Vo.current=Ho,e===null?Ho:e}function Qd(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||!(zn&268435455)&&!(yl&268435455)||$r(We,Xe)}function Go(e,t){var n=ue;ue|=2;var r=Qg();(We!==e||Xe!==t)&&(xr=null,In(e,t));do try{zx();break}catch(i){Yg(e,i)}while(1);if(Dd(),ue=n,Vo.current=r,Me!==null)throw Error(F(261));return We=null,Xe=0,Fe}function zx(){for(;Me!==null;)Jg(Me)}function Hx(){for(;Me!==null&&!hS();)Jg(Me)}function Jg(e){var t=t0(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Zg(e):Me=t,Gd.current=null}function Zg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mx(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(n=Rx(n,t,Et),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function Tn(e,t,n){var r=me,i=Wt.transition;try{Wt.transition=null,me=1,Vx(e,t,n,r)}finally{Wt.transition=i,me=r}return null}function Vx(e,t,n,r){do bi();while(qr!==null);if(ue&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(bS(e,a),e===We&&(Me=We=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,r0(ko,function(){return bi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wt.transition,Wt.transition=null;var s=me;me=1;var o=ue;ue|=4,Gd.current=null,Ux(e,n),qg(n,e),ux(pc),Ao=!!hc,pc=hc=null,e.current=n,Fx(n),pS(),ue=o,me=s,Wt.transition=a}else e.current=n;if(Ks&&(Ks=!1,qr=e,Wo=i),a=e.pendingLanes,a===0&&(en=null),gS(n.stateNode),St(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($o)throw $o=!1,e=Rc,Rc=null,e;return Wo&1&&e.tag!==0&&bi(),a=e.pendingLanes,a&1?e===Mc?Oa++:(Oa=0,Mc=e):Oa=0,hn(),null}function bi(){if(qr!==null){var e=Ov(Wo),t=Wt.transition,n=me;try{if(Wt.transition=null,me=16>e?16:e,qr===null)var r=!1;else{if(e=qr,qr=null,Wo=0,ue&6)throw Error(F(331));var i=ue;for(ue|=4,Y=e.current;Y!==null;){var a=Y,s=a.child;if(Y.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Ia(8,c,a)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var h=c.sibling,m=c.return;if($g(c),c===u){Y=null;break}if(h!==null){h.return=m,Y=h;break}Y=m}}}var T=a.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}Y=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Y=s;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ia(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Y=y;break e}Y=a.return}}var S=e.current;for(Y=S;Y!==null;){s=Y;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Y=b;else e:for(s=S;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gl(9,o)}}catch(L){Ie(o,o.return,L)}if(o===s){Y=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Y=A;break e}Y=o.return}}if(ue=i,hn(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{me=n,Wt.transition=t}}return!1}function Dp(e,t,n){t=Di(n,t),t=Dg(e,t,1),e=Zr(e,t,1),t=ft(),e!==null&&(ls(e,1,t),St(e,t))}function Ie(e,t,n){if(e.tag===3)Dp(e,e,n);else for(;t!==null;){if(t.tag===3){Dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){e=Di(n,e),e=Rg(t,e,1),t=Zr(t,e,1),e=ft(),t!==null&&(ls(t,1,e),St(t,e));break}}t=t.return}}function $x(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Xe&n)===n&&(Fe===4||Fe===3&&(Xe&130023424)===Xe&&500>De()-Kd?In(e,0):qd|=n),St(e,t)}function e0(e,t){t===0&&(e.mode&1?(t=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):t=1);var n=ft();e=Or(e,t),e!==null&&(ls(e,t,n),St(e,n))}function Wx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function Gx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),e0(e,n)}var t0;t0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,Dx(e,t,n);yt=!!(e.flags&131072)}else yt=!1,xe&&t.flags&1048576&&ig(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ho(e,t),e=t.pendingProps;var i=Ai(t,rt.current);xi(t,n),i=zd(null,t,r,e,i,n);var a=Hd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(a=!0,Ro(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nd(t),i.updater=ml,t.stateNode=i,i._reactInternals=t,bc(t,r,e,n),t=wc(null,t,r,!0,a,n)):(t.tag=0,xe&&a&&Ad(t),at(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kx(r),e=rr(r,e),i){case 0:t=Cc(null,t,r,e,n);break e;case 1:t=bp(null,t,r,e,n);break e;case 11:t=Sp(null,t,r,e,n);break e;case 14:t=xp(null,t,r,rr(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),Cc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),bp(e,t,r,i,n);case 3:e:{if(Fg(t),e===null)throw Error(F(387));r=t.pendingProps,a=t.memoizedState,i=a.element,lg(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Di(Error(F(423)),t),t=Ep(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(F(424)),t),t=Ep(e,t,r,n,i);break e}else for(kt=Jr(t.stateNode.containerInfo.firstChild),Pt=t,xe=!0,ir=null,n=fg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===i){t=Dr(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return hg(t),e===null&&Tc(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,mc(r,i)?s=null:a!==null&&mc(r,a)&&(t.flags|=32),Ug(e,t),at(e,t,s,n),t.child;case 6:return e===null&&Tc(t),null;case 13:return Bg(e,t,n);case 4:return Ud(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),Sp(e,t,r,i,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ge(Uo,r._currentValue),r._currentValue=s,a!==null)if(ur(a.value,s)){if(a.children===i.children&&!_t.current){t=Dr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Pr(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sc(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(F(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Sc(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}at(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xi(t,n),i=qt(i),r=r(i),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,i=rr(r,t.pendingProps),i=rr(r.type,i),xp(e,t,r,i,n);case 15:return Mg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),ho(e,t),t.tag=1,Tt(r)?(e=!0,Ro(t)):e=!1,xi(t,n),cg(t,r,i),bc(t,r,i,n),wc(null,t,r,!0,e,n);case 19:return jg(e,t,n);case 22:return Ng(e,t,n)}throw Error(F(156,t.tag))};function r0(e,t){return Pv(e,t)}function qx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,n,r){return new qx(e,t,n,r)}function Jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kx(e){if(typeof e=="function")return Jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gd)return 11;if(e===yd)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=$t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vo(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Jd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ai:return Ln(n.children,i,a,t);case vd:s=8,i|=8;break;case qu:return e=$t(12,n,t,i|2),e.elementType=qu,e.lanes=a,e;case Ku:return e=$t(13,n,t,i),e.elementType=Ku,e.lanes=a,e;case Xu:return e=$t(19,n,t,i),e.elementType=Xu,e.lanes=a,e;case dv:return _l(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uv:s=10;break e;case cv:s=9;break e;case gd:s=11;break e;case yd:s=14;break e;case zr:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=$t(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ln(e,t,n,r){return e=$t(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=$t(22,e,r,t),e.elementType=dv,e.lanes=n,e.stateNode={isHidden:!1},e}function Eu(e,t,n){return e=$t(6,e,null,t),e.lanes=n,e}function Cu(e,t,n){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zd(e,t,n,r,i,a,s,o,l){return e=new Xx(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=$t(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(a),e}function Yx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function n0(e){if(!e)return on;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Tt(n))return rg(e,n,t)}return t}function i0(e,t,n,r,i,a,s,o,l){return e=Zd(n,r,!0,e,i,a,s,o,l),e.context=n0(null),n=e.current,r=ft(),i=tn(n),a=Pr(r,i),a.callback=t??null,Zr(n,a,i),e.current.lanes=i,ls(e,i,r),St(e,r),e}function Tl(e,t,n,r){var i=t.current,a=ft(),s=tn(i);return n=n0(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(i,t,s),e!==null&&(sr(e,i,s,a),uo(e,i,s)),s}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ef(e,t){Rp(e,t),(e=e.alternate)&&Rp(e,t)}function Qx(){return null}var a0=typeof reportError=="function"?reportError:function(e){console.error(e)};function tf(e){this._internalRoot=e}Sl.prototype.render=tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Tl(e,t,null,null)};Sl.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){Tl(null,e,null,null)}),t[Lr]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vr.length&&t!==0&&t<Vr[n].priority;n++);Vr.splice(n,0,e),n===0&&Uv(e)}};function rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function Jx(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=qo(s);a.call(u)}}var s=i0(t,r,e,0,null,!1,!1,"",Mp);return e._reactRootContainer=s,e[Lr]=s.current,$a(e.nodeType===8?e.parentNode:e),Hn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=qo(l);o.call(u)}}var l=Zd(e,0,!1,null,null,!1,!1,"",Mp);return e._reactRootContainer=l,e[Lr]=l.current,$a(e.nodeType===8?e.parentNode:e),Hn(function(){Tl(t,l,n,r)}),l}function bl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=qo(s);o.call(l)}}Tl(t,s,e,i)}else s=Jx(n,t,e,i,r);return qo(s)}Dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ya(t.pendingLanes);n!==0&&(Sd(t,n|1),St(t,De()),!(ue&6)&&(Ri=De()+500,hn()))}break;case 13:Hn(function(){var r=Or(e,1);if(r!==null){var i=ft();sr(r,e,1,i)}}),ef(e,1)}};xd=function(e){if(e.tag===13){var t=Or(e,134217728);if(t!==null){var n=ft();sr(t,e,134217728,n)}ef(e,134217728)}};Rv=function(e){if(e.tag===13){var t=tn(e),n=Or(e,t);if(n!==null){var r=ft();sr(n,e,t,r)}ef(e,t)}};Mv=function(){return me};Nv=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ac=function(e,t,n){switch(t){case"input":if(Ju(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hl(r);if(!i)throw Error(F(90));hv(r),Ju(r,i)}}}break;case"textarea":mv(e,n);break;case"select":t=n.value,t!=null&&yi(e,!!n.multiple,t,!1)}};xv=Xd;bv=Hn;var Zx={usingClientEntryPoint:!1,Events:[cs,ui,hl,Tv,Sv,Xd]},la={findFiberByHostInstance:Cn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e1={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wv(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xs.isDisabled&&Xs.supportsFiber)try{ul=Xs.inject(e1),gr=Xs}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(t))throw Error(F(200));return Yx(e,t,null,n)};Ot.createRoot=function(e,t){if(!rf(e))throw Error(F(299));var n=!1,r="",i=a0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zd(e,1,!1,null,null,n,!1,r,i),e[Lr]=t.current,$a(e.nodeType===8?e.parentNode:e),new tf(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=wv(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return Hn(e)};Ot.hydrate=function(e,t,n){if(!xl(t))throw Error(F(200));return bl(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!rf(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=a0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=i0(t,null,e,1,n??null,i,!1,a,s),e[Lr]=t.current,$a(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Sl(t)};Ot.render=function(e,t,n){if(!xl(t))throw Error(F(200));return bl(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!xl(e))throw Error(F(40));return e._reactRootContainer?(Hn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};Ot.unstable_batchedUpdates=Xd;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return bl(e,t,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(e){console.error(e)}}s0(),iv.exports=Ot;var t1=iv.exports,Np=t1;Wu.createRoot=Np.createRoot,Wu.hydrateRoot=Np.hydrateRoot;const wu=({linelength:e,collumname:t})=>mt("svg",{width:"300",height:e,style:{position:"absolute",marginTop:"10%",zIndex:1,pointerEvents:"none",justifySelf:"center"},children:[Z("foreignObject",{y:"-10",width:"100%",height:"100%",style:{textAlign:"center"},children:Z("h1",{className:"darkmodelightmodetext",children:t})}),Z("line",{x1:"50%",y1:"40",x2:"50%",y2:e,style:{strokeWidth:2,strokeDasharray:"5 5",pointerEvents:"none"},className:"verticalLineColor"}),Z("line",{x1:"20%",y1:"40",x2:"80%",y2:"40",style:{strokeWidth:2,strokeDasharray:"5 5",pointerEvents:"none"},className:"verticalLineColor"})]});var Ta;typeof window<"u"?Ta=window:typeof bo<"u"?Ta=bo:typeof self<"u"?Ta=self:Ta={};var nf=Ta;const I=Xt(nf),r1={},n1=Object.freeze(Object.defineProperty({__proto__:null,default:r1},Symbol.toStringTag,{value:"Module"})),i1=AT(n1);var Up=typeof bo<"u"?bo:typeof window<"u"?window:{},a1=i1,Sa;typeof document<"u"?Sa=document:(Sa=Up["__GLOBAL_DOCUMENT_CACHE@4"],Sa||(Sa=Up["__GLOBAL_DOCUMENT_CACHE@4"]=a1));var s1=Sa;const j=Xt(s1);var o1=l1;function l1(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}const u1=Xt(o1);var Fc={exports:{}};(function(e,t){function n(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var c=String(l),d=r[c.toLowerCase()];if(d)return d;var d=i[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var h=r[c.toLowerCase()];if(h)return h===d;var h=i[c.toLowerCase()];if(h)return h===d}else if(typeof c=="number")return c===d;return!1}},t=e.exports=n;var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var s=t.names=t.title={};for(a in r)s[r[a]]=a;for(var o in i)r[o]=i[o]})(Fc,Fc.exports);var c1=Fc.exports;const re=Xt(c1);var d1=h1,f1=Object.prototype.toString;function h1(e){if(!e)return!1;var t=f1.call(e);return t==="[object Function]"||typeof e=="function"&&t!=="[object RegExp]"||typeof window<"u"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}var ku=function(e){return e.replace(/^\s+|\s+$/g,"")},p1=function(e){return Object.prototype.toString.call(e)==="[object Array]"},m1=function(e){if(!e)return{};for(var t={},n=ku(e).split(`
`),r=0;r<n.length;r++){var i=n[r],a=i.indexOf(":"),s=ku(i.slice(0,a)).toLowerCase(),o=ku(i.slice(a+1));typeof t[s]>"u"?t[s]=o:p1(t[s])?t[s].push(o):t[s]=[t[s],o]}return t},v1=y1,g1=Object.prototype.hasOwnProperty;function y1(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)g1.call(n,r)&&(e[r]=n[r])}return e}var o0=nf,_1=d1,T1=m1,S1=v1,x1=nn;nn.XMLHttpRequest=o0.XMLHttpRequest||w1;nn.XDomainRequest="withCredentials"in new nn.XMLHttpRequest?nn.XMLHttpRequest:o0.XDomainRequest;b1(["get","put","post","patch","head","delete"],function(e){nn[e==="delete"?"del":e]=function(t,n,r){return n=l0(t,n,r),n.method=e.toUpperCase(),u0(n)}});function b1(e,t){for(var n=0;n<e.length;n++)t(e[n])}function E1(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l0(e,t,n){var r=e;return _1(t)?(n=t,typeof e=="string"&&(r={uri:e})):r=S1(t,{uri:e}),r.callback=n,r}function nn(e,t,n){return t=l0(e,t,n),u0(t)}function u0(e){if(typeof e.callback>"u")throw new Error("callback argument missing");var t=!1,n=function(b,A,L){t||(t=!0,e.callback(b,A,L))};function r(){o.readyState===4&&setTimeout(s,0)}function i(){var S=void 0;if(o.response?S=o.response:S=o.responseText||C1(o),E)try{S=JSON.parse(S)}catch{}return S}function a(S){return clearTimeout(O),S instanceof Error||(S=new Error(""+(S||"Unknown XMLHttpRequest Error"))),S.statusCode=0,n(S,y)}function s(){if(!u){var S;clearTimeout(O),e.useXDR&&o.status===void 0?S=200:S=o.status===1223?204:o.status;var b=y,A=null;return S!==0?(b={body:i(),statusCode:S,method:d,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(b.headers=T1(o.getAllResponseHeaders()))):A=new Error("Internal XMLHttpRequest Error"),n(A,b,b.body)}}var o=e.xhr||null;o||(e.cors||e.useXDR?o=new nn.XDomainRequest:o=new nn.XMLHttpRequest);var l,u,c=o.url=e.uri||e.url,d=o.method=e.method||"GET",h=e.body||e.data,m=o.headers=e.headers||{},T=!!e.sync,E=!1,O,y={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:o};if("json"in e&&e.json!==!1&&(E=!0,m.accept||m.Accept||(m.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),h=JSON.stringify(e.json===!0?h:e.json))),o.onreadystatechange=r,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=a,o.open(d,c,!T,e.username,e.password),T||(o.withCredentials=!!e.withCredentials),!T&&e.timeout>0&&(O=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var S=new Error("XMLHttpRequest timeout");S.code="ETIMEDOUT",a(S)}},e.timeout)),o.setRequestHeader)for(l in m)m.hasOwnProperty(l)&&o.setRequestHeader(l,m[l]);else if(e.headers&&!E1(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(o.responseType=e.responseType),"beforeSend"in e&&typeof e.beforeSend=="function"&&e.beforeSend(o),o.send(h||null),o}function C1(e){if(e.responseType==="document")return e.responseXML;var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";return e.responseType===""&&!t?e.responseXML:null}function w1(){}const c0=Xt(x1);var d0={exports:{}},af=Object.create||function(){function e(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function wt(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}wt.prototype=af(Error.prototype);wt.prototype.constructor=wt;wt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function sf(e){function t(r,i,a,s){return(r|0)*3600+(i|0)*60+(a|0)+(s|0)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function Da(){this.values=af(null)}Da.prototype={set:function(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(e,t),!0):!1}};function xa(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if(typeof i[a]=="string"){var s=i[a].split(n);if(s.length===2){var o=s[0],l=s[1];t(o,l)}}}function k1(e,t,n){var r=e;function i(){var o=sf(e);if(o===null)throw new wt(wt.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){var u=new Da;xa(o,function(c,d){switch(c){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===d){u.set(c,n[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var m=d.split(","),T=m[0];u.integer(c,T),u.percent(c,T)&&u.set("snapToLines",!1),u.alt(c,T,["auto"]),m.length===2&&u.alt("lineAlign",m[1],["start","middle","end"]);break;case"position":m=d.split(","),u.percent(c,m[0]),m.length===2&&u.alt("positionAlign",m[1],["start","middle","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","middle","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical",""),l.line=u.get("line","auto"),l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100),l.align=u.get("align","middle"),l.position=u.get("position",{start:0,left:0,middle:50,end:100,right:100},l.align),l.positionAlign=u.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},l.align)}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=i(),s(),e.substr(0,3)!=="-->")throw new wt(wt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);e=e.substr(3),s(),t.endTime=i(),s(),a(e,t)}var P1={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},A1={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},I1={v:"title",lang:"lang"},Fp={rt:"ruby"};function f0(e,t){function n(){if(!t)return null;function T(O){return t=t.substr(O.length),O}var E=t.match(/^([^<]*)(<[^>]*>?)?/);return T(E[1]?E[1]:E[2])}function r(T){return P1[T]}function i(T){for(;m=T.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)T=T.replace(m[0],r);return T}function a(T,E){return!Fp[E.localName]||Fp[E.localName]===T.localName}function s(T,E){var O=A1[T];if(!O)return null;var y=e.document.createElement(O);y.localName=O;var S=I1[T];return S&&E&&(y[S]=E.trim()),y}for(var o=e.document.createElement("div"),l=o,u,c=[];(u=n())!==null;){if(u[0]==="<"){if(u[1]==="/"){c.length&&c[c.length-1]===u.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var d=sf(u.substr(1,u.length-2)),h;if(d){h=e.document.createProcessingInstruction("timestamp",d),l.appendChild(h);continue}var m=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m||(h=s(m[1],m[3]),!h)||!a(l,h))continue;m[2]&&(h.className=m[2].substr(1).replace("."," ")),c.push(m[1]),l.appendChild(h),l=h;continue}l.appendChild(e.document.createTextNode(i(u)))}return o}var Bp=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function L1(e){for(var t=0;t<Bp.length;t++){var n=Bp[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function O1(e){var t=[],n="",r;if(!e||!e.childNodes)return"ltr";function i(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function a(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return a(o);if(l.childNodes)return i(o,l),a(o)}for(i(t,e);n=a(t);)for(var s=0;s<n.length;s++)if(r=n.charCodeAt(s),L1(r))return"rtl";return"ltr"}function D1(e){if(typeof e.line=="number"&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)n[i].mode==="showing"&&r++;return++r*-1}function El(){}El.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])};El.prototype.formatStyle=function(e,t){return e===0?0:e+t};function Ko(e,t,n){El.call(this),this.cue=t,this.cueDiv=f0(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:O1(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"middle":i=t.position-t.size/2;break;case"end":i=t.position-t.size;break}t.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Ko.prototype=af(El.prototype);Ko.prototype.constructor=Ko;function ut(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==void 0?t:e.lineHeight}ut.prototype.move=function(e,t){switch(t=t!==void 0?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}};ut.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};ut.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1};ut.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};ut.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};ut.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)};ut.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};ut.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i};function R1(e,t,n,r){function i(O,y){for(var S,b=new ut(O),A=1,L=0;L<y.length;L++){for(;O.overlapsOppositeAxis(n,y[L])||O.within(n)&&O.overlapsAny(r);)O.move(y[L]);if(O.within(n))return O;var R=O.intersectPercentage(n);A>R&&(S=new ut(O),A=R),O=new ut(b)}return S||b}var a=new ut(t),s=t.cue,o=D1(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=a.lineHeight,d=c*Math.round(o),h=n[u]+c,m=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=s.vertical===""?n.height:n.width,l=l.reverse()),a.move(m,d)}else{var T=a.lineHeight/n.height*100;switch(s.lineAlign){case"middle":o-=T/2;break;case"end":o-=T;break}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new ut(t)}var E=i(a,l);t.move(E.toCSSCompatValues(n))}function Vi(){}Vi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};Vi.convertCueToDOMTree=function(e,t){return!e||!t?null:f0(e,t)};var M1=.05,N1="sans-serif",U1="1.5%";Vi.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=U1,n.appendChild(r);function i(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!i(t)){for(var a=0;a<t.length;a++)r.appendChild(t[a].displayState);return}var s=[],o=ut.getSimpleBoxPosition(r),l=Math.round(o.height*M1*100)/100,u={font:l+"px "+N1};(function(){for(var c,d,h=0;h<t.length;h++)d=t[h],c=new Ko(e,d,u),r.appendChild(c.div),R1(e,c,o,s),d.displayState=c.div,s.push(ut.getSimpleBoxPosition(c))})()};Vi.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Vi.Parser.prototype={reportOrThrowError:function(e){if(e instanceof wt)this.onparsingerror&&this.onparsingerror(e);else throw e},parse:function(e){var t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){for(var c=t.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,t.buffer=c.substr(d),h}function r(c){var d=new Da;if(xa(c,function(m,T){switch(m){case"id":d.set(m,T);break;case"width":d.percent(m,T);break;case"lines":d.integer(m,T);break;case"regionanchor":case"viewportanchor":var E=T.split(",");if(E.length!==2)break;var O=new Da;if(O.percent("x",E[0]),O.percent("y",E[1]),!O.has("x")||!O.has("y"))break;d.set(m+"X",O.get("x")),d.set(m+"Y",O.get("y"));break;case"scroll":d.alt(m,T,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(t.vttjs.VTTRegion||t.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),t.onregion&&t.onregion(h),t.regionList.push({id:d.get("id"),region:h})}}function i(c){var d=new Da;xa(c,function(h,m){switch(h){case"MPEGT":d.integer(h+"S",m);break;case"LOCA":d.set(h+"L",sf(m));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?xa(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":i(h);break}},/=/):xa(c,function(d,h){switch(d){case"Region":r(h);break}},/:/)}try{var s;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=n();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new wt(wt.Errors.BadSignature);t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:s=n(),t.state){case"HEADER":/:/.test(s)?a(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":try{k1(s,t.cue,t.regionList)}catch(c){t.reportOrThrowError(c),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s;continue;case"BADCUE":s||(t.state="ID");continue}}}catch(c){t.reportOrThrowError(c),t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL")throw new wt(wt.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var F1=Vi,B1="auto",j1={"":1,lr:1,rl:1},z1={start:1,middle:1,end:1,left:1,right:1};function H1(e){if(typeof e!="string")return!1;var t=j1[e.toLowerCase()];return t?e.toLowerCase():!1}function Pu(e){if(typeof e!="string")return!1;var t=z1[e.toLowerCase()];return t?e.toLowerCase():!1}function h0(e,t,n){this.hasBeenReset=!1;var r="",i=!1,a=e,s=t,o=n,l=null,u="",c=!0,d="auto",h="start",m=50,T="middle",E=50,O="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(y){r=""+y}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(y){i=!!y}},startTime:{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");a=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");s=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(y){o=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(y){var S=H1(y);if(S===!1)throw new SyntaxError("An invalid or illegal string was specified.");u=S,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(y){c=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(y){if(typeof y!="number"&&y!==B1)throw new SyntaxError("An invalid number or illegal string was specified.");d=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(y){var S=Pu(y);if(!S)throw new SyntaxError("An invalid or illegal string was specified.");h=S,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return m},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");m=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(y){var S=Pu(y);if(!S)throw new SyntaxError("An invalid or illegal string was specified.");T=S,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return E},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");E=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return O},set:function(y){var S=Pu(y);if(!S)throw new SyntaxError("An invalid or illegal string was specified.");O=S,this.hasBeenReset=!0}}}),this.displayState=void 0}h0.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var V1=h0,$1={"":!0,up:!0};function W1(e){if(typeof e!="string")return!1;var t=$1[e.toLowerCase()];return t?e.toLowerCase():!1}function ua(e){return typeof e=="number"&&e>=0&&e<=100}function G1(){var e=100,t=3,n=0,r=100,i=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(o){if(!ua(o))throw new Error("Width must be between 0 and 100.");e=o}},lines:{enumerable:!0,get:function(){return t},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");t=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!ua(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!ua(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!ua(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!ua(o))throw new Error("ViewportAnchorX must be between 0 and 100.");i=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=W1(o);if(l===!1)throw new SyntaxError("An invalid or illegal string was specified.");s=l}}})}var q1=G1,Rr=nf,qn=d0.exports={WebVTT:F1,VTTCue:V1,VTTRegion:q1};Rr.vttjs=qn;Rr.WebVTT=qn.WebVTT;var K1=qn.VTTCue,X1=qn.VTTRegion,Y1=Rr.VTTCue,Q1=Rr.VTTRegion;qn.shim=function(){Rr.VTTCue=K1,Rr.VTTRegion=X1};qn.restore=function(){Rr.VTTCue=Y1,Rr.VTTRegion=Q1};Rr.VTTCue||qn.shim();var J1=d0.exports;const jp=Xt(J1);var p0={exports:{}};(function(e,t){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var m=o.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var T=i.exec(m.path);m.netLoc=T[1],m.path=T[2]}m.netLoc&&!m.path&&(m.path="/");var E={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(E.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)E.path=m.path,h.params||(E.params=m.params,h.query||(E.query=m.query));else{var O=m.path,y=O.substring(0,O.lastIndexOf("/")+1)+h.path;E.path=o.normalizePath(y)}return E.path===null&&(E.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(E)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};e.exports=o})()})(p0);var Z1=p0.exports;const zp=Xt(Z1);/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */function Bc(){return Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}function of(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function eb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lf=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(r,i){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(i)},t.off=function(r,i){if(!this.listeners[r])return!1;var a=this.listeners[r].indexOf(i);return this.listeners[r].splice(a,1),a>-1},t.trigger=function(r){var i=this.listeners[r],a,s,o;if(i)if(arguments.length===2)for(s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(o=Array.prototype.slice.call(arguments,1),s=i.length,a=0;a<s;++a)i[a].apply(this,o)},t.dispose=function(){this.listeners={}},t.pipe=function(r){this.on("data",function(i){r.push(i)})},e}(),tb=function(e){of(t,e);function t(){var r;return r=e.call(this)||this,r.buffer="",r}var n=t.prototype;return n.push=function(i){var a;for(this.buffer+=i,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},t}(lf),rb=function(){var t="[^=]*",n='"[^"]*"|[^,]*',r="(?:"+t+")=(?:"+n+")";return new RegExp("(?:^|,)("+r+")")},ca=function(t){for(var n=t.split(rb()),r={},i=n.length,a;i--;)n[i]!==""&&(a=/([^=]*)=(.*)/.exec(n[i]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),r[a[0]]=a[1]);return r},nb=function(e){of(t,e);function t(){var r;return r=e.call(this)||this,r.customParsers=[],r.tagMappers=[],r}var n=t.prototype;return n.push=function(i){var a=this,s,o;if(i=i.trim(),i.length!==0){if(i[0]!=="#"){this.trigger("data",{type:"uri",uri:i});return}var l=this.tagMappers.reduce(function(u,c){var d=c(i);return d===i?u:u.concat([d])},[i]);l.forEach(function(u){for(var c=0;c<a.customParsers.length;c++)if(a.customParsers[c].call(a,u))return;if(u.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"totalduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"byterange"},s[1]&&(o.length=parseInt(s[1],10)),s[2]&&(o.offset=parseInt(s[2],10)),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var d=ca(s[1]);if(d.URI&&(o.uri=d.URI),d.BYTERANGE){var h=d.BYTERANGE.split("@"),m=h[0],T=h[1];o.byterange={},m&&(o.byterange.length=parseInt(m,10)),T&&(o.byterange.offset=parseInt(T,10))}}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=ca(s[1]),o.attributes.RESOLUTION){var E=o.attributes.RESOLUTION.split("x"),O={};E[0]&&(O.width=parseInt(E[0],10)),E[1]&&(O.height=parseInt(E[1],10)),o.attributes.RESOLUTION=O}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=ca(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=ca(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=ca(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}a.trigger("data",{type:"tag",data:u.slice(4)})})}},n.addParser=function(i){var a=this,s=i.expression,o=i.customType,l=i.dataParser,u=i.segment;typeof l!="function"&&(l=function(d){return d}),this.customParsers.push(function(c){var d=s.exec(c);if(d)return a.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},n.addTagMapper=function(i){var a=i.expression,s=i.map,o=function(u){return a.test(u)?s(u):u};this.tagMappers.push(o)},t}(lf);function ib(e){for(var t=I.atob(e||""),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var Hp=function(e){of(t,e);function t(){var r;r=e.call(this)||this,r.lineStream=new tb,r.parseStream=new nb,r.lineStream.pipe(r.parseStream);var i=eb(r),a=[],s={},o,l,u=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",h=0;return r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},r.parseStream.on("data",function(m){var T,E;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var S={};"length"in m&&(s.byterange=S,S.length=m.length,"offset"in m||(this.trigger("info",{message:"defaulting offset to zero"}),m.offset=0)),"offset"in m&&(s.byterange=S,S.offset=m.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.duration>0&&(s.duration=m.duration),m.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){l=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT===d){var S=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(S.indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:ib(m.attributes.URI.split(",")[1])}};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(l.iv=m.attributes.IV)},"media-sequence":function(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence":function(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,h=m.number},"playlist-type":function(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map:function(){o={},m.uri&&(o.uri=m.uri),m.byterange&&(o.byterange=m.byterange)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Bc(s.attributes,m.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var S=this.manifest.mediaGroups[m.attributes.TYPE];S[m.attributes["GROUP-ID"]]=S[m.attributes["GROUP-ID"]]||{},T=S[m.attributes["GROUP-ID"]],E={default:/yes/i.test(m.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(E.language=m.attributes.LANGUAGE),m.attributes.URI&&(E.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(E.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(E.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(E.forced=/yes/i.test(m.attributes.FORCED)),T[m.attributes.NAME]=E},discontinuity:function(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),s.dateTimeString=m.dateTimeString,s.dateTimeObject=m.dateTimeObject},targetduration:function(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration},totalduration:function(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+m.duration});return}this.manifest.totalDuration=m.duration},start:function(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out":function(){s.cueOut=m.data},"cue-out-cont":function(){s.cueOutCont=m.data},"cue-in":function(){s.cueIn=m.data}}[m.tagType]||u).call(i)},uri:function(){s.uri=m.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=h,o&&(s.map=o),s={}},comment:function(){},custom:function(){m.segment?(s.custom=s.custom||{},s.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(i)}),r}var n=t.prototype;return n.push=function(i){this.lineStream.push(i)},n.end=function(){this.lineStream.push(`
`)},n.addParser=function(i){this.parseStream.addParser(i)},n.addTagMapper=function(i){this.parseStream.addTagMapper(i)},t}(lf);/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */var Vp=function(t){return!!t&&typeof t=="object"},At=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,a){return Object.keys(a).forEach(function(s){Array.isArray(i[s])&&Array.isArray(a[s])?i[s]=i[s].concat(a[s]):Vp(i[s])&&Vp(a[s])?i[s]=e(i[s],a[s]):i[s]=a[s]}),i},{})},ab=function(t){return Object.keys(t).map(function(n){return t[n]})},sb=function(t,n){for(var r=[],i=t;i<n;i++)r.push(i);return r},Cl=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},m0=function(t){if(!t.length)return[];for(var n=[],r=0;r<t.length;r++)n.push(t[r]);return n},ob=function(t,n){return t.reduce(function(r,i,a){return i[n]&&r.push(a),r},[])},Mi={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};function lb(e,t){return t={exports:{}},e(t,t.exports),t.exports}var $p=lb(function(e,t){(function(n){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var m=o.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var T=i.exec(m.path);m.netLoc=T[1],m.path=T[2]}m.netLoc&&!m.path&&(m.path="/");var E={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(E.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)E.path=m.path,h.params||(E.params=m.params,h.query||(E.query=m.query));else{var O=m.path,y=O.substring(0,O.lastIndexOf("/")+1)+h.path;E.path=o.normalizePath(y)}return E.path===null&&(E.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(E)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};e.exports=o})()}),uf=function(t,n){return/^[a-z]+:/i.test(n)?n:(/\/\//i.test(t)||(t=$p.buildAbsoluteURL(I.location.href,t)),$p.buildAbsoluteURL(t,n))},Za=function(t){var n=t.baseUrl,r=n===void 0?"":n,i=t.source,a=i===void 0?"":i,s=t.range,o=s===void 0?"":s,l=t.indexRange,u=l===void 0?"":l,c={uri:a,resolvedUri:uf(r||"",a)};if(o||u){var d=o||u,h=d.split("-"),m=parseInt(h[0],10),T=parseInt(h[1],10);c.byterange={length:T-m+1,offset:m}}return c},ub=function(t){var n=t.offset+t.length-1;return t.offset+"-"+n},cb={static:function(t){var n=t.duration,r=t.timescale,i=r===void 0?1:r,a=t.sourceDuration;return{start:0,end:Math.ceil(a/(n/i))}},dynamic:function(t){var n=t.NOW,r=t.clientOffset,i=t.availabilityStartTime,a=t.timescale,s=a===void 0?1:a,o=t.duration,l=t.start,u=l===void 0?0:l,c=t.minimumUpdatePeriod,d=c===void 0?0:c,h=t.timeShiftBufferDepth,m=h===void 0?1/0:h,T=(n+r)/1e3,E=i+u,O=T+d,y=O-E,S=Math.ceil(y*s/o),b=Math.floor((T-E-m)*s/o),A=Math.floor((T-E)*s/o);return{start:Math.max(0,b),end:Math.min(S,A)}}},db=function(t){return function(n,r){var i=t.duration,a=t.timescale,s=a===void 0?1:a,o=t.periodIndex,l=t.startNumber,u=l===void 0?1:l;return{number:u+n,duration:i/s,timeline:o,time:r*i}}},cf=function(t){var n=t.type,r=n===void 0?"static":n,i=t.duration,a=t.timescale,s=a===void 0?1:a,o=t.sourceDuration,l=cb[r](t),u=l.start,c=l.end,d=sb(u,c).map(db(t));if(r==="static"){var h=d.length-1;d[h].duration=o-i/s*h}return d},v0=function(t){var n=t.baseUrl,r=t.initialization,i=r===void 0?{}:r,a=t.sourceDuration,s=t.timescale,o=s===void 0?1:s,l=t.indexRange,u=l===void 0?"":l,c=t.duration;if(!n)throw new Error(Mi.NO_BASE_URL);var d=Za({baseUrl:n,source:i.sourceURL,range:i.range}),h=Za({baseUrl:n,source:n,indexRange:u});if(h.map=d,c){var m=cf(t);m.length&&(h.duration=m[0].duration,h.timeline=m[0].timeline)}else a&&(h.duration=a/o,h.timeline=0);return h.number=0,[h]},fb=function(t,n,r){for(var i=t.sidx.map?t.sidx.map:null,a=t.sidx.duration,s=t.timeline||0,o=t.sidx.byterange,l=o.offset+o.length,u=n.timescale,c=n.references.filter(function(L){return L.referenceType!==1}),d=[],h=l+n.firstOffset,m=0;m<c.length;m++){var T=n.references[m],E=T.referencedSize,O=T.subsegmentDuration,y=h+E-1,S=h+"-"+y,b={baseUrl:r,timescale:u,timeline:s,periodIndex:s,duration:O,sourceDuration:a,indexRange:S},A=v0(b)[0];i&&(A.map=i),d.push(A),h+=E}return t.segments=d,t},Wp=function(t){var n=ab(t.reduce(function(r,i){var a=i.attributes.id+(i.attributes.lang||"");if(r[a]){var s;i.segments[0]&&(i.segments[0].discontinuity=!0),(s=r[a].segments).push.apply(s,i.segments),i.attributes.contentProtection&&(r[a].attributes.contentProtection=i.attributes.contentProtection)}else r[a]=i;return r},{}));return n.map(function(r){return r.discontinuityStarts=ob(r.segments,"discontinuity"),r})},df=function(t,n){if(n===void 0&&(n={}),!Object.keys(n).length)return t;for(var r in t){var i=t[r];if(i.sidx){var a=i.sidx.uri+"-"+ub(i.sidx.byterange),s=n[a]&&n[a].sidx;i.sidx&&s&&fb(i,s,i.sidx.resolvedUri)}}return t},hb=function(t){var n,r=t.attributes,i=t.segments,a=t.sidx,s={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),a&&(s.sidx=a),s},pb=function(t){var n,r=t.attributes,i=t.segments;return typeof i>"u"&&(i=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration),{attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1}},mb=function(t,n){n===void 0&&(n={});var r,i=t.reduce(function(s,o){var l=o.attributes.role&&o.attributes.role.value||"",u=o.attributes.lang||"",c="main";if(u){var d=l?" ("+l+")":"";c=""+o.attributes.lang+d}return s[c]&&s[c].playlists[0].attributes.BANDWIDTH>o.attributes.bandwidth||(s[c]={language:u,autoselect:!0,default:l==="main",playlists:df([hb(o)],n),uri:""},typeof r>"u"&&l==="main"&&(r=o,r.default=!0)),s},{});if(!r){var a=Object.keys(i)[0];i[a].default=!0}return i},vb=function(t,n){return n===void 0&&(n={}),t.reduce(function(r,i){var a=i.attributes.lang||"text";return r[a]||(r[a]={language:a,default:!1,autoselect:!1,playlists:df([pb(i)],n),uri:""}),r},{})},gb=function(t){var n,r=t.attributes,i=t.segments,a=t.sidx,s={attributes:(n={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),a&&(s.sidx=a),s},yb=function(t,n){var r;if(n===void 0&&(n={}),!t.length)return{};var i=t[0].attributes,a=i.sourceDuration,s=i.minimumUpdatePeriod,o=s===void 0?0:s,l=function(O){var y=O.attributes;return y.mimeType==="video/mp4"||y.contentType==="video"},u=function(O){var y=O.attributes;return y.mimeType==="audio/mp4"||y.contentType==="audio"},c=function(O){var y=O.attributes;return y.mimeType==="text/vtt"||y.contentType==="text"},d=Wp(t.filter(l)).map(gb),h=Wp(t.filter(u)),m=t.filter(c),T={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:df(d,n),minimumUpdatePeriod:o*1e3};return h.length&&(T.mediaGroups.AUDIO.audio=mb(h,n)),m.length&&(T.mediaGroups.SUBTITLES.subs=vb(m,n)),T},_b=function(t,n,r){var i=t.NOW,a=t.clientOffset,s=t.availabilityStartTime,o=t.timescale,l=o===void 0?1:o,u=t.start,c=u===void 0?0:u,d=t.minimumUpdatePeriod,h=d===void 0?0:d,m=(i+a)/1e3,T=s+c,E=m+h,O=E-T;return Math.ceil((O*l-n)/r)},g0=function(t,n){for(var r=t.type,i=r===void 0?"static":r,a=t.minimumUpdatePeriod,s=a===void 0?0:a,o=t.media,l=o===void 0?"":o,u=t.sourceDuration,c=t.timescale,d=c===void 0?1:c,h=t.startNumber,m=h===void 0?1:h,T=t.periodIndex,E=[],O=-1,y=0;y<n.length;y++){var S=n[y],b=S.d,A=S.r||0,L=S.t||0;O<0&&(O=L),L&&L>O&&(O=L);var R=void 0;if(A<0){var M=y+1;M===n.length?i==="dynamic"&&s>0&&l.indexOf("$Number$")>0?R=_b(t,O,b):R=(u*d-O)/b:R=(n[M].t-O)/b}else R=A+1;for(var B=m+E.length+R,q=m+E.length;q<B;)E.push({number:q,duration:b/d,time:O,timeline:T}),O+=b,q++}return E},Tb=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Sb=function(t){return function(n,r,i,a){if(n==="$$")return"$";if(typeof t[r]>"u")return n;var s=""+t[r];return r==="RepresentationID"||(i?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},Gp=function(t,n){return t.replace(Tb,Sb(n))},xb=function(t,n){return!t.duration&&!n?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]:t.duration?cf(t):g0(t,n)},bb=function(t,n){var r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,a=i===void 0?{sourceURL:"",range:""}:i,s=Za({baseUrl:t.baseUrl,source:Gp(a.sourceURL,r),range:a.range}),o=xb(t,n);return o.map(function(l){r.Number=l.number,r.Time=l.time;var u=Gp(t.media||"",r);return{uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:uf(t.baseUrl||"",u),map:s,number:l.number}})},Eb=function(t,n){var r=t.baseUrl,i=t.initialization,a=i===void 0?{}:i,s=Za({baseUrl:r,source:a.sourceURL,range:a.range}),o=Za({baseUrl:r,source:n.media,range:n.mediaRange});return o.map=s,o},Cb=function(t,n){var r=t.duration,i=t.segmentUrls,a=i===void 0?[]:i;if(!r&&!n||r&&n)throw new Error(Mi.SEGMENT_TIME_UNSPECIFIED);var s=a.map(function(u){return Eb(t,u)}),o;r&&(o=cf(t)),n&&(o=g0(t,n));var l=o.map(function(u,c){if(s[c]){var d=s[c];return d.timeline=u.timeline,d.duration=u.duration,d.number=u.number,d}}).filter(function(u){return u});return l},wb=function(t){var n=t.attributes,r=t.segmentInfo,i,a;r.template?(a=bb,i=At(n,r.template)):r.base?(a=v0,i=At(n,r.base)):r.list&&(a=Cb,i=At(n,r.list));var s={attributes:n};if(!a)return s;var o=a(i,r.timeline);if(i.duration){var l=i,u=l.duration,c=l.timescale,d=c===void 0?1:c;i.duration=u/d}else o.length?i.duration=o.reduce(function(h,m){return Math.max(h,Math.ceil(m.duration))},0):i.duration=0;return s.attributes=i,s.segments=o,r.base&&i.indexRange&&(s.sidx=o[0],s.segments=[]),s},kb=function(t){return t.map(wb)},He=function(t,n){return m0(t.childNodes).filter(function(r){var i=r.tagName;return i===n})},y0=function(t){return t.textContent.trim()},da=function(t){var n=31536e3,r=30*24*60*60,i=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(t);if(!l)return 0;var u=l.slice(1),c=u[0],d=u[1],h=u[2],m=u[3],T=u[4],E=u[5];return parseFloat(c||0)*n+parseFloat(d||0)*r+parseFloat(h||0)*i+parseFloat(m||0)*a+parseFloat(T||0)*s+parseFloat(E||0)},Pb=function(t){var n=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return n.test(t)&&(t+="Z"),Date.parse(t)},qp={mediaPresentationDuration:function(t){return da(t)},availabilityStartTime:function(t){return Pb(t)/1e3},minimumUpdatePeriod:function(t){return da(t)},timeShiftBufferDepth:function(t){return da(t)},start:function(t){return da(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var n=parseInt(t,10);return isNaN(n)?da(t):n},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},st=function(t){return t&&t.attributes?m0(t.attributes).reduce(function(n,r){var i=qp[r.name]||qp.DEFAULT;return n[r.name]=i(r.value),n},{}):{}};function Ab(e){for(var t=I.atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var Ib={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},wl=function(t,n){return n.length?Cl(t.map(function(r){return n.map(function(i){return uf(r,y0(i))})})):t},ff=function(t){var n=He(t,"SegmentTemplate")[0],r=He(t,"SegmentList")[0],i=r&&He(r,"SegmentURL").map(function(h){return At({tag:"SegmentURL"},st(h))}),a=He(t,"SegmentBase")[0],s=r||n,o=s&&He(s,"SegmentTimeline")[0],l=r||a||n,u=l&&He(l,"Initialization")[0],c=n&&st(n);c&&u?c.initialization=u&&st(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var d={template:c,timeline:o&&He(o,"S").map(function(h){return st(h)}),list:r&&At(st(r),{segmentUrls:i,initialization:st(u)}),base:a&&At(st(a),{initialization:st(u)})};return Object.keys(d).forEach(function(h){d[h]||delete d[h]}),d},Lb=function(t,n,r){return function(i){var a=He(i,"BaseURL"),s=wl(n,a),o=At(t,st(i)),l=ff(i);return s.map(function(u){return{segmentInfo:At(r,l),attributes:At(o,{baseUrl:u})}})}},Ob=function(t){return t.reduce(function(n,r){var i=st(r),a=Ib[i.schemeIdUri];if(a){n[a]={attributes:i};var s=He(r,"cenc:pssh")[0];if(s){var o=y0(s),l=o&&Ab(o);n[a].pssh=l}}return n},{})},Db=function(t,n,r){return function(i){var a=st(i),s=wl(n,He(i,"BaseURL")),o=He(i,"Role")[0],l={role:st(o)},u=At(t,a,l),c=Ob(He(i,"ContentProtection"));Object.keys(c).length&&(u=At(u,{contentProtection:c}));var d=ff(i),h=He(i,"Representation"),m=At(r,d);return Cl(h.map(Lb(u,s,m)))}},Rb=function(t,n){return function(r,i){var a=wl(n,He(r,"BaseURL")),s=st(r),o=parseInt(s.id,10),l=I.isNaN(o)?i:o,u=At(t,{periodIndex:l}),c=He(r,"AdaptationSet"),d=ff(r);return Cl(c.map(Db(u,a,d)))}},Mb=function(t,n){n===void 0&&(n={});var r=n,i=r.manifestUri,a=i===void 0?"":i,s=r.NOW,o=s===void 0?Date.now():s,l=r.clientOffset,u=l===void 0?0:l,c=He(t,"Period");if(!c.length)throw new Error(Mi.INVALID_NUMBER_OF_PERIOD);var d=st(t),h=wl([a],He(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=u,Cl(c.map(Rb(d,h)))},_0=function(t){if(t==="")throw new Error(Mi.DASH_EMPTY_MANIFEST);var n=new I.DOMParser,r=n.parseFromString(t,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(Mi.DASH_INVALID_XML);return i},Nb=function(t){var n=He(t,"UTCTiming")[0];if(!n)return null;var r=st(n);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Mi.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},T0=function(t,n){return n===void 0&&(n={}),yb(kb(Mb(_0(t),n)),n.sidxMapping)},Ub=function(t){return Nb(_0(t))},Fb=function(e){return e>>>0},Bb=function(e){return("00"+e.toString(16)).slice(-2)},S0={toUnsigned:Fb,toHexString:Bb},On=S0.toUnsigned,fa=S0.toHexString,Ve,Kr,x0,b0,E0,C0;Ve=function(e,t){var n=[],r,i,a,s,o;if(!t.length)return null;for(r=0;r<e.byteLength;)i=On(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),a=Kr(e.subarray(r+4,r+8)),s=i>1?r+i:e.byteLength,a===t[0]&&(t.length===1?n.push(e.subarray(r+8,s)):(o=Ve(e.subarray(r+8,s),t.slice(1)),o.length&&(n=n.concat(o)))),r=s;return n};Kr=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3]),t};x0=function(e){var t={},n=Ve(e,["moov","trak"]);return n.reduce(function(r,i){var a,s,o,l,u;return a=Ve(i,["tkhd"])[0],!a||(s=a[0],o=s===0?12:20,l=On(a[o]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3]),u=Ve(i,["mdia","mdhd"])[0],!u)?null:(s=u[0],o=s===0?12:20,r[l]=On(u[o]<<24|u[o+1]<<16|u[o+2]<<8|u[o+3]),r)},t)};b0=function(e,t){var n,r,i;return n=Ve(t,["moof","traf"]),r=[].concat.apply([],n.map(function(a){return Ve(a,["tfhd"]).map(function(s){var o,l,u;return o=On(s[4]<<24|s[5]<<16|s[6]<<8|s[7]),l=e[o]||9e4,u=Ve(a,["tfdt"]).map(function(c){var d,h;return d=c[0],h=On(c[4]<<24|c[5]<<16|c[6]<<8|c[7]),d===1&&(h*=Math.pow(2,32),h+=On(c[8]<<24|c[9]<<16|c[10]<<8|c[11])),h})[0],u=u||1/0,u/l})})),i=Math.min.apply(null,r),isFinite(i)?i:0};E0=function(e){var t=Ve(e,["moov","trak"]),n=[];return t.forEach(function(r){var i=Ve(r,["mdia","hdlr"]),a=Ve(r,["tkhd"]);i.forEach(function(s,o){var l=Kr(s.subarray(8,12)),u=a[o],c,d,h;l==="vide"&&(c=new DataView(u.buffer,u.byteOffset,u.byteLength),d=c.getUint8(0),h=d===0?c.getUint32(12):c.getUint32(20),n.push(h))})}),n};C0=function(e){var t=Ve(e,["moov","trak"]),n=[];return t.forEach(function(r){var i={},a=Ve(r,["tkhd"])[0],s,o;a&&(s=new DataView(a.buffer,a.byteOffset,a.byteLength),o=s.getUint8(0),i.id=o===0?s.getUint32(12):s.getUint32(20));var l=Ve(r,["mdia","hdlr"])[0];if(l){var u=Kr(l.subarray(8,12));u==="vide"?i.type="video":u==="soun"?i.type="audio":i.type=u}var c=Ve(r,["mdia","minf","stbl","stsd"])[0];if(c){var d=c.subarray(8);i.codec=Kr(d.subarray(4,8));var h=Ve(d,[i.codec])[0],m,T;h&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(m=h.subarray(78),T=Kr(m.subarray(4,8)),T==="avcC"&&m.length>11?(i.codec+=".",i.codec+=fa(m[9]),i.codec+=fa(m[10]),i.codec+=fa(m[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(m=h.subarray(28),T=Kr(m.subarray(4,8)),T==="esds"&&m.length>20&&m[19]!==0?(i.codec+="."+fa(m[19]),i.codec+="."+fa(m[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var E=Ve(r,["mdia","mdhd"])[0];if(E&&a){var O=o===0?12:20;i.timescale=On(E[O]<<24|E[O+1]<<16|E[O+2]<<8|E[O+3])}n.push(i)}),n};var hf={findBox:Ve,parseType:Kr,timescale:x0,startTime:b0,videoTrackIds:E0,tracks:C0};const Xo=Xt(hf);var it,jc,go=hf.parseType,Ut=function(e){return new Date(e*1e3-20828448e5)},Kp=function(e){return{isLeading:(e[0]&12)>>>2,dependsOn:e[0]&3,isDependedOn:(e[1]&192)>>>6,hasRedundancy:(e[1]&48)>>>4,paddingValue:(e[1]&14)>>>1,isNonSyncSample:e[1]&1,degradationPriority:e[2]<<8|e[3]}},jb=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[],r,i;for(r=0;r+4<e.length;r+=i){if(i=t.getUint32(r),r+=4,i<=0){n.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(e[r]&31){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+e[r]&31);break}}return n},bn={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:it(e.subarray(78,e.byteLength))}},avcC:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:e[4]&3,sps:[],pps:[]},r=e[5]&31,i,a,s,o;for(s=6,o=0;o<r;o++)a=t.getUint16(s),s+=2,n.sps.push(new Uint8Array(e.subarray(s,s+a))),s+=a;for(i=e[s],s++,o=0;o<i;o++)a=t.getUint16(s),s+=2,n.pps.push(new Uint8Array(e.subarray(s,s+a))),s+=a;return n},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:e[8]&31,decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(e[26]&7)<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:go(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)n.compatibleBrands.push(go(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:it(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:it(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:go(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(e[r]===0){r++;break}n.name+=String.fromCharCode(e[r])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(e){return{byteLength:e.byteLength,nals:jb(e)}},mdhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return i.version===1?(n+=4,i.creationTime=Ut(t.getUint32(n)),n+=8,i.modificationTime=Ut(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=Ut(t.getUint32(n)),n+=4,i.modificationTime=Ut(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,r=t.getUint16(n),i.language+=String.fromCharCode((r>>10)+96),i.language+=String.fromCharCode(((r&992)>>5)+96),i.language+=String.fromCharCode((r&31)+96),i},mdia:function(e){return{boxes:it(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:it(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=it(e.subarray(28))[0]),n},moof:function(e){return{boxes:it(e)}},moov:function(e){return{boxes:it(e)}},mvex:function(e){return{boxes:it(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return r.version===1?(n+=4,r.creationTime=Ut(t.getUint32(n)),n+=8,r.modificationTime=Ut(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ut(t.getUint32(n)),n+=4,r.modificationTime=Ut(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=2*4,r.matrix=new Uint32Array(e.subarray(n,n+9*4)),n+=9*4,n+=6*4,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n;for(n=4;n<e.byteLength;n++)t.samples.push({dependsOn:(e[n]&48)>>4,isDependedOn:(e[n]&12)>>2,hasRedundancy:e[n]&3});return t},sidx:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},r=t.getUint16(22),i;for(i=24;r;i+=12,r--)n.references.push({referenceType:(e[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(e[i+8]&128),sapType:(e[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:it(e)}},stco:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=t.getUint32(4),i;for(i=8;r;i+=4,r--)n.chunkOffsets.push(t.getUint32(i));return n},stsc:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=t.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]},i;for(i=8;n;i+=12,n--)r.sampleToChunks.push({firstChunk:t.getUint32(i),samplesPerChunk:t.getUint32(i+4),sampleDescriptionIndex:t.getUint32(i+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:it(e.subarray(8))}},stsz:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:t.getUint32(4),entries:[]},r;for(r=12;r<e.byteLength;r+=4)n.entries.push(t.getUint32(r));return n},stts:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=t.getUint32(4),i;for(i=8;r;i+=8,r--)n.timeToSamples.push({sampleCount:t.getUint32(i),sampleDelta:t.getUint32(i+4)});return n},styp:function(e){return bn.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return t.version===1&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)},r=n.flags[2]&1,i=n.flags[2]&2,a=n.flags[2]&8,s=n.flags[2]&16,o=n.flags[2]&32,l=n.flags[0]&65536,u=n.flags[0]&131072,c;return c=8,r&&(c+=4,n.baseDataOffset=t.getUint32(12),c+=4),i&&(n.sampleDescriptionIndex=t.getUint32(c),c+=4),a&&(n.defaultSampleDuration=t.getUint32(c),c+=4),s&&(n.defaultSampleSize=t.getUint32(c),c+=4),o&&(n.defaultSampleFlags=t.getUint32(c)),l&&(n.durationIsEmpty=!0),!r&&u&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return r.version===1?(n+=4,r.creationTime=Ut(t.getUint32(n)),n+=8,r.modificationTime=Ut(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ut(t.getUint32(n)),n+=4,r.modificationTime=Ut(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=2*4,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+9*4)),n+=9*4,r.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/16,r},traf:function(e){return{boxes:it(e)}},trak:function(e){return{boxes:it(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:e[20]&3,sampleIsDependedOn:(e[21]&192)>>6,sampleHasRedundancy:(e[21]&48)>>4,samplePaddingValue:(e[21]&14)>>1,sampleIsDifferenceSample:!!(e[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.flags[2]&1,i=t.flags[2]&4,a=t.flags[1]&1,s=t.flags[1]&2,o=t.flags[1]&4,l=t.flags[1]&8,u=n.getUint32(4),c=8,d;for(r&&(t.dataOffset=n.getInt32(c),c+=4),i&&u&&(d={flags:Kp(e.subarray(c,c+4))},c+=4,a&&(d.duration=n.getUint32(c),c+=4),s&&(d.size=n.getUint32(c),c+=4),l&&(d.compositionTimeOffset=n.getUint32(c),c+=4),t.samples.push(d),u--);u--;)d={},a&&(d.duration=n.getUint32(c),c+=4),s&&(d.size=n.getUint32(c),c+=4),o&&(d.flags=Kp(e.subarray(c,c+4)),c+=4),l&&(d.compositionTimeOffset=n.getUint32(c),c+=4),t.samples.push(d);return t},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};it=function(e){for(var t=0,n=[],r,i,a,s,o,l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(r=new DataView(l);t<e.byteLength;)i=r.getUint32(t),a=go(e.subarray(t+4,t+8)),s=i>1?t+i:e.byteLength,o=(bn[a]||function(d){return{data:d}})(e.subarray(t+8,s)),o.size=i,o.type=a,n.push(o),t=s;return n};jc=function(e,t){var n;return t=t||0,n=new Array(t*2+1).join(" "),e.map(function(r,i){return n+r.type+`
`+Object.keys(r).filter(function(a){return a!=="type"&&a!=="boxes"}).map(function(a){var s=n+"  "+a+": ",o=r[a];if(o instanceof Uint8Array||o instanceof Uint32Array){var l=Array.prototype.slice.call(new Uint8Array(o.buffer,o.byteOffset,o.byteLength)).map(function(u){return" "+("00"+u.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return l?l.length===1?s+"<"+l.join("").slice(1)+">":s+`<
`+l.map(function(u){return n+"  "+u}).join(`
`)+`
`+n+"  >":s+"<>"}return s+JSON.stringify(o,null,2).split(`
`).map(function(u,c){return c===0?u:n+"  "+u}).join(`
`)}).join(`
`)+(r.boxes?`
`+jc(r.boxes,t+1):"")}).join(`
`)};var w0={inspect:it,textify:jc,parseTfdt:bn.tfdt,parseHdlr:bn.hdlr,parseTfhd:bn.tfhd,parseTrun:bn.trun,parseSidx:bn.sidx};const zb=Xt(w0);var k0=4,Hb=128,Vb=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&e[t]!==Hb;){for(;e[t]===255;)r+=255,t++;for(r+=e[t++];e[t]===255;)i+=255,t++;if(i+=e[t++],!n.payload&&r===k0){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n},$b=function(e){return e.payload[0]!==181||(e.payload[1]<<8|e.payload[2])!==49||String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])!=="GA94"||e.payload[7]!==3?null:e.payload.subarray(8,e.payload.length-1)},Wb=function(e,t){var n=[],r,i,a,s;if(!(t[0]&64))return n;for(i=t[0]&31,r=0;r<i;r++)a=r*3,s={type:t[a+2]&3,pts:e},t[a+2]&4&&(s.ccData=t[a+3]<<8|t[a+4],n.push(s));return n},Gb=function(e){for(var t=e.byteLength,n=[],r=1,i,a;r<t-2;)e[r]===0&&e[r+1]===0&&e[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return e;i=t-n.length,a=new Uint8Array(i);var s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),a[r]=e[s];return a},P0={parseSei:Vb,parseUserData:$b,parseCaptionPackets:Wb,discardEmulationPreventionBytes:Gb,USER_DATA_REGISTERED_ITU_T_T35:k0},Kn=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return e[t]?(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1):!1},this.trigger=function(t){var n,r,i,a;if(n=e[t],!!n)if(arguments.length===2)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};Kn.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e};Kn.prototype.push=function(e){this.trigger("data",e)};Kn.prototype.flush=function(e){this.trigger("done",e)};Kn.prototype.partialFlush=function(e){this.trigger("partialdone",e)};Kn.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)};Kn.prototype.reset=function(e){this.trigger("reset",e)};var A0=Kn,I0=A0,Ys=P0,Rt=function(){Rt.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new be(0,0),new be(0,1),new be(1,0),new be(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};Rt.prototype=new I0;Rt.prototype.push=function(e){var t,n,r;if(e.nalUnitType==="sei_rbsp"&&(t=Ys.parseSei(e.escapedRBSP),t.payloadType===Ys.USER_DATA_REGISTERED_ITU_T_T35&&(n=Ys.parseUserData(t),!!n))){if(e.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}r=Ys.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}};Rt.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return e==="flush"?t.flush():t.partialFlush()},this)};Rt.prototype.flushStream=function(e){if(!this.captionPackets_.length){this.flushCCStreams(e);return}this.captionPackets_.forEach(function(t,n){t.presortIndex=n}),this.captionPackets_.sort(function(t,n){return t.pts===n.pts?t.presortIndex-n.presortIndex:t.pts-n.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.flushCCStreams(e)};Rt.prototype.flush=function(){return this.flushStream("flush")};Rt.prototype.partialFlush=function(){return this.flushStream("partialFlush")};Rt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})};Rt.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),this.activeCea608Channel_[e.type]!==null&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)};Rt.prototype.setsChannel1Active=function(e){return(e.ccData&30720)===4096};Rt.prototype.setsChannel2Active=function(e){return(e.ccData&30720)===6144};Rt.prototype.setsTextOrXDSActive=function(e){return(e.ccData&28928)===256||(e.ccData&30974)===4138||(e.ccData&30974)===6186};var qb={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Qs=function(e){return e===null?"":(e=qb[e]||e,String.fromCharCode(e))},kl=14,Kb=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Dn=function(){for(var e=[],t=kl+1;t--;)e.push("");return e},be=function(e,t){be.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(n){var r,i,a,s,o;if(r=n.ccData&32639,r===this.lastControlCode_){this.lastControlCode_=null;return}if((r&61440)===4096?this.lastControlCode_=r:r!==this.PADDING_&&(this.lastControlCode_=null),a=r>>>8,s=r&255,r!==this.PADDING_)if(r===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(r===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=n.pts;else if(r===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(n.pts);else if(r===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(n.pts);else if(r===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(n.pts);else if(r===this.CARRIAGE_RETURN_)this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts;else if(r===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(r===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(n.pts),this.displayed_=Dn();else if(r===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Dn();else if(r===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=Dn()),this.mode_="paintOn",this.startPts_=n.pts;else if(this.isSpecialCharacter(a,s))a=(a&3)<<8,o=Qs(a|s),this[this.mode_](n.pts,o),this.column_++;else if(this.isExtCharacter(a,s))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=(a&3)<<8,o=Qs(a|s),this[this.mode_](n.pts,o),this.column_++;else if(this.isMidRowCode(a,s))this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(s&14)===14&&this.addFormatting(n.pts,["i"]),(s&1)===1&&this.addFormatting(n.pts,["u"]);else if(this.isOffsetControlCode(a,s))this.column_+=s&3;else if(this.isPAC(a,s)){var l=Kb.indexOf(r&7968);this.mode_==="rollUp"&&(l-this.rollUpRows_+1<0&&(l=this.rollUpRows_-1),this.setRollUp(n.pts,l)),l!==this.row_&&(this.clearFormatting(n.pts),this.row_=l),s&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(r&16)===16&&(this.column_=((r&14)>>1)*4),this.isColorPAC(s)&&(s&14)===14&&this.addFormatting(n.pts,["i"])}else this.isNormalChar(a)&&(s===0&&(s=null),o=Qs(a),o+=Qs(s),this[this.mode_](n.pts,o),this.column_+=o.length)}};be.prototype=new I0;be.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(n){try{return n.trim()}catch{return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})};be.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Dn(),this.nonDisplayed_=Dn(),this.lastControlCode_=null,this.column_=0,this.row_=kl,this.rollUpRows_=2,this.formatting_=[]};be.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};be.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63};be.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63};be.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47};be.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35};be.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127};be.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127};be.prototype.isNormalChar=function(e){return e>=32&&e<=127};be.prototype.setRollUp=function(e,t){if(this.mode_!=="rollUp"&&(this.row_=kl,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Dn(),this.displayed_=Dn()),t!==void 0&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";t===void 0&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1};be.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(r,i){return r+"<"+i+">"},"");this[this.mode_](e,n)};be.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,r){return n+"</"+r+">"},"");this.formatting_=[],this[this.mode_](e,t)}};be.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n};be.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};be.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<kl+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""};be.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Xb={CaptionStream:Rt,Cea608Stream:be},Yb=P0.discardEmulationPreventionBytes,Qb=Xb.CaptionStream,ha=hf,zc=w0,Jb=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},Zb=function(e,t,n){var r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[],a,s,o,l;for(s=0;s+4<e.length;s+=o)if(o=r.getUint32(s),s+=4,!(o<=0))switch(e[s]&31){case 6:var u=e.subarray(s+1,s+1+o),c=Jb(s,t);a={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:Yb(u),trackId:n},c?(a.pts=c.pts,a.dts=c.dts,l=c):(a.pts=l.pts,a.dts=l.dts),i.push(a);break}return i},eE=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,o=[];return e.forEach(function(l){var u=zc.parseTrun(l),c=u.samples;c.forEach(function(d){d.duration===void 0&&(d.duration=i),d.size===void 0&&(d.size=a),d.trackId=s,d.dts=r,d.compositionTimeOffset===void 0&&(d.compositionTimeOffset=0),d.pts=r+d.compositionTimeOffset,r+=d.duration}),o=o.concat(c)}),o},tE=function(e,t){var n=ha.findBox(e,["moof","traf"]),r=ha.findBox(e,["mdat"]),i={},a=[];return r.forEach(function(s,o){var l=n[o];a.push({mdat:s,traf:l})}),a.forEach(function(s){var o=s.mdat,l=s.traf,u=ha.findBox(l,["tfhd"]),c=zc.parseTfhd(u[0]),d=c.trackId,h=ha.findBox(l,["tfdt"]),m=h.length>0?zc.parseTfdt(h[0]).baseMediaDecodeTime:0,T=ha.findBox(l,["trun"]),E,O;t===d&&T.length>0&&(E=eE(T,m,c),O=Zb(o,E,d),i[d]||(i[d]=[]),i[d]=i[d].concat(O))}),i},rE=function(e,t,n){var r;return t===null?null:(r=tE(e,t),{seiNals:r[t],timescale:n})},nE=function(){var e=!1,t,n,r,i,a,s;this.isInitialized=function(){return e},this.init=function(o){t=new Qb,e=!0,s=o?o.isPartial:!1,t.on("data",function(l){l.startTime=l.startPts/i,l.endTime=l.endPts/i,a.captions.push(l),a.captionStreams[l.stream]=!0})},this.isNewInit=function(o,l){return o&&o.length===0||l&&typeof l=="object"&&Object.keys(l).length===0?!1:r!==o[0]||i!==l[r]},this.parse=function(o,l,u){var c;if(this.isInitialized()){if(!l||!u)return null;if(this.isNewInit(l,u))r=l[0],i=u[r];else if(r===null||!i)return n.push(o),null}else return null;for(;n.length>0;){var d=n.shift();this.parse(d,l,u)}return c=rE(o,r,i),c===null||!c.seiNals?null:(this.pushNals(c.seiNals),this.flushStream(),a)},this.pushNals=function(o){if(!this.isInitialized()||!o||o.length===0)return null;o.forEach(function(l){t.push(l)})},this.flushStream=function(){if(!this.isInitialized())return null;s?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){n=[],r=null,i=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},iE=nE;const aE=Xt(iE);var L0={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},sE=A0,oE=8589934592,lE=4294967296,Xp="shared",Hc=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>lE;)e+=n*oE;return e},pf=function(e){var t,n;pf.prototype.init.call(this),this.type_=e||Xp,this.push=function(r){this.type_!==Xp&&r.type!==this.type_||(n===void 0&&(n=r.dts),r.dts=Hc(r.dts,n),r.pts=Hc(r.pts,n),t=r.dts,this.trigger("data",r))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};pf.prototype=new sE;var uE={TimestampRolloverStream:pf,handleRollover:Hc},Au=L0,O0=function(e){var t=e[1]&31;return t<<=8,t|=e[2],t},Pl=function(e){return!!(e[1]&64)},Al=function(e){var t=0;return(e[3]&48)>>>4>1&&(t+=e[4]+1),t},cE=function(e,t){var n=O0(e);return n===0?"pat":n===t?"pmt":t?"pes":null},dE=function(e){var t=Pl(e),n=4+Al(e);return t&&(n+=e[n]+1),(e[n+10]&31)<<8|e[n+11]},fE=function(e){var t={},n=Pl(e),r=4+Al(e);if(n&&(r+=e[r]+1),!!(e[r+5]&1)){var i,a,s;i=(e[r+1]&15)<<8|e[r+2],a=3+i-4,s=(e[r+10]&15)<<8|e[r+11];for(var o=12+s;o<a;){var l=r+o;t[(e[l+1]&31)<<8|e[l+2]]=e[l],o+=((e[l+3]&15)<<8|e[l+4])+5}return t}},hE=function(e,t){var n=O0(e),r=t[n];switch(r){case Au.H264_STREAM_TYPE:return"video";case Au.ADTS_STREAM_TYPE:return"audio";case Au.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},pE=function(e){var t=Pl(e);if(!t)return null;var n=4+Al(e);if(n>=e.byteLength)return null;var r=null,i;return i=e[n+7],i&192&&(r={},r.pts=(e[n+9]&14)<<27|(e[n+10]&255)<<20|(e[n+11]&254)<<12|(e[n+12]&255)<<5|(e[n+13]&254)>>>3,r.pts*=4,r.pts+=(e[n+13]&6)>>>1,r.dts=r.pts,i&64&&(r.dts=(e[n+14]&14)<<27|(e[n+15]&255)<<20|(e[n+16]&254)<<12|(e[n+17]&255)<<5|(e[n+18]&254)>>>3,r.dts*=4,r.dts+=(e[n+18]&6)>>>1)),r},Iu=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},mE=function(e){for(var t=4+Al(e),n=e.subarray(t),r=0,i=0,a=!1,s;i<n.byteLength-3;i++)if(n[i+2]===1){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(n[r-1]!==0){r+=2;break}else if(n[r-2]!==0){r++;break}i+3!==r-2&&(s=Iu(n[i+3]&31),s==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0));do r++;while(n[r]!==1&&r<n.length);i=r-2,r+=3;break;case 1:if(n[r-1]!==0||n[r-2]!==0){r+=3;break}s=Iu(n[i+3]&31),s==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0),i=r-2,r+=3;break;default:r+=3;break}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&(s=Iu(n[i+3]&31),s==="slice_layer_without_partitioning_rbsp_idr"&&(a=!0)),a},vE={parseType:cE,parsePat:dE,parsePmt:fE,parsePayloadUnitStartIndicator:Pl,parsePesType:hE,parsePesTime:pE,videoPacketContainsKeyFrame:mE},gE=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yE=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},Yp=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},_E=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},TE=function(e,t,n){return unescape(_E(e,t,n))},SE=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],i=(r&16)>>4;return i?n+20:n+10},xE=function(e,t){var n=(e[t+5]&224)>>5,r=e[t+4]<<3,i=e[t+3]&6144;return i|r|n},bE=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":e[t]&!0&&(e[t+1]&240)===240?"audio":null},EE=function(e){for(var t=0;t+5<e.length;){if(e[t]!==255||(e[t+1]&246)!==240){t++;continue}return gE[(e[t+2]&60)>>>2]}return null},CE=function(e){var t,n,r,i;t=10,e[5]&64&&(t+=4,t+=Yp(e.subarray(10,14)));do{if(n=Yp(e.subarray(t+4,t+8)),n<1)return null;if(i=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),i==="PRIV"){r=e.subarray(t+10,t+n+10);for(var a=0;a<r.byteLength;a++)if(r[a]===0){var s=TE(r,0,a);if(s==="com.apple.streaming.transportStreamTimestamp"){var o=r.subarray(a+1),l=(o[3]&1)<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return l*=4,l+=o[7]&3,l}break}}t+=10,t+=n}while(t<e.byteLength);return null},wE={isLikelyAacData:yE,parseId3TagSize:SE,parseAdtsSize:xE,parseType:bE,parseSampleRate:EE,parseAacTimestamp:CE},mf=9e4,vf,gf,Il,yf,D0,R0,M0;vf=function(e){return e*mf};gf=function(e,t){return e*t};Il=function(e){return e/mf};yf=function(e,t){return e/t};D0=function(e,t){return vf(yf(e,t))};R0=function(e,t){return gf(Il(e),t)};M0=function(e,t,n){return Il(n?e:e-t)};var kE={ONE_SECOND_IN_TS:mf,secondsToVideoTs:vf,secondsToAudioTs:gf,videoTsToSeconds:Il,audioTsToSeconds:yf,audioTsToVideoTs:D0,videoTsToAudioTs:R0,metadataTsToSeconds:M0},Qp=L0,ei=uE.handleRollover,pe={};pe.ts=vE;pe.aac=wE;var Sn=kE.ONE_SECOND_IN_TS,ot=188,vr=71,PE=function(e,t){for(var n=0,r=ot,i,a;r<e.byteLength;){if(e[n]===vr&&e[r]===vr){switch(i=e.subarray(n,r),a=pe.ts.parseType(i,t.pid),a){case"pat":t.pid||(t.pid=pe.ts.parsePat(i));break;case"pmt":t.table||(t.table=pe.ts.parsePmt(i));break}if(t.pid&&t.table)return;n+=ot,r+=ot;continue}n++,r++}},N0=function(e,t,n){for(var r=0,i=ot,a,s,o,l,u,c=!1;i<=e.byteLength;){if(e[r]===vr&&(e[i]===vr||i===e.byteLength)){switch(a=e.subarray(r,i),s=pe.ts.parseType(a,t.pid),s){case"pes":o=pe.ts.parsePesType(a,t.table),l=pe.ts.parsePayloadUnitStartIndicator(a),o==="audio"&&l&&(u=pe.ts.parsePesTime(a),u&&(u.type="audio",n.audio.push(u),c=!0));break}if(c)break;r+=ot,i+=ot;continue}r++,i++}for(i=e.byteLength,r=i-ot,c=!1;r>=0;){if(e[r]===vr&&(e[i]===vr||i===e.byteLength)){switch(a=e.subarray(r,i),s=pe.ts.parseType(a,t.pid),s){case"pes":o=pe.ts.parsePesType(a,t.table),l=pe.ts.parsePayloadUnitStartIndicator(a),o==="audio"&&l&&(u=pe.ts.parsePesTime(a),u&&(u.type="audio",n.audio.push(u),c=!0));break}if(c)break;r-=ot,i-=ot;continue}r--,i--}},AE=function(e,t,n){for(var r=0,i=ot,a,s,o,l,u,c,d,h,m=!1,T={data:[],size:0};i<e.byteLength;){if(e[r]===vr&&e[i]===vr){switch(a=e.subarray(r,i),s=pe.ts.parseType(a,t.pid),s){case"pes":if(o=pe.ts.parsePesType(a,t.table),l=pe.ts.parsePayloadUnitStartIndicator(a),o==="video"&&(l&&!m&&(u=pe.ts.parsePesTime(a),u&&(u.type="video",n.video.push(u),m=!0)),!n.firstKeyFrame)){if(l&&T.size!==0){for(c=new Uint8Array(T.size),d=0;T.data.length;)h=T.data.shift(),c.set(h,d),d+=h.byteLength;if(pe.ts.videoPacketContainsKeyFrame(c)){var E=pe.ts.parsePesTime(c);E?(n.firstKeyFrame=E,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}T.size=0}T.data.push(a),T.size+=a.byteLength}break}if(m&&n.firstKeyFrame)break;r+=ot,i+=ot;continue}r++,i++}for(i=e.byteLength,r=i-ot,m=!1;r>=0;){if(e[r]===vr&&e[i]===vr){switch(a=e.subarray(r,i),s=pe.ts.parseType(a,t.pid),s){case"pes":o=pe.ts.parsePesType(a,t.table),l=pe.ts.parsePayloadUnitStartIndicator(a),o==="video"&&l&&(u=pe.ts.parsePesTime(a),u&&(u.type="video",n.video.push(u),m=!0));break}if(m)break;r-=ot,i-=ot;continue}r--,i--}},IE=function(e,t){if(e.audio&&e.audio.length){var n=t;typeof n>"u"&&(n=e.audio[0].dts),e.audio.forEach(function(a){a.dts=ei(a.dts,n),a.pts=ei(a.pts,n),a.dtsTime=a.dts/Sn,a.ptsTime=a.pts/Sn})}if(e.video&&e.video.length){var r=t;if(typeof r>"u"&&(r=e.video[0].dts),e.video.forEach(function(a){a.dts=ei(a.dts,r),a.pts=ei(a.pts,r),a.dtsTime=a.dts/Sn,a.ptsTime=a.pts/Sn}),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=ei(i.dts,r),i.pts=ei(i.pts,r),i.dtsTime=i.dts/Sn,i.ptsTime=i.dts/Sn}}},LE=function(e){for(var t=!1,n=0,r=null,i=null,a=0,s=0,o;e.length-s>=3;){var l=pe.aac.parseType(e,s);switch(l){case"timed-metadata":if(e.length-s<10){t=!0;break}if(a=pe.aac.parseId3TagSize(e,s),a>e.length){t=!0;break}i===null&&(o=e.subarray(s,s+a),i=pe.aac.parseAacTimestamp(o)),s+=a;break;case"audio":if(e.length-s<7){t=!0;break}if(a=pe.aac.parseAdtsSize(e,s),a>e.length){t=!0;break}r===null&&(o=e.subarray(s,s+a),r=pe.aac.parseSampleRate(o)),n++,s+=a;break;default:s++;break}if(t)return null}if(r===null||i===null)return null;var u=Sn/r,c={audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+n*1024*u,pts:i+n*1024*u}]};return c},OE=function(e){var t={pid:null,table:null},n={};PE(e,t);for(var r in t.table)if(t.table.hasOwnProperty(r)){var i=t.table[r];switch(i){case Qp.H264_STREAM_TYPE:n.video=[],AE(e,t,n),n.video.length===0&&delete n.video;break;case Qp.ADTS_STREAM_TYPE:n.audio=[],N0(e,t,n),n.audio.length===0&&delete n.audio;break}}return n},DE=function(e,t){var n=pe.aac.isLikelyAacData(e),r;return n?r=LE(e):r=OE(e),!r||!r.audio&&!r.video?null:(IE(r,t),r)},RE={inspect:DE,parseAudioPes_:N0};const ME=Xt(RE);/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function NE(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var Ll=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},UE=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),FE=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},BE=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},jE=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],n=t[0],r=t[1],i=n[4],a=r[4],s=void 0,o=void 0,l=void 0,u=[],c=[],d=void 0,h=void 0,m=void 0,T=void 0,E=void 0,O=void 0;for(s=0;s<256;s++)c[(u[s]=s<<1^(s>>7)*283)^s]=s;for(o=l=0;!i[o];o^=d||1,l=c[l]||1)for(T=l^l<<1^l<<2^l<<3^l<<4,T=T>>8^T&255^99,i[o]=T,a[T]=o,m=u[h=u[d=u[o]]],O=m*16843009^h*65537^d*257^o*16843008,E=u[T]*257^T*16843008,s=0;s<4;s++)n[s][o]=E=E<<24^E>>>8,r[s][T]=O=O<<24^O>>>8;for(s=0;s<5;s++)n[s]=n[s].slice(0),r[s]=r[s].slice(0);return t},Ft=null,zE=function(){function e(t){Ll(this,e),Ft||(Ft=jE()),this._tables=[[Ft[0][0].slice(),Ft[0][1].slice(),Ft[0][2].slice(),Ft[0][3].slice(),Ft[0][4].slice()],[Ft[1][0].slice(),Ft[1][1].slice(),Ft[1][2].slice(),Ft[1][3].slice(),Ft[1][4].slice()]];var n=void 0,r=void 0,i=void 0,a=void 0,s=void 0,o=this._tables[0][4],l=this._tables[1],u=t.length,c=1;if(u!==4&&u!==6&&u!==8)throw new Error("Invalid aes key size");for(a=t.slice(0),s=[],this._key=[a,s],n=u;n<4*u+28;n++)i=a[n-1],(n%u===0||u===8&&n%u===4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[i&255],n%u===0&&(i=i<<8^i>>>24^c<<24,c=c<<1^(c>>7)*283)),a[n]=a[n-u]^i;for(r=0;n;r++,n--)i=a[r&3?n:n-4],n<=4||r<4?s[r]=i:s[r]=l[0][o[i>>>24]]^l[1][o[i>>16&255]]^l[2][o[i>>8&255]]^l[3][o[i&255]]}return e.prototype.decrypt=function(n,r,i,a,s,o){var l=this._key[1],u=n^l[0],c=a^l[1],d=i^l[2],h=r^l[3],m=void 0,T=void 0,E=void 0,O=l.length/4-2,y=void 0,S=4,b=this._tables[1],A=b[0],L=b[1],R=b[2],M=b[3],B=b[4];for(y=0;y<O;y++)m=A[u>>>24]^L[c>>16&255]^R[d>>8&255]^M[h&255]^l[S],T=A[c>>>24]^L[d>>16&255]^R[h>>8&255]^M[u&255]^l[S+1],E=A[d>>>24]^L[h>>16&255]^R[u>>8&255]^M[c&255]^l[S+2],h=A[h>>>24]^L[u>>16&255]^R[c>>8&255]^M[d&255]^l[S+3],S+=4,u=m,c=T,d=E;for(y=0;y<4;y++)s[(3&-y)+o]=B[u>>>24]<<24^B[c>>16&255]<<16^B[d>>8&255]<<8^B[h&255]^l[S++],m=u,u=c,c=d,d=h,h=m},e}(),Jp=function(){function e(){Ll(this,e),this.listeners={}}return e.prototype.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.prototype.off=function(n,r){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(r);return this.listeners[n].splice(i,1),i>-1},e.prototype.trigger=function(n){var r=this.listeners[n];if(r)if(arguments.length===2)for(var i=r.length,a=0;a<i;++a)r[a].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),o=r.length,l=0;l<o;++l)r[l].apply(this,s)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(n){this.on("data",function(r){n.push(r)})},e}(),U0=function(e){FE(t,e);function t(){Ll(this,t);var n=BE(this,e.call(this,Jp));return n.jobs=[],n.delay=1,n.timeout_=null,n}return t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(r){this.jobs.push(r),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(Jp),zt=function(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24},F0=function(t,n,r){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),a=new zE(Array.prototype.slice.call(n)),s=new Uint8Array(t.byteLength),o=new Int32Array(s.buffer),l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,m=void 0,T=void 0,E=void 0,O=void 0;for(l=r[0],u=r[1],c=r[2],d=r[3],O=0;O<i.length;O+=4)h=zt(i[O]),m=zt(i[O+1]),T=zt(i[O+2]),E=zt(i[O+3]),a.decrypt(h,m,T,E,o,O),o[O]=zt(o[O]^l),o[O+1]=zt(o[O+1]^u),o[O+2]=zt(o[O+2]^c),o[O+3]=zt(o[O+3]^d),l=h,u=m,c=T,d=E;return s},HE=function(){function e(t,n,r,i){Ll(this,e);var a=e.STEP,s=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new U0,this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,r,o)),l=a;l<s.length;l+=a)r=new Uint32Array([zt(s[l-4]),zt(s[l-3]),zt(s[l-2]),zt(s[l-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(l,l+a),n,r,o));this.asyncStream_.push(function(){i(null,NE(o))})}return e.prototype.decryptChunk_=function(n,r,i,a){return function(){var s=F0(n,r,i);a.set(s,n.byteOffset)}},UE(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();/**
 * @license
 * Video.js 7.6.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */var B0="7.6.5",jt=[],VE=function(t,n){return function(r,i,a){var s=n.levels[i],o=new RegExp("^("+s+")$");if(r!=="log"&&a.unshift(r.toUpperCase()+":"),a.unshift(t+":"),jt&&jt.push([].concat(a)),!!I.console){var l=I.console[r];!l&&r==="debug"&&(l=I.console.info||I.console.log),!(!l||!s||!o.test(r))&&l[Array.isArray(a)?"apply":"call"](I.console,a)}}};function j0(e){var t="info",n,r=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n("log",t,s)};return n=VE(e,r),r.createLogger=function(i){return j0(e+": "+i)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},r.level=function(i){if(typeof i=="string"){if(!r.levels.hasOwnProperty(i))throw new Error('"'+i+'" in not a valid log level');t=i}return t},r.history=function(){return jt?[].concat(jt):[]},r.history.filter=function(i){return(jt||[]).filter(function(a){return new RegExp(".*"+i+".*").test(a[0])})},r.history.clear=function(){jt&&(jt.length=0)},r.history.disable=function(){jt!==null&&(jt.length=0,jt=null)},r.history.enable=function(){jt===null&&(jt=[])},r.error=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n("error",t,a)},r.warn=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n("warn",t,a)},r.debug=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n("debug",t,a)},r}var le=j0("VIDEOJS"),z0=le.createLogger,$E=Object.prototype.toString,H0=function(t){return ln(t)?Object.keys(t):[]};function Ei(e,t){H0(e).forEach(function(n){return t(e[n],n)})}function WE(e,t,n){return n===void 0&&(n=0),H0(e).reduce(function(r,i){return t(r,e[i],i)},n)}function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(i){i&&Ei(i,function(a,s){e[s]=a})}),e)}function ln(e){return!!e&&typeof e=="object"}function es(e){return ln(e)&&$E.call(e)==="[object Object]"&&e.constructor===Object}function Yo(e,t){if(!e||!t)return"";if(typeof I.getComputedStyle=="function"){var n=I.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function Zp(e){return typeof e=="string"&&/\S/.test(e)}function V0(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function GE(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function $i(){return j===I.document}function fs(e){return ln(e)&&e.nodeType===1}function $0(){try{return I.parent!==I.self}catch{return!0}}function W0(e){return function(t,n){if(!Zp(t))return j[e](null);Zp(n)&&(n=j.querySelector(n));var r=fs(n)?n:j;return r[e]&&r[e](t)}}function Ne(e,t,n,r){e===void 0&&(e="div"),t===void 0&&(t={}),n===void 0&&(n={});var i=j.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(a){var s=t[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(le.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),i.setAttribute(a,s)):a==="textContent"?Wi(i,s):i[a]=s}),Object.getOwnPropertyNames(n).forEach(function(a){i.setAttribute(a,n[a])}),r&&Sf(i,r),i}function Wi(e,t){return typeof e.textContent>"u"?e.innerText=t:e.textContent=t,e}function Vc(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Rn(e,t){return V0(t),e.classList?e.classList.contains(t):GE(t).test(e.className)}function Ar(e,t){return e.classList?e.classList.add(t):Rn(e,t)||(e.className=(e.className+" "+t).trim()),e}function hs(e,t){return e.classList?e.classList.remove(t):(V0(t),e.className=e.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),e}function G0(e,t,n){var r=Rn(e,t);if(typeof n=="function"&&(n=n(e,t)),typeof n!="boolean"&&(n=!r),n!==r)return n?Ar(e,t):hs(e,t),e}function q0(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];r===null||typeof r>"u"||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function br(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var a=r[i].name,s=r[i].value;(typeof e[a]=="boolean"||n.indexOf(","+a+",")!==-1)&&(s=s!==null),t[a]=s}return t}function K0(e,t){return e.getAttribute(t)}function ts(e,t,n){e.setAttribute(t,n)}function Ol(e,t){e.removeAttribute(t)}function X0(){j.body.focus(),j.onselectstart=function(){return!1}}function Y0(){j.onselectstart=function(){return!0}}function rs(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(r){t[r]!==void 0&&(n[r]=t[r])}),n.height||(n.height=parseFloat(Yo(e,"height"))),n.width||(n.width=parseFloat(Yo(e,"width"))),n}}function Q0(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=j.documentElement,r=j.body,i=n.clientLeft||r.clientLeft||0,a=I.pageXOffset||r.scrollLeft,s=t.left+a-i,o=n.clientTop||r.clientTop||0,l=I.pageYOffset||r.scrollTop,u=t.top+l-o;return{left:Math.round(s),top:Math.round(u)}}function _f(e,t){var n={},r=Q0(e),i=e.offsetWidth,a=e.offsetHeight,s=r.top,o=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+a)/a)),n.x=Math.max(0,Math.min(1,(u-o)/i)),n}function J0(e){return ln(e)&&e.nodeType===3}function Tf(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Z0(e){return typeof e=="function"&&(e=e()),(Array.isArray(e)?e:[e]).map(function(t){if(typeof t=="function"&&(t=t()),fs(t)||J0(t))return t;if(typeof t=="string"&&/\S/.test(t))return j.createTextNode(t)}).filter(function(t){return t})}function Sf(e,t){return Z0(t).forEach(function(n){return e.appendChild(n)}),e}function ey(e,t){return Sf(Tf(e),t)}function Ni(e){return e.button===void 0&&e.buttons===void 0||e.button===0&&e.buttons===void 0||e.type==="mouseup"&&e.button===0&&e.buttons===0?!0:!(e.button!==0||e.buttons!==1)}var un=W0("querySelector"),ty=W0("querySelectorAll"),ry=Object.freeze({isReal:$i,isEl:fs,isInFrame:$0,createEl:Ne,textContent:Wi,prependTo:Vc,hasClass:Rn,addClass:Ar,removeClass:hs,toggleClass:G0,setAttributes:q0,getAttributes:br,getAttribute:K0,setAttribute:ts,removeAttribute:Ol,blockTextSelection:X0,unblockTextSelection:Y0,getBoundingClientRect:rs,findPosition:Q0,getPointerPosition:_f,isTextNode:J0,emptyEl:Tf,normalizeContent:Z0,appendContent:Sf,insertContent:ey,isSingleLeftClick:Ni,$:un,$$:ty}),ny=!1,$c,qE=function(){if(!(!$i()||$c.options.autoSetup===!1)){var t=Array.prototype.slice.call(j.getElementsByTagName("video")),n=Array.prototype.slice.call(j.getElementsByTagName("audio")),r=Array.prototype.slice.call(j.getElementsByTagName("video-js")),i=t.concat(n,r);if(i&&i.length>0)for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&$c(o)}}else{Wc(1);break}}else ny||Wc(1)}};function Wc(e,t){t&&($c=t),I.setTimeout(qE,e)}function Gc(){ny=!0,I.removeEventListener("load",Gc)}$i()&&(j.readyState==="complete"?Gc():I.addEventListener("load",Gc));var iy=function(t){var n=j.createElement("style");return n.className=t,n},ay=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n},ct=new WeakMap,KE=3,XE=KE;function Xn(){return XE++}function em(e,t){if(ct.has(e)){var n=ct.get(e);n.handlers[t].length===0&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&ct.delete(e)}}function xf(e,t,n,r){n.forEach(function(i){e(t,i,r)})}function Dl(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||I.event;e={};for(var i in r)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&(i==="returnValue"&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||j),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,e.clientX!==null&&e.clientX!==void 0){var a=j.documentElement,s=j.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!==null&&e.button!==void 0&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e}var sy=!1;(function(){try{var e=Object.defineProperty({},"passive",{get:function(){sy=!0}});I.addEventListener("test",null,e),I.removeEventListener("test",null,e)}catch{}})();var YE=["touchstart","touchmove"];function Lt(e,t,n){if(Array.isArray(t))return xf(Lt,e,t,n);ct.has(e)||ct.set(e,{});var r=ct.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Xn()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(a,s){if(!r.disabled){a=Dl(a);var o=r.handlers[a.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!a.isImmediatePropagationStopped();u++)try{l[u].call(e,a,s)}catch(d){le.error(d)}}}),r.handlers[t].length===1)if(e.addEventListener){var i=!1;sy&&YE.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function Ke(e,t,n){if(ct.has(e)){var r=ct.get(e);if(r.handlers){if(Array.isArray(t))return xf(Ke,e,t,n);var i=function(u,c){r.handlers[c]=[],em(u,c)};if(t===void 0){for(var a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(e,a);return}var s=r.handlers[t];if(s){if(!n){i(e,t);return}if(n.guid)for(var o=0;o<s.length;o++)s[o].guid===n.guid&&s.splice(o--,1);em(e,t)}}}}function Gi(e,t,n){var r=ct.has(e)?ct.get(e):{},i=e.parentNode||e.ownerDocument;if(typeof t=="string"?t={type:t,target:e}:t.target||(t.target=e),t=Dl(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)Gi.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){ct.has(t.target)||ct.set(t.target,{});var a=ct.get(t.target);t.target[t.type]&&(a.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function Rl(e,t,n){if(Array.isArray(t))return xf(Rl,e,t,n);var r=function i(){Ke(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||Xn(),Lt(e,t,r)}function oy(e,t,n){var r=function i(){Ke(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||Xn(),Lt(e,t,r)}var QE=Object.freeze({fixEvent:Dl,on:Lt,off:Ke,trigger:Gi,one:Rl,any:oy}),Vn=30,ae=function(t,n,r){n.guid||(n.guid=Xn());var i=n.bind(t);return i.guid=r?r+"_"+n.guid:n.guid,i},cn=function(t,n){var r=I.performance.now(),i=function(){var s=I.performance.now();s-r>=n&&(t.apply(void 0,arguments),r=s)};return i},JE=function(t,n,r,i){i===void 0&&(i=I);var a,s=function(){i.clearTimeout(a),a=null},o=function(){var u=this,c=arguments,d=function(){a=null,d=null,r||t.apply(u,c)};!a&&r&&t.apply(u,c),i.clearTimeout(a),a=i.setTimeout(d,n)};return o.cancel=s,o},Ge=function(){};Ge.prototype.allowedEvents_={};Ge.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Lt(this,e,t),this.addEventListener=n};Ge.prototype.addEventListener=Ge.prototype.on;Ge.prototype.off=function(e,t){Ke(this,e,t)};Ge.prototype.removeEventListener=Ge.prototype.off;Ge.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Rl(this,e,t),this.addEventListener=n};Ge.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},oy(this,e,t),this.addEventListener=n};Ge.prototype.trigger=function(e){var t=e.type||e;typeof e=="string"&&(e={type:t}),e=Dl(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Gi(this,e)};Ge.prototype.dispatchEvent=Ge.prototype.trigger;var pa;Ge.prototype.queueTrigger=function(e){var t=this;pa||(pa=new Map);var n=e.type||e,r=pa.get(this);r||(r=new Map,pa.set(this,r));var i=r.get(n);r.delete(n),I.clearTimeout(i);var a=I.setTimeout(function(){r.size===0&&(r=null,pa.delete(t)),t.trigger(e)},0);r.set(n,a)};var $n=function(t){return t instanceof Ge||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(n){return typeof t[n]=="function"})},ZE=function(t,n){$n(t)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))},ly=function(t){return typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length},bf=function(t){if(!t.nodeName&&!$n(t))throw new Error("Invalid target; must be a DOM node or evented object.")},uy=function(t){if(!ly(t))throw new Error("Invalid event type; must be a non-empty string or array.")},cy=function(t){if(typeof t!="function")throw new Error("Invalid listener; must be a function.")},Lu=function(t,n){var r=n.length<3||n[0]===t||n[0]===t.eventBusEl_,i,a,s;return r?(i=t.eventBusEl_,n.length>=3&&n.shift(),a=n[0],s=n[1]):(i=n[0],a=n[1],s=n[2]),bf(i),uy(a),cy(s),s=ae(t,s),{isTargetingSelf:r,target:i,type:a,listener:s}},yn=function(t,n,r,i){bf(t),t.nodeName?QE[n](t,r,i):t[n](r,i)},eC={on:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=Lu(this,r),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(yn(o,"on",l,u),!s){var c=function(){return t.off(o,l,u)};c.guid=u.guid;var d=function(){return t.off("dispose",c)};d.guid=u.guid,yn(this,"on","dispose",c),yn(o,"on","dispose",d)}},one:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=Lu(this,r),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)yn(o,"one",l,u);else{var c=function d(){t.off(o,l,d);for(var h=arguments.length,m=new Array(h),T=0;T<h;T++)m[T]=arguments[T];u.apply(null,m)};c.guid=u.guid,yn(o,"one",l,c)}},any:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=Lu(this,r),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)yn(o,"any",l,u);else{var c=function d(){t.off(o,l,d);for(var h=arguments.length,m=new Array(h),T=0;T<h;T++)m[T]=arguments[T];u.apply(null,m)};c.guid=u.guid,yn(o,"any",l,c)}},off:function(t,n,r){if(!t||ly(t))Ke(this.eventBusEl_,t,n);else{var i=t,a=n;bf(i),uy(a),cy(r),r=ae(this,r),this.off("dispose",r),i.nodeName?(Ke(i,a,r),Ke(i,"dispose",r)):$n(i)&&(i.off(a,r),i.off("dispose",r))}},trigger:function(t,n){return Gi(this.eventBusEl_,t,n)}};function Ef(e,t){t===void 0&&(t={});var n=t,r=n.eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=Ne("span",{className:"vjs-event-bus"});return Se(e,eC),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(i){i()}),e.on("dispose",function(){e.off(),I.setTimeout(function(){e.eventBusEl_=null},0)}),e}var tC={state:{},setState:function(t){var n=this;typeof t=="function"&&(t=t());var r;return Ei(t,function(i,a){n.state[a]!==i&&(r=r||{},r[a]={from:n.state[a],to:i}),n.state[a]=i}),r&&$n(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function dy(e,t){return Se(e,tC),e.state=Se({},e.state,t),typeof e.handleStateChanged=="function"&&$n(e)&&e.on("statechanged",e.handleStateChanged),e}var yo=function(t){return typeof t!="string"?t:t.replace(/./,function(n){return n.toLowerCase()})},Oe=function(t){return typeof t!="string"?t:t.replace(/./,function(n){return n.toUpperCase()})},rC=function(t,n){return Oe(t)===Oe(n)};function ve(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Ei(i,function(a,s){if(!es(a)){e[s]=a;return}es(e[s])||(e[s]={}),e[s]=ve(e[s],a)})}),e}var U=function(){function e(n,r,i){if(!n&&this.play?this.player_=n=this:this.player_=n,this.parentComponent_=null,this.options_=ve({},this.options_),r=this.options_=ve(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var a=n&&n.id&&n.id()||"no_player";this.id_=a+"_component_"+Xn()}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.evented!==!1&&Ef(this,{eventBusKey:this.el_?"el_":null}),dy(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(i),r.reportTouchActivity!==!1&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ct.has(this.el_)&&ct.delete(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(r){return r?(this.options_=ve(this.options_,r),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(r,i,a){return Ne(r,i,a)},t.localize=function(r,i,a){a===void 0&&(a=r);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],c=o&&o[u],d=a;return l&&l[r]?d=l[r]:c&&c[r]&&(d=c[r]),i&&(d=d.replace(/\{(\d+)\}/g,function(h,m){var T=i[m-1],E=T;return typeof T>"u"&&(E=h),E})),d},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(r){return this.childIndex_[r]},t.getChild=function(r){if(r)return this.childNameIndex_[r]},t.addChild=function(r,i,a){i===void 0&&(i={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof r=="string"){o=Oe(r);var l=i.componentClass||o;i.name=o;var u=e.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,i)}else s=r;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Oe(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[yo(o)]=s),typeof s.el=="function"&&s.el()){var c=this.contentEl().children,d=c[a]||null;this.contentEl().insertBefore(s.el(),d)}return s},t.removeChild=function(r){if(typeof r=="string"&&(r=this.getChild(r)),!(!r||!this.children_)){for(var i=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===r){i=!0,this.children_.splice(a,1);break}if(i){r.parentComponent_=null,this.childIndex_[r.id()]=null,this.childNameIndex_[Oe(r.name())]=null,this.childNameIndex_[yo(r.name())]=null;var s=r.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(r.el())}}},t.initChildren=function(){var r=this,i=this.options_.children;if(i){var a=this.options_,s=function(c){var d=c.name,h=c.opts;if(a[d]!==void 0&&(h=a[d]),h!==!1){h===!0&&(h={}),h.playerOptions=r.options_.playerOptions;var m=r.addChild(d,h);m&&(r[d]=m)}},o,l=e.getComponent("Tech");Array.isArray(i)?o=i:o=Object.keys(i),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,d;return typeof u=="string"?(c=u,d=i[c]||r.options_[c]||{}):(c=u.name,d=u),{name:c,opts:d}}).filter(function(u){var c=e.getComponent(u.opts.componentClass||Oe(u.name));return c&&!l.isTech(c)}).forEach(s)}},t.buildCSSClass=function(){return""},t.ready=function(r,i){if(i===void 0&&(i=!1),!!r){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(r);return}i?r.call(this):this.setTimeout(r,1)}},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var r=this.readyQueue_;this.readyQueue_=[],r&&r.length>0&&r.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)},t.$=function(r,i){return un(r,i||this.contentEl())},t.$$=function(r,i){return ty(r,i||this.contentEl())},t.hasClass=function(r){return Rn(this.el_,r)},t.addClass=function(r){Ar(this.el_,r)},t.removeClass=function(r){hs(this.el_,r)},t.toggleClass=function(r,i){G0(this.el_,r,i)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(r){return K0(this.el_,r)},t.setAttribute=function(r,i){ts(this.el_,r,i)},t.removeAttribute=function(r){Ol(this.el_,r)},t.width=function(r,i){return this.dimension("width",r,i)},t.height=function(r,i){return this.dimension("height",r,i)},t.dimensions=function(r,i){this.width(r,!0),this.height(i)},t.dimension=function(r,i,a){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[r]=i:i==="auto"?this.el_.style[r]="":this.el_.style[r]=i+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[r],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Oe(r)],10)},t.currentDimension=function(r){var i=0;if(r!=="width"&&r!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Yo(this.el_,r),i=parseFloat(i),i===0||isNaN(i)){var a="offset"+Oe(r);i=this.el_[a]}return i},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(r){this.player_&&(r.stopPropagation(),this.player_.handleKeyDown(r))},t.handleKeyPress=function(r){this.handleKeyDown(r)},t.emitTapEvents=function(){var r=0,i=null,a=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(i={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},r=I.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(i){var c=u.touches[0].pageX-i.pageX,d=u.touches[0].pageY-i.pageY,h=Math.sqrt(c*c+d*d);h>a&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(i=null,o===!0){var c=I.performance.now()-r;c<s&&(u.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var r=ae(this.player(),this.player().reportUserActivity),i;this.on("touchstart",function(){r(),this.clearInterval(i),i=this.setInterval(r,250)});var a=function(o){r(),this.clearInterval(i)};this.on("touchmove",r),this.on("touchend",a),this.on("touchcancel",a)}},t.setTimeout=function(r,i){var a=this,s;return r=ae(this,r),this.clearTimersOnDispose_(),s=I.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),r()},i),this.setTimeoutIds_.add(s),s},t.clearTimeout=function(r){return this.setTimeoutIds_.has(r)&&(this.setTimeoutIds_.delete(r),I.clearTimeout(r)),r},t.setInterval=function(r,i){r=ae(this,r),this.clearTimersOnDispose_();var a=I.setInterval(r,i);return this.setIntervalIds_.add(a),a},t.clearInterval=function(r){return this.setIntervalIds_.has(r)&&(this.setIntervalIds_.delete(r),I.clearInterval(r)),r},t.requestAnimationFrame=function(r){var i=this;if(!this.supportsRaf_)return this.setTimeout(r,1e3/60);this.clearTimersOnDispose_();var a;return r=ae(this,r),a=I.requestAnimationFrame(function(){i.rafIds_.has(a)&&i.rafIds_.delete(a),r()}),this.rafIds_.add(a),a},t.cancelAnimationFrame=function(r){return this.supportsRaf_?(this.rafIds_.has(r)&&(this.rafIds_.delete(r),I.cancelAnimationFrame(r)),r):this.clearTimeout(r)},t.clearTimersOnDispose_=function(){var r=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(i){var a=i[0],s=i[1];r[a].forEach(r[s],r)}),r.clearingTimersOnDispose_=!1}))},e.registerComponent=function(r,i){if(typeof r!="string"||!r)throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.');var a=e.getComponent("Tech"),s=a&&a.isTech(i),o=e===i||e.prototype.isPrototypeOf(i.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+r+'"; '+l+".")}r=Oe(r),e.components_||(e.components_={});var u=e.getComponent("Player");if(r==="Player"&&u&&u.players){var c=u.players,d=Object.keys(c);if(c&&d.length>0&&d.map(function(h){return c[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[r]=i,e.components_[yo(r)]=i,i},e.getComponent=function(r){if(!(!r||!e.components_))return e.components_[r]},e}();U.prototype.supportsRaf_=typeof I.requestAnimationFrame=="function"&&typeof I.cancelAnimationFrame=="function";U.registerComponent("Component",U);function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function qc(e,t){return qc=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qc(e,t)}function nC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _o(e,t,n){return nC()?_o=Reflect.construct:_o=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&qc(u,s.prototype),u},_o.apply(null,arguments)}function ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ye=I.navigator&&I.navigator.userAgent||"",tm=/AppleWebKit\/([\d.]+)/i.exec(Ye),iC=tm?parseFloat(tm.pop()):null,Cf=/iPad/i.test(Ye),wf=/iPhone/i.test(Ye)&&!Cf,fy=/iPod/i.test(Ye),or=wf||Cf||fy,aC=function(){var e=Ye.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),pn=/Android/i.test(Ye),kf=function(){var e=Ye.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),hy=pn&&kf<5&&iC<537,py=/Firefox/i.test(Ye),Pf=/Edge/i.test(Ye),Nr=!Pf&&(/Chrome/i.test(Ye)||/CriOS/i.test(Ye)),my=function(){var e=Ye.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Af=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ye),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ye)&&/rv:11.0/.test(Ye)&&(t=11),t}(),vy=/Safari/i.test(Ye)&&!Nr&&!pn&&!Pf,If=(vy||or)&&!Nr,gy=/Windows/i.test(Ye),ns=$i()&&("ontouchstart"in I||I.navigator.maxTouchPoints||I.DocumentTouch&&I.document instanceof I.DocumentTouch),sC=Object.freeze({IS_IPAD:Cf,IS_IPHONE:wf,IS_IPOD:fy,IS_IOS:or,IOS_VERSION:aC,IS_ANDROID:pn,ANDROID_VERSION:kf,IS_NATIVE_ANDROID:hy,IS_FIREFOX:py,IS_EDGE:Pf,IS_CHROME:Nr,CHROME_VERSION:my,IE_VERSION:Af,IS_SAFARI:vy,IS_ANY_SAFARI:If,IS_WINDOWS:gy,TOUCH_ENABLED:ns});function oC(e,t,n){if(typeof t!="number"||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function rm(e,t,n,r){return oC(e,r,n.length-1),n[r][t]}function Ou(e){return e===void 0||e.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:rm.bind(null,"start",0,e),end:rm.bind(null,"end",1,e)}}function Mn(e,t){return Array.isArray(e)?Ou(e):e===void 0||t===void 0?Ou():Ou([[e,t]])}function yy(e,t){var n=0,r,i;if(!t)return 0;(!e||!e.length)&&(e=Mn(0,0));for(var a=0;a<e.length;a++)r=e.start(a),i=e.end(a),i>t&&(i=t),n+=i-r;return n/t}var Kc={prefixed:!0},To=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],nm=To[0],ba;for(var Js=0;Js<To.length;Js++)if(To[Js][1]in j){ba=To[Js];break}if(ba){for(var Zs=0;Zs<ba.length;Zs++)Kc[nm[Zs]]=ba[Zs];Kc.prefixed=ba[0]!==nm[0]}function dt(e){if(e instanceof dt)return e;typeof e=="number"?this.code=e:typeof e=="string"?this.message=e:ln(e)&&(typeof e.code=="number"&&(this.code=e.code),Se(this,e)),this.message||(this.message=dt.defaultMessages[this.code]||"")}dt.prototype.code=0;dt.prototype.message="";dt.prototype.status=null;dt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];dt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ti=0;ti<dt.errorTypes.length;ti++)dt[dt.errorTypes[ti]]=ti,dt.prototype[dt.errorTypes[ti]]=ti;function Ra(e){return e!=null&&typeof e.then=="function"}function Wr(e){Ra(e)&&e.then(null,function(t){})}var Xc=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(r,i,a){return t[i]&&(r[i]=t[i]),r},{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})});return n},lC=function(t){var n=t.$$("track"),r=Array.prototype.map.call(n,function(a){return a.track}),i=Array.prototype.map.call(n,function(a){var s=Xc(a.track);return a.src&&(s.src=a.src),s});return i.concat(Array.prototype.filter.call(t.textTracks(),function(a){return r.indexOf(a)===-1}).map(Xc))},uC=function(t,n){return t.forEach(function(r){var i=n.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(function(a){return i.addCue(a)})}),n.textTracks()},im={textTracksToJson:lC,jsonToTextTracks:uC,trackToJson_:Xc},Du="vjs-modal-dialog",qi=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=Ne("div",{className:Du+"-content"},{role:"document"}),a.descEl_=Ne("p",{className:Du+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),Wi(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return Du+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var i=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(i+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),i},n.open=function(){if(!this.opened_){var i=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!i.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&i.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=i.controls(),i.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(i){return typeof i=="boolean"&&this[i?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var i=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&i.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&i.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(i){if(typeof i=="boolean"){var a=this.closeable_=!!i,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close)}!a&&s&&(this.off(s,"close",this.close),this.removeChild(s),s.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(i){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),ey(a,i),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},n.empty=function(){this.trigger("beforemodalempty"),Tf(this.contentEl()),this.trigger("modalempty")},n.content=function(i){return typeof i<"u"&&(this.content_=i),this.content_},n.conditionalFocus_=function(){var i=j.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(i)||a===i)&&(this.previouslyActiveEl_=i,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(i){if(i.stopPropagation(),re.isEventKey(i,"Escape")&&this.closeable()){i.preventDefault(),this.close();return}if(re.isEventKey(i,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<a.length;l++)if(s===a[l]){o=l;break}j.activeElement===this.el_&&(o=0),i.shiftKey&&o===0?(a[a.length-1].focus(),i.preventDefault()):!i.shiftKey&&o===a.length-1&&(a[0].focus(),i.preventDefault())}},n.focusableEls_=function(){var i=this.el_.querySelectorAll("*");return Array.prototype.filter.call(i,function(a){return(a instanceof I.HTMLAnchorElement||a instanceof I.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof I.HTMLInputElement||a instanceof I.HTMLSelectElement||a instanceof I.HTMLTextAreaElement||a instanceof I.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof I.HTMLIFrameElement||a instanceof I.HTMLObjectElement||a instanceof I.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},t}(U);qi.prototype.options_={pauseOnOpen:!0,temporary:!0};U.registerComponent("ModalDialog",qi);var Ui=function(e){K(t,e);function t(r){var i;r===void 0&&(r=[]),i=e.call(this)||this,i.tracks_=[],Object.defineProperty(ne(i),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<r.length;a++)i.addTrack(r[a]);return i}var n=t.prototype;return n.addTrack=function(i){var a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(i)===-1&&(this.tracks_.push(i),this.trigger({track:i,type:"addtrack",target:this}))},n.removeTrack=function(i){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===i){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},n.getTrackById=function(i){for(var a=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===i){a=l;break}}return a},t}(Ge);Ui.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var cC in Ui.prototype.allowedEvents_)Ui.prototype["on"+cC]=null;var Ru=function(t,n){for(var r=0;r<t.length;r++)!Object.keys(t[r]).length||n.id===t[r].id||(t[r].enabled=!1)},dC=function(e){K(t,e);function t(r){var i;r===void 0&&(r=[]);for(var a=r.length-1;a>=0;a--)if(r[a].enabled){Ru(r,r[a]);break}return i=e.call(this,r)||this,i.changing_=!1,i}var n=t.prototype;return n.addTrack=function(i){var a=this;i.enabled&&Ru(this,i),e.prototype.addTrack.call(this,i),i.addEventListener&&(i.enabledChange_=function(){a.changing_||(a.changing_=!0,Ru(a,i),a.changing_=!1,a.trigger("change"))},i.addEventListener("enabledchange",i.enabledChange_))},n.removeTrack=function(i){e.prototype.removeTrack.call(this,i),i.removeEventListener&&i.enabledChange_&&(i.removeEventListener("enabledchange",i.enabledChange_),i.enabledChange_=null)},t}(Ui),Mu=function(t,n){for(var r=0;r<t.length;r++)!Object.keys(t[r]).length||n.id===t[r].id||(t[r].selected=!1)},fC=function(e){K(t,e);function t(r){var i;r===void 0&&(r=[]);for(var a=r.length-1;a>=0;a--)if(r[a].selected){Mu(r,r[a]);break}return i=e.call(this,r)||this,i.changing_=!1,Object.defineProperty(ne(i),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),i}var n=t.prototype;return n.addTrack=function(i){var a=this;i.selected&&Mu(this,i),e.prototype.addTrack.call(this,i),i.addEventListener&&(i.selectedChange_=function(){a.changing_||(a.changing_=!0,Mu(a,i),a.changing_=!1,a.trigger("change"))},i.addEventListener("selectedchange",i.selectedChange_))},n.removeTrack=function(i){e.prototype.removeTrack.call(this,i),i.removeEventListener&&i.selectedChange_&&(i.removeEventListener("selectedchange",i.selectedChange_),i.selectedChange_=null)},t}(Ui),_y=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.addTrack=function(i){var a=this;e.prototype.addTrack.call(this,i),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),i.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(i.kind)===-1&&i.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(i){e.prototype.removeTrack.call(this,i),i.removeEventListener&&(this.queueChange_&&i.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&i.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Ui),hC=function(){function e(n){n===void 0&&(n=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var r=0,i=n.length;r<i;r++)this.addTrackElement_(n[r])}var t=e.prototype;return t.addTrackElement_=function(r){var i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.trackElements_[i]}}),this.trackElements_.indexOf(r)===-1&&this.trackElements_.push(r)},t.getTrackElementByTrack_=function(r){for(var i,a=0,s=this.trackElements_.length;a<s;a++)if(r===this.trackElements_[a].track){i=this.trackElements_[a];break}return i},t.removeTrackElement_=function(r){for(var i=0,a=this.trackElements_.length;i<a;i++)if(r===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}},e}(),am=function(){function e(n){e.prototype.setCues_.call(this,n),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(r){var i=this.length||0,a=0,s=r.length;this.cues_=r,this.length_=r.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(i<s)for(a=i;a<s;a++)o.call(this,a)},t.getCueById=function(r){for(var i=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===r){i=o;break}}return i},e}(),pC={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mC={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},vC={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},sm={disabled:"disabled",hidden:"hidden",showing:"showing"},Lf=function(e){K(t,e);function t(n){var r;n===void 0&&(n={}),r=e.call(this)||this;var i={id:n.id||"vjs_track_"+Xn(),kind:n.kind||"",label:n.label||"",language:n.language||""},a=function(l){Object.defineProperty(ne(r),l,{get:function(){return i[l]},set:function(){}})};for(var s in i)a(s);return r}return t}(Ge),Of=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],r=j.createElement("a");r.href=t;var i=r.host===""&&r.protocol!=="file:",a;i&&(a=j.createElement("div"),a.innerHTML='<a href="'+t+'"></a>',r=a.firstChild,a.setAttribute("style","display:none; position:absolute;"),j.body.appendChild(a));for(var s={},o=0;o<n.length;o++)s[n[o]]=r[n[o]];return s.protocol==="http:"&&(s.host=s.host.replace(/:80$/,"")),s.protocol==="https:"&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=I.location.protocol),i&&j.body.removeChild(a),s},Ty=function(t){if(!t.match(/^https?:\/\//)){var n=j.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},Df=function(t){if(typeof t=="string"){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,r=n.exec(t);if(r)return r.pop().toLowerCase()}return""},Ml=function(t){var n=I.location,r=Of(t),i=r.protocol===":"?n.protocol:r.protocol,a=i+r.host!==n.protocol+n.host;return a},gC=Object.freeze({parseUrl:Of,getAbsoluteURL:Ty,getFileExtension:Df,isCrossOrigin:Ml}),om=function(t,n){var r=new I.WebVTT.Parser(I,I.vttjs,I.WebVTT.StringDecoder()),i=[];r.oncue=function(a){n.addCue(a)},r.onparsingerror=function(a){i.push(a)},r.onflush=function(){n.trigger({type:"loadeddata",target:n})},r.parse(t),i.length>0&&(I.console&&I.console.groupCollapsed&&I.console.groupCollapsed("Text Track parsing errors for "+n.src),i.forEach(function(a){return le.error(a)}),I.console&&I.console.groupEnd&&I.console.groupEnd()),r.flush()},yC=function(t,n){var r={uri:t},i=Ml(t);i&&(r.cors=i),c0(r,ae(this,function(a,s,o){if(a)return le.error(a,s);n.loaded_=!0,typeof I.WebVTT!="function"?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(l){if(l.type==="vttjserror"){le.error("vttjs failed to load, stopping trying to process "+n.src);return}return om(o,n)}):om(o,n)}))},ps=function(e){K(t,e);function t(r){var i;if(r===void 0&&(r={}),!r.tech)throw new Error("A tech was not provided.");var a=ve(r,{kind:vC[r.kind]||"subtitles",language:r.language||r.srclang||""}),s=sm[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),i=e.call(this,a)||this,i.tech_=a.tech,i.cues_=[],i.activeCues_=[];var l=new am(i.cues_),u=new am(i.activeCues_),c=!1,d=ae(ne(i),function(){this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return s!=="disabled"&&i.tech_.ready(function(){i.tech_.on("timeupdate",d)},!0),Object.defineProperties(ne(i),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(m){var T=this;sm[m]&&(s=m,s!=="disabled"?this.tech_.ready(function(){T.tech_.on("timeupdate",d)},!0):this.tech_.off("timeupdate",d),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var m=this.tech_.currentTime(),T=[],E=0,O=this.cues.length;E<O;E++){var y=this.cues[E];(y.startTime<=m&&y.endTime>=m||y.startTime===y.endTime&&y.startTime<=m&&y.startTime+.5>=m)&&T.push(y)}if(c=!1,T.length!==this.activeCues_.length)c=!0;else for(var S=0;S<T.length;S++)this.activeCues_.indexOf(T[S])===-1&&(c=!0);return this.activeCues_=T,u.setCues_(this.activeCues_),u},set:function(){}}}),a.src?(i.src=a.src,yC(a.src,ne(i))):i.loaded_=!0,i}var n=t.prototype;return n.addCue=function(i){var a=i;if(I.vttjs&&!(i instanceof I.vttjs.VTTCue)){a=new I.vttjs.VTTCue(i.startTime,i.endTime,i.text);for(var s in i)s in a||(a[s]=i[s]);a.id=i.id,a.originalCue_=i}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},n.removeCue=function(i){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===i||s.originalCue_&&s.originalCue_===i){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},t}(Lf);ps.prototype.allowedEvents_={cuechange:"cuechange"};var Sy=function(e){K(t,e);function t(n){var r;n===void 0&&(n={});var i=ve(n,{kind:mC[n.kind]||""});r=e.call(this,i)||this;var a=!1;return Object.defineProperty(ne(r),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),i.enabled&&(r.enabled=i.enabled),r.loaded_=!0,r}return t}(Lf),xy=function(e){K(t,e);function t(n){var r;n===void 0&&(n={});var i=ve(n,{kind:pC[n.kind]||""});r=e.call(this,i)||this;var a=!1;return Object.defineProperty(ne(r),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),i.selected&&(r.selected=i.selected),r}return t}(Lf),by=0,_C=1,Ey=2,TC=3,Ki=function(e){K(t,e);function t(n){var r;n===void 0&&(n={}),r=e.call(this)||this;var i,a=new ps(n);return r.kind=a.kind,r.src=a.src,r.srclang=a.language,r.label=a.label,r.default=a.default,Object.defineProperties(ne(r),{readyState:{get:function(){return i}},track:{get:function(){return a}}}),i=by,a.addEventListener("loadeddata",function(){i=Ey,r.trigger({type:"load",target:ne(r)})}),r}return t}(Ge);Ki.prototype.allowedEvents_={load:"load"};Ki.NONE=by;Ki.LOADING=_C;Ki.LOADED=Ey;Ki.ERROR=TC;var Gt={audio:{ListClass:dC,TrackClass:Sy,capitalName:"Audio"},video:{ListClass:fC,TrackClass:xy,capitalName:"Video"},text:{ListClass:_y,TrackClass:ps,capitalName:"Text"}};Object.keys(Gt).forEach(function(e){Gt[e].getterName=e+"Tracks",Gt[e].privateName=e+"Tracks_"});var is={remoteText:{ListClass:_y,TrackClass:ps,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:hC,TrackClass:Ki,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},lt=ve(Gt,is);is.names=Object.keys(is);Gt.names=Object.keys(Gt);lt.names=[].concat(is.names).concat(Gt.names);function SC(e,t,n,r,i){i===void 0&&(i={});var a=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var s=new lt.text.TrackClass(i);return a.addTrack(s),s}var ye=function(e){K(t,e);function t(r,i){var a;return r===void 0&&(r={}),i===void 0&&(i=function(){}),r.reportTouchActivity=!1,a=e.call(this,null,r,i)||this,a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),lt.names.forEach(function(s){var o=lt[s];r&&r[o.getterName]&&(a[o.privateName]=r[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){r["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),r.nativeCaptions===!1||r.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(r.nativeCaptions===!0||r.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new lt.text.ListClass,a.initTrackListeners(),r.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var n=t.prototype;return n.triggerSourceset=function(i){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(i)},1)}),this.trigger({src:i,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(i){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ae(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(i){this.duration_=this.duration()},n.buffered=function(){return Mn(0,0)},n.bufferedPercent=function(){return yy(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Gt.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(i){var a=this;i=[].concat(i),i.forEach(function(s){for(var o=a[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&a.removeRemoteTextTrack(u),o.removeTrack(u)}})},n.cleanupAutoTextTracks=function(){for(var i=this.autoRemoteTextTracks_||[],a=i.length;a--;){var s=i[a];this.removeRemoteTextTrack(s)}},n.reset=function(){},n.error=function(i){return i!==void 0&&(this.error_=new dt(i),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Mn(0,0):Mn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var i=this;Gt.names.forEach(function(a){var s=Gt[a],o=function(){i.trigger(a+"trackchange")},l=i[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),i.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},n.addWebVttScript_=function(){var i=this;if(!I.WebVTT)if(j.body.contains(this.el())){if(!this.options_["vtt.js"]&&es(jp)&&Object.keys(jp).length>0){this.trigger("vttjsloaded");return}var a=j.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){i.trigger("vttjsloaded")},a.onerror=function(){i.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),I.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var i=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(h){return a.addTrack(h.track)},l=function(h){return a.removeTrack(h.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return i.trigger("texttrackchange")},c=function(){u();for(var h=0;h<a.length;h++){var m=a[h];m.removeEventListener("cuechange",u),m.mode==="showing"&&m.addEventListener("cuechange",u)}};c(),a.addEventListener("change",c),a.addEventListener("addtrack",c),a.addEventListener("removetrack",c),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),a.removeEventListener("change",c),a.removeEventListener("addtrack",c),a.removeEventListener("removetrack",c);for(var d=0;d<a.length;d++){var h=a[d];h.removeEventListener("cuechange",u)}})},n.addTextTrack=function(i,a,s){if(!i)throw new Error("TextTrack kind is required but was not provided");return SC(this,i,a,s)},n.createRemoteTextTrack=function(i){var a=ve(i,{tech:this});return new is.remoteTextEl.TrackClass(a)},n.addRemoteTextTrack=function(i,a){var s=this;i===void 0&&(i={});var o=this.createRemoteTextTrack(i);return a!==!0&&a!==!1&&(le.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},n.removeRemoteTextTrack=function(i){var a=this.remoteTextTrackEls().getTrackElementByTrack_(i);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(i),this.autoRemoteTextTracks_.removeTrack(i)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var i=this.options_.Promise||I.Promise;if(i)return i.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(i,a){return t.canPlayType(i.type)},t.isTech=function(i){return i.prototype instanceof t||i instanceof t||i===t},t.registerTech=function(i,a){if(t.techs_||(t.techs_={}),!t.isTech(a))throw new Error("Tech "+i+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return i=Oe(i),t.techs_[i]=a,t.techs_[yo(i)]=a,i!=="Tech"&&t.defaultTechOrder_.push(i),a},t.getTech=function(i){if(i){if(t.techs_&&t.techs_[i])return t.techs_[i];if(i=Oe(i),I&&I.videojs&&I.videojs[i])return le.warn("The "+i+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),I.videojs[i]}},t}(U);lt.names.forEach(function(e){var t=lt[e];ye.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});ye.prototype.featuresVolumeControl=!0;ye.prototype.featuresMuteControl=!0;ye.prototype.featuresFullscreenResize=!1;ye.prototype.featuresPlaybackRate=!1;ye.prototype.featuresProgressEvents=!1;ye.prototype.featuresSourceset=!1;ye.prototype.featuresTimeupdateEvents=!1;ye.prototype.featuresNativeTextTracks=!1;ye.withSourceHandlers=function(e){e.registerSourceHandler=function(n,r){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),r===void 0&&(r=i.length),i.splice(r,0,n)},e.canPlayType=function(n){for(var r=e.sourceHandlers||[],i,a=0;a<r.length;a++)if(i=r[a].canPlayType(n),i)return i;return""},e.selectSourceHandler=function(n,r){for(var i=e.sourceHandlers||[],a,s=0;s<i.length;s++)if(a=i[s].canHandleSource(n,r),a)return i[s];return null},e.canPlaySource=function(n,r){var i=e.selectSourceHandler(n,r);return i?i.canHandleSource(n,r):""};var t=["seekable","seeking","duration"];t.forEach(function(n){var r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(n){var r=e.selectSourceHandler(n,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:le.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};U.registerComponent("Tech",ye);ye.registerTech("Tech",ye);ye.defaultTechOrder_=[];var Nn={},Yc={},Qo={};function xC(e,t){Nn[e]=Nn[e]||[],Nn[e].push(t)}function bC(e,t,n){e.setTimeout(function(){return xn(t,Nn[t.type],n,e)},1)}function EC(e,t){e.forEach(function(n){return n.setTech&&n.setTech(t)})}function CC(e,t,n){return e.reduceRight(Rf(n),t[n]())}function wC(e,t,n,r){return t[n](e.reduce(Rf(n),r))}function lm(e,t,n,r){r===void 0&&(r=null);var i="call"+Oe(n),a=e.reduce(Rf(i),r),s=a===Qo,o=s?null:t[n](a);return AC(e,n,o,s),o}var kC={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},PC={setCurrentTime:1,setVolume:1},um={play:1,pause:1};function Rf(e){return function(t,n){return t===Qo?Qo:n[e]?n[e](t):t}}function AC(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];a[t]&&a[t](r,n)}}function IC(e){Yc[e.id()]=null}function LC(e,t){var n=Yc[e.id()],r=null;if(n==null)return r=t(e),Yc[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var a=n[i],s=a[0],o=a[1];s===t&&(r=o)}return r===null&&(r=t(e),n.push([t,r])),r}function xn(e,t,n,r,i,a){e===void 0&&(e={}),t===void 0&&(t=[]),i===void 0&&(i=[]),a===void 0&&(a=!1);var s=t,o=s[0],l=s.slice(1);if(typeof o=="string")xn(e,Nn[o],n,r,i,a);else if(o){var u=LC(r,o);if(!u.setSource)return i.push(u),xn(e,l,n,r,i,a);u.setSource(Se({},e),function(c,d){if(c)return xn(e,l,n,r,i,a);i.push(u),xn(d,e.type===d.type?l:Nn[d.type],n,r,i,a)})}else l.length?xn(e,l,n,r,i,a):a?n(e,i):xn(e,Nn["*"],n,r,i,!0)}var OC={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Jo=function(t){t===void 0&&(t="");var n=Df(t),r=OC[n.toLowerCase()];return r||""},DC=function(t,n){if(!n)return"";if(t.cache_.source.src===n&&t.cache_.source.type)return t.cache_.source.type;var r=t.cache_.sources.filter(function(o){return o.src===n});if(r.length)return r[0].type;for(var i=t.$$("source"),a=0;a<i.length;a++){var s=i[a];if(s.type&&s.src&&s.src===n)return s.type}return Jo(n)},RC=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(r){r=e(r),Array.isArray(r)?n=n.concat(r):ln(r)&&n.push(r)}),t=n}else typeof t=="string"&&t.trim()?t=[cm({src:t})]:ln(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[cm(t)]:t=[];return t};function cm(e){if(!e.type){var t=Jo(e.src);t&&(e.type=t)}return e}var MC=function(e){K(t,e);function t(n,r,i){var a,s=ve({createEl:!1},r);if(a=e.call(this,n,s,i)||this,!r.playerOptions.sources||r.playerOptions.sources.length===0)for(var o=0,l=r.playerOptions.techOrder;o<l.length;o++){var u=Oe(l[o]),c=ye.getTech(u);if(u||(c=U.getComponent(u)),c&&c.isSupported()){n.loadTech_(u);break}}else n.src(r.playerOptions.sources);return a}return t}(U);U.registerComponent("MediaLoader",MC);var Nl=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.emitTapEvents(),a.enable(),a}var n=t.prototype;return n.createEl=function(i,a,s){i===void 0&&(i="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Se({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},a),i==="button"&&le.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),s=Se({role:"button"},s),this.tabIndex_=a.tabIndex;var o=e.prototype.createEl.call(this,i,a,s);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(i){return this.controlTextEl_=Ne("span",{className:"vjs-control-text"},{"aria-live":"polite"}),i&&i.appendChild(this.controlTextEl_),this.controlText(this.controlText_,i),this.controlTextEl_},n.controlText=function(i,a){if(a===void 0&&(a=this.el()),i===void 0)return this.controlText_||"Need Text";var s=this.localize(i);this.controlText_=i,Wi(this.controlTextEl_,s),this.nonIconControl||a.setAttribute("title",s)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(i){},n.handleKeyDown=function(i){re.isEventKey(i,"Space")||re.isEventKey(i,"Enter")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,i)},t}(U);U.registerComponent("ClickableComponent",Nl);var NC=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.update(),r.on("posterchange",ae(ne(a),a.update)),a}var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){var i=Ne("div",{className:"vjs-poster",tabIndex:-1});return i},n.update=function(i){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},n.setSrc=function(i){var a="";i&&(a='url("'+i+'")'),this.el_.style.backgroundImage=a},n.handleClick=function(i){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Wr(this.player_.play()):this.player_.pause())},t}(Nl);U.registerComponent("PosterImage",NC);var Bt="#222",dm="#ccc",UC={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Nu(e,t){var n;if(e.length===4)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else if(e.length===7)n=e.slice(1);else throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Uu(e,t,n){try{e.style[t]=n}catch{return}}var FC=function(e){K(t,e);function t(r,i,a){var s;s=e.call(this,r,i,a)||this;var o=ae(ne(s),s.updateDisplay);return r.on("loadstart",ae(ne(s),s.toggleDisplay)),r.on("texttrackchange",o),r.on("loadedmetadata",ae(ne(s),s.preselectTrack)),r.ready(ae(ne(s),function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",o),r.on("playerresize",o),I.addEventListener("orientationchange",o),r.on("dispose",function(){return I.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var n=t.prototype;return n.preselectTrack=function(){for(var i={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<a.length;c++){var d=a[c];s&&s.enabled&&s.language&&s.language===d.language&&d.kind in i?d.kind===s.kind?u=d:u||(u=d):s&&!s.enabled?(u=null,o=null,l=null):d.default&&(d.kind==="descriptions"&&!o?o=d:d.kind in i&&!l&&(l=d))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){typeof I.WebVTT=="function"&&I.WebVTT.processCues(I,[],this.el_)},n.updateDisplay=function(){var i=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<i.length;++o){var l=i[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,c=null,d=i.length;d--;){var h=i[d];h.mode==="showing"&&(h.kind==="descriptions"?u=h:c=h)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},n.updateDisplayState=function(i){for(var a=this.player_.textTrackSettings.getValues(),s=i.activeCues,o=s.length;o--;){var l=s[o];if(l){var u=l.displayState;if(a.color&&(u.firstChild.style.color=a.color),a.textOpacity&&Uu(u.firstChild,"color",Nu(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(u.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Uu(u.firstChild,"backgroundColor",Nu(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Uu(u,"backgroundColor",Nu(a.windowColor,a.windowOpacity)):u.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Bt+", 2px 2px 4px "+Bt+", 2px 2px 5px "+Bt:a.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Bt+", 2px 2px "+Bt+", 3px 3px "+Bt:a.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+dm+", 0 1px "+dm+", -1px -1px "+Bt+", 0 -1px "+Bt:a.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Bt+", 0 0 4px "+Bt+", 0 0 4px "+Bt+", 0 0 4px "+Bt)),a.fontPercent&&a.fontPercent!==1){var c=I.parseFloat(u.style.fontSize);u.style.fontSize=c*a.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=UC[a.fontFamily])}}},n.updateForTrack=function(i){if(Array.isArray(i)||(i=[i]),!(typeof I.WebVTT!="function"||i.every(function(m){return!m.activeCues}))){for(var a=[],s=0;s<i.length;++s)for(var o=i[s],l=0;l<o.activeCues.length;++l)a.push(o.activeCues[l]);I.WebVTT.processCues(I,a,this.el_);for(var u=0;u<i.length;++u){for(var c=i[u],d=0;d<c.activeCues.length;++d){var h=c.activeCues[d].displayState;Ar(h,"vjs-text-track-cue"),Ar(h,"vjs-text-track-cue-"+(c.language?c.language:u))}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},t}(U);U.registerComponent("TextTrackDisplay",FC);var BC=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(){var i=this.player_.isAudio(),a=this.localize(i?"Audio Player":"Video Player"),s=Ne("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[a])}),o=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},t}(U);U.registerComponent("LoadingSpinner",BC);var lr=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(i,a,s){a===void 0&&(a={}),s===void 0&&(s={}),i="button",a=Se({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},a),s=Se({type:"button"},s);var o=U.prototype.createEl.call(this,i,a,s);return this.createControlTextEl(o),o},n.addChild=function(i,a){a===void 0&&(a={});var s=this.constructor.name;return le.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),U.prototype.addChild.call(this,i,a)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(i){if(re.isEventKey(i,"Space")||re.isEventKey(i,"Enter")){i.stopPropagation();return}e.prototype.handleKeyDown.call(this,i)},t}(Nl);U.registerComponent("Button",lr);var Cy=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.mouseused_=!1,a.on("mousedown",a.handleMouseDown),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(i){var a=this.player_.play();if(this.mouseused_&&i.clientX&&i.clientY){Wr(a),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}var s=this.player_.getChild("controlBar"),o=s&&s.getChild("playToggle");if(!o){this.player_.tech(!0).focus();return}var l=function(){return o.focus()};Ra(a)?a.then(l,function(){}):this.setTimeout(l,1)},n.handleKeyDown=function(i){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,i)},n.handleMouseDown=function(i){this.mouseused_=!0},t}(lr);Cy.prototype.controlText_="Play Video";U.registerComponent("BigPlayButton",Cy);var jC=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.controlText(i&&i.controlText||a.localize("Close")),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(i){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(i){re.isEventKey(i,"Esc")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,i)},t}(lr);U.registerComponent("CloseButton",jC);var wy=function(e){K(t,e);function t(r,i){var a;return i===void 0&&(i={}),a=e.call(this,r,i)||this,i.replay=i.replay===void 0||i.replay,a.on(r,"play",a.handlePlay),a.on(r,"pause",a.handlePause),i.replay&&a.on(r,"ended",a.handleEnded),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(i){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(i):this.handlePlay(i)},n.handlePlay=function(i){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(lr);wy.prototype.controlText_="Play";U.registerComponent("PlayToggle",wy);var ky=function(t,n){t=t<0?0:t;var r=Math.floor(t%60),i=Math.floor(t/60%60),a=Math.floor(t/3600),s=Math.floor(n/60%60),o=Math.floor(n/3600);return(isNaN(t)||t===1/0)&&(a=i=r="-"),a=a>0||o>0?a+":":"",i=((a||s>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,a+i+r},Mf=ky;function zC(e){Mf=e}function HC(){Mf=ky}function Fi(e,t){return t===void 0&&(t=e),Mf(e,t)}var Xi=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.throttledUpdateContent=cn(ae(ne(a),a.updateContent),Vn),a.on(r,"timeupdate",a.throttledUpdateContent),a}var n=t.prototype;return n.createEl=function(){var i=this.buildCSSClass(),a=e.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=Ne("span",{className:i+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),a.appendChild(this.contentEl_),a},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=j.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(i){return Fi(i)},n.updateFormattedTime_=function(i){var a=this.formatTime_(i);a!==this.formattedTime_&&(this.formattedTime_=a,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(i){},t}(U);Xi.prototype.labelText_="Time";Xi.prototype.controlText_="Time";U.registerComponent("TimeDisplay",Xi);var Nf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,"ended",a.handleEnded),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(i){var a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(a)},n.handleEnded=function(i){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Xi);Nf.prototype.labelText_="Current Time";Nf.prototype.controlText_="Current Time";U.registerComponent("CurrentTimeDisplay",Nf);var Uf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,"durationchange",a.updateContent),a.on(r,"loadstart",a.updateContent),a.on(r,"loadedmetadata",a.throttledUpdateContent),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(i){var a=this.player_.duration();this.duration_!==a&&(this.duration_=a,this.updateFormattedTime_(a))},t}(Xi);Uf.prototype.labelText_="Duration";Uf.prototype.controlText_="Duration";U.registerComponent("DurationDisplay",Uf);var VC=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(U);U.registerComponent("TimeDivider",VC);var Ff=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,"durationchange",a.throttledUpdateContent),a.on(r,"ended",a.handleEnded),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var i=e.prototype.createEl.call(this);return i.insertBefore(Ne("span",{},{"aria-hidden":!0},"-"),this.contentEl_),i},n.updateContent=function(i){typeof this.player_.duration()=="number"&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(i){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Xi);Ff.prototype.labelText_="Remaining Time";Ff.prototype.controlText_="Remaining Time";U.registerComponent("RemainingTimeDisplay",Ff);var $C=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}var n=t.prototype;return n.createEl=function(){var i=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ne("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),i.appendChild(this.contentEl_),i},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(i){this.player().duration()===1/0?this.show():this.hide()},t}(U);U.registerComponent("LiveDisplay",$C);var Py=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatus),a}var n=t.prototype;return n.createEl=function(){var i=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ne("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),i.appendChild(this.textEl_),i},n.updateLiveEdgeStatus=function(i){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(lr);Py.prototype.controlText_="Seek to live, currently playing live";U.registerComponent("SeekToLive",Py);var Bf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var i=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(i,"mousemove",this.handleMouseMove),this.off(i,"mouseup",this.handleMouseUp),this.off(i,"touchmove",this.handleMouseMove),this.off(i,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(i,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Se({tabIndex:0},a),s=Se({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),e.prototype.createEl.call(this,i,a,s)},n.handleMouseDown=function(i){var a=this.bar.el_.ownerDocument;i.type==="mousedown"&&i.preventDefault(),i.type==="touchstart"&&!Nr&&i.preventDefault(),X0(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchmove",this.handleMouseMove),this.on(a,"touchend",this.handleMouseUp),this.handleMouseMove(i)},n.handleMouseMove=function(i){},n.handleMouseUp=function(){var i=this.bar.el_.ownerDocument;Y0(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove),this.off(i,"mouseup",this.handleMouseUp),this.off(i,"touchmove",this.handleMouseMove),this.off(i,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var i=this.getPercent(),a=this.bar;if(a){(typeof i!="number"||i!==i||i<0||i===1/0)&&(i=0);var s=(i*100).toFixed(2)+"%",o=a.el().style,l=this.vertical()?"height":"width";return o[l]!==s&&(o[l]=s),i}}},n.calculateDistance=function(i){var a=_f(this.el_,i);return this.vertical()?a.y:a.x},n.handleKeyDown=function(i){re.isEventKey(i,"Left")||re.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepBack()):re.isEventKey(i,"Right")||re.isEventKey(i,"Up")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,i)},n.handleClick=function(i){i.stopPropagation(),i.preventDefault()},n.vertical=function(i){if(i===void 0)return this.vertical_||!1;this.vertical_=!!i,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(U);U.registerComponent("Slider",Bf);var WC=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.partEls_=[],a.on(r,"progress",a.update),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(i){var a=this.player_.liveTracker,s=this.player_.buffered(),o=a&&a.isLive()?a.seekableEnd():this.player_.duration(),l=this.player_.bufferedEnd(),u=this.partEls_,c=this.$(".vjs-control-text-loaded-percentage"),d=function(S,b,A){var L=S/b||0;return L=(L>=1?1:L)*100,A&&(L=L.toFixed(2)),L+"%"};this.el_.style.width=d(l,o),Wi(c,d(l,o,!0));for(var h=0;h<s.length;h++){var m=s.start(h),T=s.end(h),E=u[h];E||(E=this.el_.appendChild(Ne()),u[h]=E),E.style.left=d(m,l),E.style.width=d(T-m,l)}for(var O=u.length;O>s.length;O--)this.el_.removeChild(u[O-1]);u.length=s.length},t}(U);U.registerComponent("LoadProgressBar",WC);var GC=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.update=cn(ae(ne(a),a.update),Vn),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(i,a,s){var o=rs(this.el_),l=rs(this.player_.el()),u=i.width*a;if(!(!l||!o)){var c=i.left-l.left+u,d=i.width-u+(l.right-i.right),h=o.width/2;c<h?h+=h-c:d<h&&(h=d),h<0?h=0:h>o.width&&(h=o.width),this.el_.style.right="-"+h+"px",this.write(s)}},n.write=function(i){Wi(this.el_,i)},n.updateTime=function(i,a,s,o){var l=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var d=l.player_.liveTracker.liveWindow(),h=d-a*d;u=(h<1?"":"-")+Fi(h,d)}else u=Fi(s,c);l.update(i,a,u),o&&o()})},t}(U);U.registerComponent("TimeTooltip",GC);var jf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.update=cn(ae(ne(a),a.update),Vn),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(i,a){var s=this.getChild("timeTooltip");if(s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(i,a,o)}},t}(U);jf.prototype.options_={children:[]};!or&&!pn&&jf.prototype.options_.children.push("timeTooltip");U.registerComponent("PlayProgressBar",jf);var Ay=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.update=cn(ae(ne(a),a.update),Vn),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(i,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(i,a,o,function(){s.el_.style.left=i.width*a+"px"})},t}(U);Ay.prototype.options_={children:["timeTooltip"]};U.registerComponent("MouseTimeDisplay",Ay);var eo=5,fm=12,hm=30,zf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.setEventHandlers_(),a}var n=t.prototype;return n.setEventHandlers_=function(){this.update=cn(ae(this,this.update),hm),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in j&&"visibilityState"in j&&this.on(j,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(i){j.hidden?this.disableInterval_(i):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var i=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){i.requestAnimationFrame(i.update)},hm)},n.disableInterval_=function(i){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&i.type!=="ended"||this.clearInterval(this.updateInterval)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(i,a){var s=this.player_.liveTracker,o=this.player_.duration();s&&s.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Fi(i,o),Fi(o,o)],"{1} of {2}")),this.bar&&this.bar.update(rs(this.el_),a)},n.update=function(i){if(this.el().offsetParent!==null){var a=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),a),a}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(i){this.update_(this.player_.duration(),1)},n.getPercent=function(){var i=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(i-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=i/this.player_.duration(),a>=1?1:a||0},n.handleMouseDown=function(i){Ni(i)&&(i.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,i))},n.handleMouseMove=function(i){if(Ni(i)){var a,s=this.calculateDistance(i),o=this.player_.liveTracker;if(!o||!o.isLive())a=s*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{var l=o.seekableStart(),u=o.liveCurrentTime();if(a=l+s*o.liveWindow(),a>=u&&(a=u),a<=l&&(a=l+.1),a===1/0)return}this.player_.currentTime(a)}},n.enable=function(){e.prototype.enable.call(this);var i=this.getChild("mouseTimeDisplay");i&&i.show()},n.disable=function(){e.prototype.disable.call(this);var i=this.getChild("mouseTimeDisplay");i&&i.hide()},n.handleMouseUp=function(i){e.prototype.handleMouseUp.call(this,i),i&&i.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Wr(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+eo)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-eo)},n.handleAction=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(i){if(re.isEventKey(i,"Space")||re.isEventKey(i,"Enter"))i.preventDefault(),i.stopPropagation(),this.handleAction(i);else if(re.isEventKey(i,"Home"))i.preventDefault(),i.stopPropagation(),this.player_.currentTime(0);else if(re.isEventKey(i,"End"))i.preventDefault(),i.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(re(i))){i.preventDefault(),i.stopPropagation();var a=(re.codes[re(i)]-re.codes[0])*10/100;this.player_.currentTime(this.player_.duration()*a)}else re.isEventKey(i,"PgDn")?(i.preventDefault(),i.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-eo*fm)):re.isEventKey(i,"PgUp")?(i.preventDefault(),i.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+eo*fm)):e.prototype.handleKeyDown.call(this,i)},t}(Bf);zf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!or&&!pn&&zf.prototype.options_.children.splice(1,0,"mouseTimeDisplay");U.registerComponent("SeekBar",zf);var Iy=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.handleMouseMove=cn(ae(ne(a),a.handleMouseMove),Vn),a.throttledHandleMouseSeek=cn(ae(ne(a),a.handleMouseSeek),Vn),a.enable(),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(i){var a=this.getChild("seekBar");if(a){var s=a.getChild("mouseTimeDisplay"),o=a.el(),l=rs(o),u=_f(o,i).x;u>1?u=1:u<0&&(u=0),s&&s.update(l,u)}},n.handleMouseSeek=function(i){var a=this.getChild("seekBar");a&&a.handleMouseMove(i)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(i){return i.disable&&i.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(i){return i.enable&&i.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(i){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(i),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchend",this.handleMouseUp)},n.handleMouseUp=function(i){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseUp(i),this.off(a,"mousemove",this.throttledHandleMouseSeek),this.off(a,"touchmove",this.throttledHandleMouseSeek),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchend",this.handleMouseUp)},t}(U);Iy.prototype.options_={children:["seekBar"]};U.registerComponent("ProgressControl",Iy);var Ly=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,["enterpictureinpicture","leavepictureinpicture"],a.handlePictureInPictureChange),j.pictureInPictureEnabled||a.disable(),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(i){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(i){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(lr);Ly.prototype.controlText_="Picture-in-Picture";U.registerComponent("PictureInPictureToggle",Ly);var Oy=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,"fullscreenchange",a.handleFullscreenChange),j[r.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(i){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(i){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(lr);Oy.prototype.controlText_="Fullscreen";U.registerComponent("FullscreenToggle",Oy);var qC=function(t,n){n.tech_&&!n.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(n,"loadstart",function(){n.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},KC=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(U);U.registerComponent("VolumeLevel",KC);var Hf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on("slideractive",a.updateLastVolume_),a.on(r,"volumechange",a.updateARIAAttributes),r.ready(function(){return a.updateARIAAttributes()}),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(i){Ni(i)&&e.prototype.handleMouseDown.call(this,i)},n.handleMouseMove=function(i){Ni(i)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(i)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(i){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},n.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},n.updateLastVolume_=function(){var i=this,a=this.player_.volume();this.one("sliderinactive",function(){i.player_.volume()===0&&i.player_.lastVolume_(a)})},t}(Bf);Hf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};Hf.prototype.playerEvent="volumechange";U.registerComponent("VolumeBar",Hf);var Dy=function(e){K(t,e);function t(r,i){var a;return i===void 0&&(i={}),i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||es(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),a=e.call(this,r,i)||this,qC(ne(a),r),a.throttledHandleMouseMove=cn(ae(ne(a),a.handleMouseMove),Vn),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var n=t.prototype;return n.createEl=function(){var i="vjs-volume-horizontal";return this.options_.vertical&&(i="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+i})},n.handleMouseDown=function(i){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUp),this.on(a,"touchend",this.handleMouseUp)},n.handleMouseUp=function(i){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUp),this.off(a,"touchend",this.handleMouseUp)},n.handleMouseMove=function(i){this.volumeBar.handleMouseMove(i)},t}(U);Dy.prototype.options_={children:["volumeBar"]};U.registerComponent("VolumeControl",Dy);var XC=function(t,n){n.tech_&&!n.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(n,"loadstart",function(){n.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ry=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,XC(ne(a),r),a.on(r,["loadstart","volumechange"],a.update),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(i){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(i){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var i=this.player_.volume(),a=3;or&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?a=0:i<.33?a=1:i<.67&&(a=2);for(var s=0;s<4;s++)hs(this.el_,"vjs-vol-"+s);Ar(this.el_,"vjs-vol-"+a)},n.updateControlText_=function(){var i=this.player_.muted()||this.player_.volume()===0,a=i?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},t}(lr);Ry.prototype.controlText_="Mute";U.registerComponent("MuteToggle",Ry);var My=function(e){K(t,e);function t(r,i){var a;return i===void 0&&(i={}),typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||es(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),a=e.call(this,r,i)||this,a.on(r,["loadstart"],a.volumePanelState_),a.on(a.muteToggle,"keyup",a.handleKeyPress),a.on(a.volumeControl,"keyup",a.handleVolumeControlKeyUp),a.on("keydown",a.handleKeyPress),a.on("mouseover",a.handleMouseOver),a.on("mouseout",a.handleMouseOut),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var i="vjs-volume-panel-horizontal";return this.options_.inline||(i="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+i})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(i){re.isEventKey(i,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(i){this.addClass("vjs-hover"),Lt(j,"keyup",ae(this,this.handleKeyPress))},n.handleMouseOut=function(i){this.removeClass("vjs-hover"),Ke(j,"keyup",ae(this,this.handleKeyPress))},n.handleKeyPress=function(i){re.isEventKey(i,"Esc")&&this.handleMouseOut()},t}(U);My.prototype.options_={children:["muteToggle","volumeControl"]};U.registerComponent("VolumePanel",My);var Vf=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,i&&(a.menuButton_=i.menuButton),a.focusedChild_=-1,a.on("keydown",a.handleKeyDown),a.boundHandleBlur_=ae(ne(a),a.handleBlur),a.boundHandleTapClick_=ae(ne(a),a.handleTapClick),a}var n=t.prototype;return n.addEventListenerForItem=function(i){i instanceof U&&(this.on(i,"blur",this.boundHandleBlur_),this.on(i,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(i){i instanceof U&&(this.off(i,"blur",this.boundHandleBlur_),this.off(i,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(i){typeof i=="string"&&(i=this.getChild(i)),this.removeEventListenerForItem(i),e.prototype.removeChild.call(this,i)},n.addItem=function(i){var a=this.addChild(i);a&&this.addEventListenerForItem(a)},n.createEl=function(){var i=this.options_.contentElType||"ul";this.contentEl_=Ne(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),Lt(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(i){var a=i.relatedTarget||j.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},n.handleTapClick=function(i){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===i.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},n.handleKeyDown=function(i){re.isEventKey(i,"Left")||re.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):(re.isEventKey(i,"Right")||re.isEventKey(i,"Up"))&&(i.preventDefault(),i.stopPropagation(),this.stepBack())},n.stepForward=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_+1),this.focus(i)},n.stepBack=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_-1),this.focus(i)},n.focus=function(i){i===void 0&&(i=0);var a=this.children().slice(),s=a.length&&a[0].className&&/vjs-menu-title/.test(a[0].className);s&&a.shift(),a.length>0&&(i<0?i=0:i>=a.length&&(i=a.length-1),this.focusedChild_=i,a[i].el_.focus())},t}(U);U.registerComponent("Menu",Vf);var $f=function(e){K(t,e);function t(r,i){var a;i===void 0&&(i={}),a=e.call(this,r,i)||this,a.menuButton_=new lr(r,i),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=lr.prototype.buildCSSClass();return a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0,a.on(a.menuButton_,"tap",a.handleClick),a.on(a.menuButton_,"click",a.handleClick),a.on(a.menuButton_,"keydown",a.handleKeyDown),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),Lt(j,"keyup",ae(ne(a),a.handleMenuKeyUp))}),a.on("mouseleave",a.handleMouseLeave),a.on("keydown",a.handleSubmenuKeyDown),a}var n=t.prototype;return n.update=function(){var i=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=i,this.addChild(i),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var i=new Vf(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=Ne("li",{className:"vjs-menu-title",innerHTML:Oe(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var s=new U(this.player_,{el:a});i.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)i.addItem(this.items[o]);return i},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var i="vjs-menu-button";this.options_.inline===!0?i+="-inline":i+="-popup";var a=lr.prototype.buildCSSClass();return"vjs-menu-button "+i+" "+a+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var i="vjs-menu-button";return this.options_.inline===!0?i+="-inline":i+="-popup","vjs-menu-button "+i+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(i,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(i,a)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(i){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(i){this.removeClass("vjs-hover"),Ke(j,"keyup",ae(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(i){re.isEventKey(i,"Esc")||re.isEventKey(i,"Tab")?(this.buttonPressed_&&this.unpressButton(),re.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus())):(re.isEventKey(i,"Up")||re.isEventKey(i,"Down"))&&(this.buttonPressed_||(i.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(i){(re.isEventKey(i,"Esc")||re.isEventKey(i,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(i){this.handleSubmenuKeyDown(i)},n.handleSubmenuKeyDown=function(i){(re.isEventKey(i,"Esc")||re.isEventKey(i,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),re.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),or&&$0())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(U);U.registerComponent("MenuButton",$f);var Wf=function(e){K(t,e);function t(n,r){var i,a=r.tracks;if(i=e.call(this,n,r)||this,i.items.length<=1&&i.hide(),!a)return ne(i);var s=ae(ne(i),i.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),i.player_.on("ready",s),i.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s)}),i}return t}($f);U.registerComponent("TrackButton",Wf);var YC=["Tab","Esc","Up","Down","Right","Left"],ms=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.selectable=i.selectable,a.isSelected_=i.selected||!1,a.multiSelectable=i.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var n=t.prototype;return n.createEl=function(i,a,s){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",Se({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},a),s)},n.handleKeyDown=function(i){YC.some(function(a){return re.isEventKey(i,a)})||e.prototype.handleKeyDown.call(this,i)},n.handleClick=function(i){this.selected(!0)},n.selected=function(i){this.selectable&&(i?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Nl);U.registerComponent("MenuItem",ms);var vs=function(e){K(t,e);function t(r,i){var a,s=i.track,o=r.textTracks();i.label=s.label||s.language||"Unknown",i.selected=s.mode==="showing",a=e.call(this,r,i)||this,a.track=s,a.kinds=(i.kinds||[i.kind||a.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,m=new Array(h),T=0;T<h;T++)m[T]=arguments[T];a.handleTracksChange.apply(ne(a),m)},u=function(){for(var h=arguments.length,m=new Array(h),T=0;T<h;T++)m[T]=arguments[T];a.handleSelectedLanguageChange.apply(ne(a),m)};if(r.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){r.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;a.on(["tap","click"],function(){if(typeof I.Event!="object")try{c=new I.Event("change")}catch{}c||(c=j.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return a.handleTracksChange(),a}var n=t.prototype;return n.handleClick=function(i){var a=this.track,s=this.player_.textTracks();if(e.prototype.handleClick.call(this,i),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===a?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},n.handleTracksChange=function(i){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},n.handleSelectedLanguageChange=function(i){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(ms);U.registerComponent("TextTrackMenuItem",vs);var Ny=function(e){K(t,e);function t(r,i){return i.track={player:r,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,e.call(this,r,i)||this}var n=t.prototype;return n.handleTracksChange=function(i){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},n.handleSelectedLanguageChange=function(i){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(vs);U.registerComponent("OffTextTrackMenuItem",Ny);var Yi=function(e){K(t,e);function t(r,i){return i===void 0&&(i={}),i.tracks=r.textTracks(),e.call(this,r,i)||this}var n=t.prototype;return n.createItems=function(i,a){i===void 0&&(i=[]),a===void 0&&(a=vs);var s;this.label_&&(s=this.label_+" off"),i.push(new Ny(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new a(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),i.push(c)}}return i},t}(Wf);U.registerComponent("TextTrackButton",Yi);var Uy=function(e){K(t,e);function t(r,i){var a,s=i.track,o=i.cue,l=r.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=o.text,i.selected=o.startTime<=l&&l<o.endTime,a=e.call(this,r,i)||this,a.track=s,a.cue=o,s.addEventListener("cuechange",ae(ne(a),a.update)),a}var n=t.prototype;return n.handleClick=function(i){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(i){var a=this.cue,s=this.player_.currentTime();this.selected(a.startTime<=s&&s<a.endTime)},t}(ms);U.registerComponent("ChaptersTrackMenuItem",Uy);var Gf=function(e){K(t,e);function t(r,i,a){return e.call(this,r,i,a)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(i){(!this.track_||i&&(i.type==="addtrack"||i.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(i){if(this.track_!==i){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=i,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var i=this.player_.textTracks()||[],a=i.length-1;a>=0;a--){var s=i[a];if(s.kind===this.kind_)return s}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Oe(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var i=[];if(!this.track_)return i;var a=this.track_.cues;if(!a)return i;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=new Uy(this.player_,{track:this.track_,cue:l});i.push(u)}return i},t}(Yi);Gf.prototype.kind_="chapters";Gf.prototype.controlText_="Chapters";U.registerComponent("ChaptersButton",Gf);var qf=function(e){K(t,e);function t(r,i,a){var s;s=e.call(this,r,i,a)||this;var o=r.textTracks(),l=ae(ne(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var n=t.prototype;return n.handleTracksChange=function(i){for(var a=this.player().textTracks(),s=!1,o=0,l=a.length;o<l;o++){var u=a[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Yi);qf.prototype.kind_="descriptions";qf.prototype.controlText_="Descriptions";U.registerComponent("DescriptionsButton",qf);var Kf=function(e){K(t,e);function t(r,i,a){return e.call(this,r,i,a)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Yi);Kf.prototype.kind_="subtitles";Kf.prototype.controlText_="Subtitles";U.registerComponent("SubtitlesButton",Kf);var Xf=function(e){K(t,e);function t(r,i){var a;return i.track={player:r,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",a=e.call(this,r,i)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+i.kind+" settings dialog"),a}var n=t.prototype;return n.handleClick=function(i){this.player().getChild("textTrackSettings").open()},t}(vs);U.registerComponent("CaptionSettingsMenuItem",Xf);var Yf=function(e){K(t,e);function t(r,i,a){return e.call(this,r,i,a)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new Xf(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,i)},t}(Yi);Yf.prototype.kind_="captions";Yf.prototype.controlText_="Captions";U.registerComponent("CaptionsButton",Yf);var Fy=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(i,a,s){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);this.options_.track.kind==="captions"&&(o+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Captions")+`</span>
      `),o+="</span>";var l=e.prototype.createEl.call(this,i,Se({innerHTML:o},a),s);return l},t}(vs);U.registerComponent("SubsCapsMenuItem",Fy);var Qf=function(e){K(t,e);function t(r,i){var a;return i===void 0&&(i={}),a=e.call(this,r,i)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Oe(a.label_)),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new Xf(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i=e.prototype.createItems.call(this,i,Fy),i},t}(Yi);Qf.prototype.kinds_=["captions","subtitles"];Qf.prototype.controlText_="Subtitles";U.registerComponent("SubsCapsButton",Qf);var By=function(e){K(t,e);function t(r,i){var a,s=i.track,o=r.audioTracks();i.label=s.label||s.language||"Unknown",i.selected=s.enabled,a=e.call(this,r,i)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];a.handleTracksChange.apply(ne(a),d)};return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var n=t.prototype;return n.createEl=function(i,a,s){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);this.options_.track.kind==="main-desc"&&(o+=`
        <span aria-hidden="true" class="vjs-icon-placeholder"></span>
        <span class="vjs-control-text"> `+this.localize("Descriptions")+`</span>
      `),o+="</span>";var l=e.prototype.createEl.call(this,i,Se({innerHTML:o},a),s);return l},n.handleClick=function(i){var a=this.player_.audioTracks();e.prototype.handleClick.call(this,i);for(var s=0;s<a.length;s++){var o=a[s];o.enabled=o===this.track}},n.handleTracksChange=function(i){this.selected(this.track.enabled)},t}(ms);U.registerComponent("AudioTrackMenuItem",By);var jy=function(e){K(t,e);function t(r,i){return i===void 0&&(i={}),i.tracks=r.audioTracks(),e.call(this,r,i)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(i){i===void 0&&(i=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];i.push(new By(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return i},t}(Wf);jy.prototype.controlText_="Audio Track";U.registerComponent("AudioTrackButton",jy);var Jf=function(e){K(t,e);function t(r,i){var a,s=i.rate,o=parseFloat(s,10);return i.label=s,i.selected=o===1,i.selectable=!0,i.multiSelectable=!1,a=e.call(this,r,i)||this,a.label=s,a.rate=o,a.on(r,"ratechange",a.update),a}var n=t.prototype;return n.handleClick=function(i){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(i){this.selected(this.player().playbackRate()===this.rate)},t}(ms);Jf.prototype.contentElType="button";U.registerComponent("PlaybackRateMenuItem",Jf);var zy=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.updateVisibility(),a.updateLabel(),a.on(r,"loadstart",a.updateVisibility),a.on(r,"ratechange",a.updateLabel),a}var n=t.prototype;return n.createEl=function(){var i=e.prototype.createEl.call(this);return this.labelEl_=Ne("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),i.appendChild(this.labelEl_),i},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var i=new Vf(this.player()),a=this.playbackRates();if(a)for(var s=a.length-1;s>=0;s--)i.addChild(new Jf(this.player(),{rate:a[s]+"x"}));return i},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(i){for(var a=this.player().playbackRate(),s=this.playbackRates(),o=s[0],l=0;l<s.length;l++)if(s[l]>a){o=s[l];break}this.player().playbackRate(o)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(i){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(i){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}($f);zy.prototype.controlText_="Playback Rate";U.registerComponent("PlaybackRateMenuButton",zy);var Hy=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(U);U.registerComponent("Spacer",Hy);var QC=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var i=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return i.innerHTML="",i},t}(Hy);U.registerComponent("CustomControlSpacer",QC);var Zo=function(e){K(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(U);Zo.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in j&&Zo.prototype.options_.children.splice(Zo.prototype.options_.children.length-1,0,"pictureInPictureToggle");U.registerComponent("ControlBar",Zo);var Vy=function(e){K(t,e);function t(r,i){var a;return a=e.call(this,r,i)||this,a.on(r,"error",a.open),a}var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var i=this.player().error();return i?this.localize(i.message):""},t}(qi);Vy.prototype.options_=ve(qi.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});U.registerComponent("ErrorDisplay",Vy);var Fu="vjs-text-track-settings",pm=["#000","Black"],mm=["#00F","Blue"],vm=["#0FF","Cyan"],gm=["#0F0","Green"],ym=["#F0F","Magenta"],_m=["#F00","Red"],Tm=["#FFF","White"],Sm=["#FF0","Yellow"],Bu=["1","Opaque"],ju=["0.5","Semi-Transparent"],xm=["0","Transparent"],En={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pm,Tm,_m,gm,mm,Sm,ym,vm]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Bu,ju,xm]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Tm,pm,_m,gm,mm,Sm,ym,vm]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Bu,ju]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[xm,ju,Bu]}};En.windowColor.options=En.backgroundColor.options;function $y(e,t){if(t&&(e=t(e)),e&&e!=="none")return e}function JC(e,t){var n=e.options[e.options.selectedIndex].value;return $y(n,t)}function ZC(e,t,n){if(t){for(var r=0;r<e.options.length;r++)if($y(e.options[r].value,n)===t){e.selectedIndex=r;break}}}var ew=function(e){K(t,e);function t(r,i){var a;return i.temporary=!1,a=e.call(this,r,i)||this,a.updateDisplay=ae(ne(a),a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=Ne("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),i.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),Ei(En,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(i,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var l=En[i],u=l.id.replace("%s",this.id_),c=[a,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(d){var h=u+"-"+d[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+d[0]+'" ','aria-labelledby="'+c+" "+h+'">',o.localize(d[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var i="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",i),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",i),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var i="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",i),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",i),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var i="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",i),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",i),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return Ne("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return Ne("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var i=this.localize("restore all settings to the default values");return Ne("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+i+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+i+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var i=this;return WE(En,function(a,s,o){var l=JC(i.$(s.selector),s.parser);return l!==void 0&&(a[o]=l),a},{})},n.setValues=function(i){var a=this;Ei(En,function(s,o){ZC(a.$(s.selector),i[o],s.parser)})},n.setDefaults=function(){var i=this;Ei(En,function(a){var s=a.hasOwnProperty("default")?a.default:0;i.$(a.selector).selectedIndex=s})},n.restoreSettings=function(){var i;try{i=JSON.parse(I.localStorage.getItem(Fu))}catch(a){le.warn(a)}i&&this.setValues(i)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var i=this.getValues();try{Object.keys(i).length?I.localStorage.setItem(Fu,JSON.stringify(i)):I.localStorage.removeItem(Fu)}catch(a){le.warn(a)}}},n.updateDisplay=function(){var i=this.player_.getChild("textTrackDisplay");i&&i.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var i=this.player_.controlBar,a=i&&i.subsCapsButton,s=i&&i.captionsButton;a?a.focus():s&&s.focus()},t}(qi);U.registerComponent("TextTrackSettings",ew);var tw=function(e){K(t,e);function t(r,i){var a,s=i.ResizeObserver||I.ResizeObserver;i.ResizeObserver===null&&(s=!1);var o=ve({createEl:!s,reportTouchActivity:!1},i);return a=e.call(this,r,o)||this,a.ResizeObserver=i.ResizeObserver||I.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=JE(function(){a.resizeHandler()},100,!1,ne(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(r.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var l=a.debouncedHandler_,u=a.unloadListener_=function(){Ke(this,"resize",l),Ke(this,"unload",u),u=null};Lt(a.el_.contentWindow,"unload",u),Lt(a.el_.contentWindow,"resize",l)}},a.one("load",a.loadListener_)),a}var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(U);U.registerComponent("ResizeManager",tw);var rw=function(t){var n=Math.floor(t.length/2),r=[].concat(t).sort(function(i,a){return i-a});return t.length%2!==0?r[n]:(r[n-1]+r[n])/2},nw=function(e){K(t,e);function t(r,i){var a,s=ve({createEl:!1},i);return a=e.call(this,r,s)||this,a.reset_(),a.on(a.player_,"durationchange",a.handleDurationchange),Af&&"hidden"in j&&"visibilityState"in j&&a.on(j,"visibilitychange",a.handleVisibilityChange),a}var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(j.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var i=this.liveCurrentTime(),a=this.player_.currentTime(),s=this.seekableIncrement_*2+.07;return i!==1/0&&i-s>=a},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var i=this.player_.seekable();if(!(!i||!i.length)){var a=this.seekableEnd();a!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(a-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=rw(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=a,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var i=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){i.timeupdateSeen_=!0,i.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var i=this.player_.seekable(),a=[],s=i?i.length:0;s--;)a.push(i.end(s));return a.length?a.sort()[a.length-1]:1/0},n.seekableStart=function(){for(var i=this.player_.seekable(),a=[],s=i?i.length:0;s--;)a.push(i.start(s));return a.length?a.sort()[0]:0},n.liveWindow=function(){var i=this.liveCurrentTime();return i===1/0?1/0:i-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return typeof this.trackingInterval_=="number"},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(U);U.registerComponent("LiveTracker",nw);var Qc=function(t){var n=t.el();if(n.hasAttribute("src"))return t.triggerSourceset(n.src),!0;var r=t.$$("source"),i=[],a="";if(!r.length)return!1;for(var s=0;s<r.length;s++){var o=r[s].src;o&&i.indexOf(o)===-1&&i.push(o)}return i.length?(i.length===1&&(a=i[0]),t.triggerSourceset(a),!0):!1},iw=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var n=j.createElement(this.nodeName.toLowerCase());n.innerHTML=t;for(var r=j.createDocumentFragment();n.childNodes.length;)r.appendChild(n.childNodes[0]);return this.innerText="",I.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Wy=function(t,n){for(var r={},i=0;i<t.length&&(r=Object.getOwnPropertyDescriptor(t[i],n),!(r&&r.set&&r.get));i++);return r.enumerable=!0,r.configurable=!0,r},aw=function(t){return Wy([t.el(),I.HTMLMediaElement.prototype,I.Element.prototype,iw],"innerHTML")},bm=function(t){var n=t.el();if(!n.resetSourceWatch_){var r={},i=aw(t),a=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=o.apply(n,u);return Qc(t),d}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){n[s]&&(r[s]=n[s],n[s]=a(r[s]))}),Object.defineProperty(n,"innerHTML",ve(i,{set:a(i.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(r).forEach(function(s){n[s]=r[s]}),Object.defineProperty(n,"innerHTML",i)},t.one("sourceset",n.resetSourceWatch_)}},sw=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ty(I.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return I.Element.prototype.setAttribute.call(this,"src",t),t}}),ow=function(t){return Wy([t.el(),I.HTMLMediaElement.prototype,sw],"src")},lw=function(t){if(t.featuresSourceset){var n=t.el();if(!n.resetSourceset_){var r=ow(t),i=n.setAttribute,a=n.load;Object.defineProperty(n,"src",ve(r,{set:function(o){var l=r.set.call(n,o);return t.triggerSourceset(n.src),l}})),n.setAttribute=function(s,o){var l=i.call(n,s,o);return/src/i.test(s)&&t.triggerSourceset(n.src),l},n.load=function(){var s=a.call(n);return Qc(t)||(t.triggerSourceset(""),bm(t)),s},n.currentSrc?t.triggerSourceset(n.currentSrc):Qc(t)||bm(t),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=a,n.setAttribute=i,Object.defineProperty(n,"src",r),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},V=function(e){K(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var s=r.source,o=!1;if(s&&(a.el_.currentSrc!==s.src||r.tag&&r.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),r.enableSourceset&&a.setupSourcesetHandling_(),a.el_.hasChildNodes()){for(var l=a.el_.childNodes,u=l.length,c=[];u--;){var d=l[u],h=d.nodeName.toLowerCase();h==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(d),a.remoteTextTracks().addTrack(d.track),a.textTracks().addTrack(d.track),!o&&!a.el_.hasAttribute("crossorigin")&&Ml(d.src)&&(o=!0)):c.push(d))}for(var m=0;m<c.length;m++)a.el_.removeChild(c[m])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&le.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(ns||wf||hy)&&r.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){lw(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),a,s=function(){a=[];for(var u=0;u<i.length;u++){var c=i[u];c.kind==="metadata"&&a.push({track:c,storedMode:c.mode})}};s(),i.addEventListener("change",s),this.on("dispose",function(){return i.removeEventListener("change",s)});var o=function l(){for(var u=0;u<a.length;u++){var c=a[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}i.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",s),i.removeEventListener("change",o),i.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",s),i.addEventListener("change",s),i.removeEventListener("change",o)})},n.overrideNative_=function(i,a){var s=this;if(a===this["featuresNative"+i+"Tracks"]){var o=i.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+i+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},n.overrideNativeAudioTracks=function(i){this.overrideNative_("Audio",i)},n.overrideNativeVideoTracks=function(i){this.overrideNative_("Video",i)},n.proxyNativeTracksForType_=function(i){var a=this,s=Gt[i],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(h){l.trigger({type:"change",target:l,currentTarget:l,srcElement:l})},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},c=function(){for(var h=[],m=0;m<l.length;m++){for(var T=!1,E=0;E<o.length;E++)if(o[E]===l[m]){T=!0;break}T||h.push(l[m])}for(;h.length;)l.removeTrack(h.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(d){var h=u[d];o.addEventListener(d,h),a.on("dispose",function(m){return o.removeEventListener(d,h)})}),this.on("loadstart",c),this.on("dispose",function(d){return a.off("loadstart",c)})}},n.proxyNativeTracks_=function(){var i=this;Gt.names.forEach(function(a){i.proxyNativeTracksForType_(a)})},n.createEl=function(){var i=this.options_.tag;if(!i||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(i){var a=i.cloneNode(!0);i.parentNode&&i.parentNode.insertBefore(a,i),t.disposeMediaElement(i),i=a}else{i=j.createElement("video");var s=this.options_.tag&&br(this.options_.tag),o=ve({},s);(!ns||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,q0(i,Se(o,{id:this.options_.techId,class:"vjs-tech"}))}i.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&ts(i,"preload",this.options_.preload);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],d=this.options_[c];typeof d<"u"&&(d?ts(i,c,c):Ol(i,c),i[c]=d)}return i},n.handleLateInit_=function(i){if(!(i.networkState===0||i.networkState===3)){if(i.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),i.readyState>=2&&l.push("loadeddata"),i.readyState>=3&&l.push("canplay"),i.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},n.setCurrentTime=function(i){try{this.el_.currentTime=i}catch(a){le(a,"Video is not ready. (Video.js)")}},n.duration=function(){var i=this;if(this.el_.duration===1/0&&pn&&Nr&&this.el_.currentTime===0){var a=function s(){i.el_.currentTime>0&&(i.el_.duration===1/0&&i.trigger("durationchange"),i.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var i=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){i.off("webkitbeginfullscreen",s),i.off("webkitendfullscreen",a)})}},n.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var i=I.navigator&&I.navigator.userAgent||"";if(/Android/.test(i)||!/Chrome|Mac OS X 10.5/.test(i))return!0}return!1},n.enterFullScreen=function(){var i=this.el_;i.paused&&i.networkState<=i.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){i.pause(),i.webkitEnterFullScreen()},0)):i.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(i){if(i===void 0)return this.el_.src;this.setSrc(i)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(i){this.el_.controls=!!i},n.addTextTrack=function(i,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(i,a,s):e.prototype.addTextTrack.call(this,i,a,s)},n.createRemoteTextTrack=function(i){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,i);var a=j.createElement("track");return i.kind&&(a.kind=i.kind),i.label&&(a.label=i.label),(i.language||i.srclang)&&(a.srclang=i.language||i.srclang),i.default&&(a.default=i.default),i.id&&(a.id=i.id),i.src&&(a.src=i.src),a},n.addRemoteTextTrack=function(i,a){var s=e.prototype.addRemoteTextTrack.call(this,i,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},n.removeRemoteTextTrack=function(i){if(e.prototype.removeRemoteTextTrack.call(this,i),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(i===a[s]||i===a[s].track)&&this.el().removeChild(a[s])},n.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var i={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(i.droppedVideoFrames=this.el().webkitDroppedFrameCount,i.totalVideoFrames=this.el().webkitDecodedFrameCount),I.performance&&typeof I.performance.now=="function"?i.creationTime=I.performance.now():I.performance&&I.performance.timing&&typeof I.performance.timing.navigationStart=="number"&&(i.creationTime=I.Date.now()-I.performance.timing.navigationStart),i},t}(ye);if($i()){V.TEST_VID=j.createElement("video");var to=j.createElement("track");to.kind="captions",to.srclang="en",to.label="English",V.TEST_VID.appendChild(to)}V.isSupported=function(){try{V.TEST_VID.volume=.5}catch{return!1}return!!(V.TEST_VID&&V.TEST_VID.canPlayType)};V.canPlayType=function(e){return V.TEST_VID.canPlayType(e)};V.canPlaySource=function(e,t){return V.canPlayType(e.type)};V.canControlVolume=function(){try{var e=V.TEST_VID.volume;return V.TEST_VID.volume=e/2+.1,e!==V.TEST_VID.volume}catch{return!1}};V.canMuteVolume=function(){try{var e=V.TEST_VID.muted;return V.TEST_VID.muted=!e,V.TEST_VID.muted?ts(V.TEST_VID,"muted","muted"):Ol(V.TEST_VID,"muted","muted"),e!==V.TEST_VID.muted}catch{return!1}};V.canControlPlaybackRate=function(){if(pn&&Nr&&my<58)return!1;try{var e=V.TEST_VID.playbackRate;return V.TEST_VID.playbackRate=e/2+.1,e!==V.TEST_VID.playbackRate}catch{return!1}};V.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(j.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(j.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(j.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(j.createElement("audio"),"innerHTML",{get:e,set:e})}catch{return!1}return!0};V.supportsNativeTextTracks=function(){return If||or&&Nr};V.supportsNativeVideoTracks=function(){return!!(V.TEST_VID&&V.TEST_VID.videoTracks)};V.supportsNativeAudioTracks=function(){return!!(V.TEST_VID&&V.TEST_VID.audioTracks)};V.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];V.prototype.featuresVolumeControl=V.canControlVolume();V.prototype.featuresMuteControl=V.canMuteVolume();V.prototype.featuresPlaybackRate=V.canControlPlaybackRate();V.prototype.featuresSourceset=V.canOverrideAttributes();V.prototype.movingMediaElementInDOM=!or;V.prototype.featuresFullscreenResize=!0;V.prototype.featuresProgressEvents=!0;V.prototype.featuresTimeupdateEvents=!0;V.prototype.featuresNativeTextTracks=V.supportsNativeTextTracks();V.prototype.featuresNativeVideoTracks=V.supportsNativeVideoTracks();V.prototype.featuresNativeAudioTracks=V.supportsNativeAudioTracks();var Gy=V.TEST_VID&&V.TEST_VID.constructor.prototype.canPlayType,uw=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;V.patchCanPlayType=function(){kf>=4&&!py&&!Nr&&(V.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&uw.test(e)?"maybe":Gy.call(this,e)})};V.unpatchCanPlayType=function(){var e=V.TEST_VID.constructor.prototype.canPlayType;return V.TEST_VID.constructor.prototype.canPlayType=Gy,e};V.patchCanPlayType();V.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};V.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){V.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){V.prototype["set"+Oe(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){V.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){V.prototype["set"+Oe(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){V.prototype[e]=function(){return this.el_[e]()}});ye.withSourceHandlers(V);V.nativeSourceHandler={};V.nativeSourceHandler.canPlayType=function(e){try{return V.TEST_VID.canPlayType(e)}catch{return""}};V.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return V.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Df(e.src);return V.nativeSourceHandler.canPlayType("video/"+n)}return""};V.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)};V.nativeSourceHandler.dispose=function(){};V.registerSourceHandler(V.nativeSourceHandler);ye.registerTech("Html5",V);var qy=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],zu={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Jc=["tiny","xsmall","small","medium","large","xlarge","huge"],So={};Jc.forEach(function(e){var t=e.charAt(0)==="x"?"x-"+e.substring(1):e;So[e]="vjs-layout-"+t});var cw={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},$e=function(e){K(t,e);function t(r,i,a){var s;if(r.id=r.id||i.id||"vjs_video_"+Xn(),i=Se(t.getTagSettings(r),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if(typeof r.closest=="function"){var o=r.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var l=r;l&&l.nodeType===1;){if(br(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if(s=e.call(this,null,i,a)||this,s.boundDocumentFullscreenChange_=ae(ne(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=ae(ne(s),s.fullWindowOnEscKey),s.log=z0(s.id_),s.fsApi_=Kc,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=r,s.tagAttributes=r&&br(r),s.language(s.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(h){u[h.toLowerCase()]=i.languages[h]}),s.languages_=u}else s.languages_=t.prototype.options_.languages;s.resetCache_(),s.poster_=i.poster||"",s.controls_=!!i.controls,r.controls=!1,r.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],r.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(h){if(typeof s[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),Ef(ne(s),{eventBusKey:"el_"}),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var c=ve(s.options_);i.plugins&&Object.keys(i.plugins).forEach(function(h){s[h](i.plugins[h])}),s.options_.playerOptions=c,s.middleware_=[],s.initChildren(),s.isAudio(r.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ns&&s.addClass("vjs-touch-enabled"),or||s.addClass("vjs-workinghover"),t.players[s.id_]=ne(s);var d=B0.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}var n=t.prototype;return n.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),Ke(j,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ke(j,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),IC(this),lt.names.forEach(function(a){var s=lt[a],o=i[s.getterName]();o&&o.off&&o.off()}),e.prototype.dispose.call(this)},n.createEl=function(){var i=this.tag,a,s=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=i.parentNode:o||(a=this.el_=e.prototype.createEl.call(this,"div"));var l=br(i);if(o){for(a=this.el_=i,i=this.tag=j.createElement("video");a.children.length;)i.appendChild(a.firstChild);Rn(a,"video-js")||Ar(a,"video-js"),a.appendChild(i),s=this.playerElIngest_=a,Object.keys(a).forEach(function(T){i[T]=a[T]})}if(i.setAttribute("tabindex","-1"),l.tabindex="-1",(Af||Nr&&gy)&&(i.setAttribute("role","application"),l.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(T){o&&T==="class"||a.setAttribute(T,l[T]),o&&i.setAttribute(T,l[T])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=a.player=this,this.addClass("vjs-paused"),I.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=iy("vjs-styles-dimensions");var u=un(".vjs-styles-defaults"),c=un("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var d=i.getElementsByTagName("a"),h=0;h<d.length;h++){var m=d.item(h);Ar(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!s&&i.parentNode.insertBefore(a,i),Vc(i,a),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=a,a},n.width=function(i){return this.dimension("width",i)},n.height=function(i){return this.dimension("height",i)},n.dimension=function(i,a){var s=i+"_";if(a===void 0)return this[s]||0;if(a===""){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){le.error('Improper value "'+a+'" supplied for for '+i);return}this[s]=o,this.updateStyleEl_()},n.fluid=function(i){if(i===void 0)return!!this.fluid_;this.fluid_=!!i,$n(this)&&this.off("playerreset",this.updateStyleEl_),i?(this.addClass("vjs-fluid"),this.fill(!1),ZE(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(i){if(i===void 0)return!!this.fill_;this.fill_=!!i,i?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(i){if(i===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(i))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=i,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(I.VIDEOJS_NO_DYNAMIC_STYLE===!0){var i=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(i>=0&&(s.width=i),a>=0&&(s.height=a));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var d=u.split(":"),h=d[1]/d[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/h:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*h,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),ay(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid {
        padding-top: `+h*100+`%;
      }
    `)},n.loadTech_=function(i,a){var s=this;this.tech_&&this.unloadTech_();var o=Oe(i),l=i.charAt(0).toLowerCase()+i.slice(1);o!=="Html5"&&this.tag&&(ye.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=typeof this.autoplay()=="string"?!1:this.autoplay(),c={source:a,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};lt.names.forEach(function(h){var m=lt[h];c[m.getterName]=s[m.privateName]}),Se(c,this.options_[o]),Se(c,this.options_[l]),Se(c,this.options_[i.toLowerCase()]),this.tag&&(c.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var d=ye.getTech(i);if(!d)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new d(c),this.tech_.ready(ae(this,this.handleTechReady_),!0),im.jsonToTextTracks(this.textTracksJson_||[],this.tech_),qy.forEach(function(h){s.on(s.tech_,h,s["handleTech"+Oe(h)+"_"])}),Object.keys(zu).forEach(function(h){s.on(s.tech_,h,function(m){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+zu[h]+"_"].bind(s),event:m});return}s["handleTech"+zu[h]+"_"](m)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Vc(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var i=this;lt.names.forEach(function(a){var s=lt[a];i[s.privateName]=i[s.getterName]()}),this.textTracksJson_=im.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(i){return i===void 0&&le.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(i){var a=this;if(!(!this.tech_||typeof i!="string")){var s=function(){var u=a.muted();a.muted(!0);var c=function(){a.muted(u)};a.playTerminatedQueue_.push(c);var d=a.play();if(Ra(d))return d.catch(c)},o;if(i==="any"&&this.muted()!==!0?(o=this.play(),Ra(o)&&(o=o.catch(s))):i==="muted"&&this.muted()!==!0?o=s():o=this.play(),!!Ra(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:i})}).catch(function(l){a.trigger({type:"autoplay-failure",autoplay:i})})}},n.updateSourceCaches_=function(i){i===void 0&&(i="");var a=i,s="";typeof a!="string"&&(a=i.src,s=i.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=DC(this,a)),this.cache_.source=ve({},i,{src:a,type:s});for(var o=this.cache_.sources.filter(function(m){return m.src&&m.src===a}),l=[],u=this.$$("source"),c=[],d=0;d<u.length;d++){var h=br(u[d]);l.push(h),h.src&&h.src===a&&c.push(h.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},n.handleTechSourceset_=function(i){var a=this;if(!this.changingSrc_){var s=function(c){return a.updateSourceCaches_(c)},o=this.currentSource().src,l=i.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),i.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=a.techGet("currentSrc");a.lastSource_.tech=c,a.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:i.src},this.trigger({src:i.src,type:"sourceset"})},n.hasStarted=function(i){if(i===void 0)return this.hasStarted_;i!==this.hasStarted_&&(this.hasStarted_=i,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(i){return i.callback(i.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var i=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==i.currentTime()&&(i.removeClass("vjs-waiting"),i.off("timeupdate",o))};this.on("timeupdate",s)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(le.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(i){Ni(i)&&this.controls_&&(this.paused()?Wr(this.play()):this.pause())},n.handleTechDoubleClick_=function(i){if(this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(i.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,i):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(i){i.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(i){var a=this.el(),s=j[this.fsApi_.fullscreenElement]===a;!s&&a.matches?s=a.matches(":"+this.fsApi_.fullscreen):!s&&a.msMatchesSelector&&(s=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(s),this.isFullscreen()===!1&&Ke(j,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(i,a){a&&this.isFullscreen(a.isFullscreen),this.trigger("fullscreenchange")},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(i){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(i){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var i=this.tech_.error();this.error(i)},n.handleTechTextData_=function(){var i=null;arguments.length>1&&(i=arguments[1]),this.trigger("textdata",i)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(i,a){this.ready(function(){if(i in PC)return wC(this.middleware_,this.tech_,i,a);if(i in um)return lm(this.middleware_,this.tech_,i,a);try{this.tech_&&this.tech_[i](a)}catch(s){throw le(s),s}},!0)},n.techGet_=function(i){if(!(!this.tech_||!this.tech_.isReady_)){if(i in kC)return CC(this.middleware_,this.tech_,i);if(i in um)return lm(this.middleware_,this.tech_,i);try{return this.tech_[i]()}catch(a){throw this.tech_[i]===void 0?(le("Video.js: "+i+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(le("Video.js: "+i+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(le(a),a)}}},n.play=function(){var i=this,a=this.options_.Promise||I.Promise;return a?new a(function(s){i.play_(s)}):this.play_()},n.play_=function(i){var a=this;i===void 0&&(i=Wr),this.playCallbacks_.push(i);var s=!!(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(l){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(If||or)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},n.runPlayTerminatedQueue_=function(){var i=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],i.forEach(function(a){a()})},n.runPlayCallbacks_=function(i){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(i)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return this.techGet_("paused")!==!1},n.played=function(){return this.techGet_("played")||Mn(0,0)},n.scrubbing=function(i){if(typeof i>"u")return this.scrubbing_;this.scrubbing_=!!i,i?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(i){if(typeof i<"u"){i<0&&(i=0),this.techCall_("setCurrentTime",i);return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},n.duration=function(i){if(i===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;i=parseFloat(i),i<0&&(i=1/0),i!==this.cache_.duration&&(this.cache_.duration=i,i===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(i)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var i=this.techGet_("buffered");return(!i||!i.length)&&(i=Mn(0,0)),i},n.bufferedPercent=function(){return yy(this.buffered(),this.duration())},n.bufferedEnd=function(){var i=this.buffered(),a=this.duration(),s=i.end(i.length-1);return s>a&&(s=a),s},n.volume=function(i){var a;if(i!==void 0){a=Math.max(0,Math.min(1,parseFloat(i))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},n.muted=function(i){if(i!==void 0){this.techCall_("setMuted",i);return}return this.techGet_("muted")||!1},n.defaultMuted=function(i){return i!==void 0?this.techCall_("setDefaultMuted",i):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(i){if(i!==void 0&&i!==0){this.cache_.lastVolume=i;return}return this.cache_.lastVolume},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(i){if(i!==void 0){this.isFullscreen_=!!i,this.toggleFullscreenClass_();return}return!!this.isFullscreen_},n.requestFullscreen=function(i){var a;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(Lt(j,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},i!==void 0&&(a=i)),Wr(this.el_[this.fsApi_.requestFullscreen](a))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?Wr(j[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=j.documentElement.style.overflow,Lt(j,"keydown",this.boundFullWindowOnEscKey_),j.documentElement.style.overflow="hidden",Ar(j.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(i){re.isEventKey(i,"Esc")&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,Ke(j,"keydown",this.boundFullWindowOnEscKey_),j.documentElement.style.overflow=this.docOrigOverflow,hs(j.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(i){if(i!==void 0){this.isInPictureInPicture_=!!i,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in j)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in j)return j.exitPictureInPicture()},n.handleKeyDown=function(i){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var d=["textarea"];return d.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,i):this.handleHotkeys(i))}},n.handleHotkeys=function(i){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(E){return re.isEventKey(E,"f")}:s,l=a.muteKey,u=l===void 0?function(E){return re.isEventKey(E,"m")}:l,c=a.playPauseKey,d=c===void 0?function(E){return re.isEventKey(E,"k")||re.isEventKey(E,"Space")}:c;if(o.call(this,i)){i.preventDefault(),i.stopPropagation();var h=U.getComponent("FullscreenToggle");j[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,i)}else if(u.call(this,i)){i.preventDefault(),i.stopPropagation();var m=U.getComponent("MuteToggle");m.prototype.handleClick.call(this,i)}else if(d.call(this,i)){i.preventDefault(),i.stopPropagation();var T=U.getComponent("PlayToggle");T.prototype.handleClick.call(this,i)}},n.canPlayType=function(i){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=ye.getTech(l);if(u||(u=U.getComponent(l)),!u){le.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(a=u.canPlayType(i),a))return a}return""},n.selectSource=function(i){var a=this,s=this.options_.techOrder.map(function(d){return[d,ye.getTech(d)]}).filter(function(d){var h=d[0],m=d[1];return m?m.isSupported():(le.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(h,m,T){var E;return h.some(function(O){return m.some(function(y){if(E=T(O,y),E)return!0})}),E},l,u=function(h){return function(m,T){return h(T,m)}},c=function(h,m){var T=h[0],E=h[1];if(E.canPlaySource(m,a.options_[T.toLowerCase()]))return{source:m,tech:T}};return this.options_.sourceOrder?l=o(i,s,u(c)):l=o(s,i,c),l||!1},n.src=function(i){var a=this;if(typeof i>"u")return this.cache_.src||"";var s=RC(i);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.changingSrc_=!0,this.cache_.sources=s,this.updateSourceCaches_(s[0]),bC(this,s[0],function(o,l){a.middleware_=l,a.cache_.sources=s,a.updateSourceCaches_(o);var u=a.src_(o);if(u){if(s.length>1)return a.src(s.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}EC(l,a.tech_)})},n.src_=function(i){var a=this,s=this.selectSource([i]);return s?rC(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",i):this.techCall_("src",i.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},n.load=function(){this.techCall_("load")},n.reset=function(){var i=this,a=this.options_.Promise||I.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Wr(s.then(function(){return i.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),$n(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var i=this.controlBar,a=i.durationDisplay,s=i.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var i=this.currentSource(),a=[];return Object.keys(i).length!==0&&a.push(i),this.cache_.sources||a},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(i){if(i!==void 0){this.techCall_("setPreload",i),this.options_.preload=i;return}return this.techGet_("preload")},n.autoplay=function(i){if(i===void 0)return this.options_.autoplay||!1;var a;typeof i=="string"&&/(any|play|muted)/.test(i)?(this.options_.autoplay=i,this.manualAutoplay_(i),a=!1):i?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a>"u"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},n.playsinline=function(i){return i!==void 0?(this.techCall_("setPlaysinline",i),this.options_.playsinline=i,this):this.techGet_("playsinline")},n.loop=function(i){if(i!==void 0){this.techCall_("setLoop",i),this.options_.loop=i;return}return this.techGet_("loop")},n.poster=function(i){if(i===void 0)return this.poster_;i||(i=""),i!==this.poster_&&(this.poster_=i,this.techCall_("setPoster",i),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var i=this.tech_.poster()||"";i!==this.poster_&&(this.poster_=i,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(i){if(i===void 0)return!!this.controls_;i=!!i,this.controls_!==i&&(this.controls_=i,this.usingNativeControls()&&this.techCall_("setControls",i),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(i){if(i===void 0)return!!this.usingNativeControls_;i=!!i,this.usingNativeControls_!==i&&(this.usingNativeControls_=i,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(i){if(i===void 0)return this.error_||null;if(this.options_.suppressNotSupportedError&&i&&i.message&&i.message===this.localize(this.options_.notSupportedMessage)){var a=function(){this.error(i)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(i===null){this.error_=i,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new dt(i),this.addClass("vjs-error"),le.error("(CODE:"+this.error_.code+" "+dt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(i){this.userActivity_=!0},n.userActive=function(i){if(i===void 0)return this.userActive_;if(i=!!i,i!==this.userActive_){if(this.userActive_=i,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var i,a,s,o=ae(this,this.reportUserActivity),l=function(T){(T.screenX!==a||T.screenY!==s)&&(a=T.screenX,s=T.screenY,o())},u=function(){o(),this.clearInterval(i),i=this.setInterval(o,250)},c=function(T){o(),this.clearInterval(i)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c);var d=this.getChild("controlBar");d&&!or&&!pn&&(d.on("mouseenter",function(m){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),d.on("mouseleave",function(m){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var h;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var m=this.options_.inactivityTimeout;m<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},m))}},250)},n.playbackRate=function(i){if(i!==void 0){this.techCall_("setPlaybackRate",i);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},n.defaultPlaybackRate=function(i){return i!==void 0?this.techCall_("setDefaultPlaybackRate",i):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(i){if(i!==void 0){this.isAudio_=!!i;return}return!!this.isAudio_},n.addTextTrack=function(i,a,s){if(this.tech_)return this.tech_.addTextTrack(i,a,s)},n.addRemoteTextTrack=function(i,a){if(this.tech_)return this.tech_.addRemoteTextTrack(i,a)},n.removeRemoteTextTrack=function(i){i===void 0&&(i={});var a=i,s=a.track;if(s||(s=i),this.tech_)return this.tech_.removeRemoteTextTrack(s)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(i){if(i===void 0)return this.language_;this.language_=String(i).toLowerCase()},n.languages=function(){return ve(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var i=ve(this.options_),a=i.tracks;i.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=ve(o),o.player=void 0,i.tracks[s]=o}return i},n.createModal=function(i,a){var s=this;a=a||{},a.content=i||"";var o=new qi(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var i=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Jc.length;s++){var o=Jc[s],l=this.breakpoints_[o];if(a<=l){if(i===o)return;i&&this.removeClass(So[i]),this.addClass(So[o]),this.breakpoint_=o;break}}},n.removeCurrentBreakpoint_=function(){var i=this.currentBreakpointClass();this.breakpoint_="",i&&this.removeClass(i)},n.breakpoints=function(i){return i===void 0?Se(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Se({},cw,i),this.updateCurrentBreakpoint_(),Se(this.breakpoints_))},n.responsive=function(i){if(i===void 0)return this.responsive_;i=!!i;var a=this.responsive_;if(i!==a)return this.responsive_=i,i?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),i},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return So[this.breakpoint_]||""},n.loadMedia=function(i,a){var s=this;if(!(!i||typeof i!="object")){this.reset(),this.cache_.media=ve(i);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,d=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:Jo(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(d)&&d.forEach(function(h){return s.addRemoteTextTrack(h,!1)}),this.ready(a)}},n.getMedia=function(){if(!this.cache_.media){var i=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:a,textTracks:s};return i&&(o.poster=i,o.artwork=[{src:o.poster,type:Jo(o.poster)}]),o}return ve(this.cache_.media)},t.getTagSettings=function(i){var a={sources:[],tracks:[]},s=br(i),o=s["data-setup"];if(Rn(i,"vjs-fill")&&(s.fill=!0),Rn(i,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=u1(o||"{}"),u=l[0],c=l[1];u&&le.error(u),Se(s,c)}if(Se(a,s),i.hasChildNodes())for(var d=i.childNodes,h=0,m=d.length;h<m;h++){var T=d[h],E=T.nodeName.toLowerCase();E==="source"?a.sources.push(br(T)):E==="track"&&a.tracks.push(br(T))}return a},n.flexNotSupported_=function(){var i=j.createElement("i");return!("flexBasis"in i.style||"webkitFlexBasis"in i.style||"mozFlexBasis"in i.style||"msFlexBasis"in i.style||"msFlexOrder"in i.style)},t}(U);lt.names.forEach(function(e){var t=lt[e];$e.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});$e.players={};var ma=I.navigator;$e.prototype.options_={techOrder:ye.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ma&&(ma.languages&&ma.languages[0]||ma.userLanguage||ma.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(e){$e.prototype[e]=function(){return this.techGet_(e)}});qy.forEach(function(e){$e.prototype["handleTech"+Oe(e)+"_"]=function(){return this.trigger(e)}});U.registerComponent("Player",$e);var el="plugin",Ci="activePlugins_",vi={},tl=function(t){return vi.hasOwnProperty(t)},xo=function(t){return tl(t)?vi[t]:void 0},Ky=function(t,n){t[Ci]=t[Ci]||{},t[Ci][n]=!0},rl=function(t,n,r){var i=(r?"before":"")+"pluginsetup";t.trigger(i,n),t.trigger(i+":"+n.name,n)},dw=function(t,n){var r=function(){rl(this,{name:t,plugin:n,instance:null},!0);var a=n.apply(this,arguments);return Ky(this,t),rl(this,{name:t,plugin:n,instance:a}),a};return Object.keys(n).forEach(function(i){r[i]=n[i]}),r},Em=function(t,n){return n.prototype.name=t,function(){rl(this,{name:t,plugin:n,instance:null},!0);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=_o(n,[this].concat(i));return this[t]=function(){return s},rl(this,s.getEventHash()),s}},_r=function(){function e(n){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=n,Ef(this),delete this.trigger,dy(this,this.constructor.defaultState),Ky(n,this.name),this.dispose=ae(this,this.dispose),n.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(r){return r===void 0&&(r={}),r.name=this.name,r.plugin=this.constructor,r.instance=this,r},t.trigger=function(r,i){return i===void 0&&(i={}),Gi(this.eventBusEl_,r,this.getEventHash(i))},t.handleStateChanged=function(r){},t.dispose=function(){var r=this.name,i=this.player;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Ci][r]=!1,this.player=this.state=null,i[r]=Em(r,vi[r])},e.isBasic=function(r){var i=typeof r=="string"?xo(r):r;return typeof i=="function"&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(r,i){if(typeof r!="string")throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+typeof r+".");if(tl(r))le.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!');else if($e.prototype.hasOwnProperty(r))throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+r+'", must be a function, was '+typeof i+".");return vi[r]=i,r!==el&&(e.isBasic(i)?$e.prototype[r]=dw(r,i):$e.prototype[r]=Em(r,i)),i},e.deregisterPlugin=function(r){if(r===el)throw new Error("Cannot de-register base plugin.");tl(r)&&(delete vi[r],delete $e.prototype[r])},e.getPlugins=function(r){r===void 0&&(r=Object.keys(vi));var i;return r.forEach(function(a){var s=xo(a);s&&(i=i||{},i[a]=s)}),i},e.getPluginVersion=function(r){var i=xo(r);return i&&i.VERSION||""},e}();_r.getPlugin=xo;_r.BASE_PLUGIN_NAME=el;_r.registerPlugin(el,_r);$e.prototype.usingPlugin=function(e){return!!this[Ci]&&this[Ci][e]===!0};$e.prototype.hasPlugin=function(e){return!!tl(e)};var fw=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.super_=n)},hw=function(t,n){n===void 0&&(n={});var r=function(){t.apply(this,arguments)},i={};typeof n=="object"?(n.constructor!==Object.prototype.constructor&&(r=n.constructor),i=n):typeof n=="function"&&(r=n),fw(r,t);for(var a in i)i.hasOwnProperty(a)&&(r.prototype[a]=i[a]);return r},Xy=function(t){return t.indexOf("#")===0?t.slice(1):t};function P(e,t,n){var r=P.getPlayer(e);if(r)return t&&le.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i=typeof e=="string"?un("#"+Xy(e)):e;if(!fs(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!i.ownerDocument.defaultView||!i.ownerDocument.body.contains(i))&&le.warn("The element supplied is not included in the DOM"),t=t||{},P.hooks("beforesetup").forEach(function(s){var o=s(i,ve(t));if(!ln(o)||Array.isArray(o)){le.error("please return an object in beforesetup hooks");return}t=ve(t,o)});var a=U.getComponent("Player");return r=new a(i,t,n),P.hooks("setup").forEach(function(s){return s(r)}),r}P.hooks_={};P.hooks=function(e,t){return P.hooks_[e]=P.hooks_[e]||[],t&&(P.hooks_[e]=P.hooks_[e].concat(t)),P.hooks_[e]};P.hook=function(e,t){P.hooks(e,t)};P.hookOnce=function(e,t){P.hooks(e,[].concat(t).map(function(n){var r=function i(){return P.removeHook(e,i),n.apply(void 0,arguments)};return r}))};P.removeHook=function(e,t){var n=P.hooks(e).indexOf(t);return n<=-1?!1:(P.hooks_[e]=P.hooks_[e].slice(),P.hooks_[e].splice(n,1),!0)};if(I.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&$i()){var ro=un(".vjs-styles-defaults");if(!ro){ro=iy("vjs-styles-defaults");var Hu=un("head");Hu&&Hu.insertBefore(ro,Hu.firstChild),ay(ro,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}Wc(1,P);P.VERSION=B0;P.options=$e.prototype.options_;P.getPlayers=function(){return $e.players};P.getPlayer=function(e){var t=$e.players,n;if(typeof e=="string"){var r=Xy(e),i=t[r];if(i)return i;n=un("#"+r)}else n=e;if(fs(n)){var a=n,s=a.player,o=a.playerId;if(s||t[o])return s||t[o]}};P.getAllPlayers=function(){return Object.keys($e.players).map(function(e){return $e.players[e]}).filter(Boolean)};P.players=$e.players;P.getComponent=U.getComponent;P.registerComponent=function(e,t){ye.isTech(t)&&le.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),U.registerComponent.call(U,e,t)};P.getTech=ye.getTech;P.registerTech=ye.registerTech;P.use=xC;Object.defineProperty(P,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(P.middleware,"TERMINATOR",{value:Qo,writeable:!1,enumerable:!0});P.browser=sC;P.TOUCH_ENABLED=ns;P.extend=hw;P.mergeOptions=ve;P.bind=ae;P.registerPlugin=_r.registerPlugin;P.deregisterPlugin=_r.deregisterPlugin;P.plugin=function(e,t){return le.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),_r.registerPlugin(e,t)};P.getPlugins=_r.getPlugins;P.getPlugin=_r.getPlugin;P.getPluginVersion=_r.getPluginVersion;P.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),P.options.languages=ve(P.options.languages,(n={},n[e]=t,n)),P.options.languages[e]};P.log=le;P.createLogger=z0;P.createTimeRange=P.createTimeRanges=Mn;P.formatTime=Fi;P.setFormatTime=zC;P.resetFormatTime=HC;P.parseUrl=Of;P.isCrossOrigin=Ml;P.EventTarget=Ge;P.on=Lt;P.one=Rl;P.off=Ke;P.trigger=Gi;P.xhr=c0;P.TextTrack=ps;P.AudioTrack=Sy;P.VideoTrack=xy;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){P[e]=function(){return le.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),ry[e].apply(null,arguments)}});P.computedStyle=Yo;P.dom=ry;P.url=gC;/**
 * @videojs/http-streaming
 * @version 1.10.6
 * @copyright 2019 Brightcove, Inc
 * @license Apache-2.0
 */var Un=function(t,n){return/^[a-z]+:/i.test(n)?n:(/\/\//i.test(t)||(t=zp.buildAbsoluteURL(I.location.href,t)),zp.buildAbsoluteURL(t,n))},nl=function(t,n,r){return t&&r.responseURL&&n!==r.responseURL?r.responseURL:n},Yt=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},cr=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pw=function e(t,n,r){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Ur=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},Tr=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t},mw=function(){function e(t,n){var r=[],i=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Zc=P.mergeOptions,vw=P.EventTarget,gw=P.log,Ul=function(t,n){["AUDIO","SUBTITLES"].forEach(function(r){for(var i in t.mediaGroups[r])for(var a in t.mediaGroups[r][i]){var s=t.mediaGroups[r][i][a];n(s,r,i,a)}})},yw=function(t,n,r){var i=n.slice();r=r||0;for(var a=Math.min(t.length,n.length+r),s=r;s<a;s++)i[s-r]=Zc(t[s],i[s-r]);return i},_w=function(t,n){t.resolvedUri||(t.resolvedUri=Un(n,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Un(n,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Un(n,t.map.uri))},ed=function(t,n){var r=Zc(t,{}),i=r.playlists[n.uri];if(!i||i.segments&&n.segments&&i.segments.length===n.segments.length&&i.endList===n.endList&&i.mediaSequence===n.mediaSequence)return null;var a=Zc(i,n);i.segments&&(a.segments=yw(i.segments,n.segments,n.mediaSequence-i.mediaSequence)),a.segments.forEach(function(o){_w(o,a.resolvedUri)});for(var s=0;s<r.playlists.length;s++)r.playlists[s].uri===n.uri&&(r.playlists[s]=a);return r.playlists[n.uri]=a,r},Yy=function(t){for(var n=t.playlists.length;n--;){var r=t.playlists[n];t.playlists[r.uri]=r,r.resolvedUri=Un(t.uri,r.uri),r.id=n,r.attributes||(r.attributes={},gw.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Qy=function(t){Ul(t,function(n){n.uri&&(n.resolvedUri=Un(t.uri,n.uri))})},Jy=function(t,n){var r=t.segments[t.segments.length-1],i=void 0;return n&&r&&r.duration?i=r.duration*1e3:i=(t.targetDuration||10)*500,i},il=function(e){Ur(t,e);function t(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Yt(this,t);var a=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=i.withCredentials,o=s===void 0?!1:s,l=i.handleManifestRedirects,u=l===void 0?!1:l;a.srcUrl=n,a.hls_=r,a.withCredentials=o,a.handleManifestRedirects=u;var c=r.options_;if(a.customTagParsers=c&&c.customTagParsers||[],a.customTagMappers=c&&c.customTagMappers||[],!a.srcUrl)throw new Error("A non-empty playlist URL is required");return a.state="HAVE_NOTHING",a.on("mediaupdatetimeout",function(){a.state==="HAVE_METADATA"&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:Un(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(d,h){if(a.request){if(d)return a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA");a.haveMetadata(a.request,a.media().uri)}}))}),a}return cr(t,[{key:"playlistRequestError",value:function(r,i,a){this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[i],status:r.status,message:"HLS playlist request error at URL: "+i+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(r,i){var a=this;this.request=null,this.state="HAVE_METADATA";var s=new Hp;this.customTagParsers.forEach(function(l){return s.addParser(l)}),this.customTagMappers.forEach(function(l){return s.addTagMapper(l)}),s.push(r.responseText),s.end(),s.manifest.uri=i,s.manifest.attributes=s.manifest.attributes||{};var o=ed(this.master,s.manifest);this.targetDuration=s.manifest.targetDuration,o?(this.master=o,this.media_=this.master.playlists[s.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(I.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=I.setTimeout(function(){a.trigger("mediaupdatetimeout")},Jy(this.media(),!!o))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),I.clearTimeout(this.mediaUpdateTimeout),I.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}}},{key:"media",value:function(r,i){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(I.clearTimeout(this.finalRenditionTimeout),i){var s=r.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=I.setTimeout(this.media.bind(this,r,!1),s);return}var o=this.state,l=!this.media_||r.uri!==this.media_.uri;if(this.master.playlists[r.uri].endList){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,l&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}if(l){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(u,c){if(a.request){if(r.resolvedUri=nl(a.handleManifestRedirects,r.resolvedUri,c),u)return a.playlistRequestError(a.request,r.uri,o);a.haveMetadata(c,r.uri),o==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),I.clearTimeout(this.mediaUpdateTimeout),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(r){var i=this;I.clearTimeout(this.mediaUpdateTimeout);var a=this.media();if(r){var s=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=I.setTimeout(function(){return i.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var r=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,a){if(r.request){if(r.request=null,i)return r.error={status:a.status,message:"HLS playlist request error at URL: "+r.srcUrl+".",responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");var s=new Hp;if(r.customTagParsers.forEach(function(o){return s.addParser(o)}),r.customTagMappers.forEach(function(o){return s.addTagMapper(o)}),s.push(a.responseText),s.end(),r.state="HAVE_MASTER",r.srcUrl=nl(r.handleManifestRedirects,r.srcUrl,a),s.manifest.uri=r.srcUrl,s.manifest.playlists){r.master=s.manifest,Yy(r.master),Qy(r.master),r.trigger("loadedplaylist"),r.request||r.media(s.manifest.playlists[0]);return}return r.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:I.location.href,playlists:[{uri:r.srcUrl,id:0,resolvedUri:r.srcUrl,attributes:{}}]},r.master.playlists[r.srcUrl]=r.master.playlists[0],r.haveMetadata(a,r.srcUrl),r.trigger("loadedmetadata")}})}}]),t}(vw),Cm=P.createTimeRange,Tw=function(t,n){var r=0,i=n-t.mediaSequence,a=t.segments[i];if(a){if(typeof a.start<"u")return{result:a.start,precise:!0};if(typeof a.end<"u")return{result:a.end-a.duration,precise:!0}}for(;i--;){if(a=t.segments[i],typeof a.end<"u")return{result:r+a.end,precise:!0};if(r+=a.duration,typeof a.start<"u")return{result:r+a.start,precise:!0}}return{result:r,precise:!1}},Sw=function(t,n){for(var r=0,i=void 0,a=n-t.mediaSequence;a<t.segments.length;a++){if(i=t.segments[a],typeof i.start<"u")return{result:i.start-r,precise:!0};if(r+=i.duration,typeof i.end<"u")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},Zy=function(t,n,r){var i=void 0,a=void 0;return typeof n>"u"&&(n=t.mediaSequence+t.segments.length),n<t.mediaSequence?0:(i=Tw(t,n),i.precise?i.result:(a=Sw(t,n),a.precise?a.result:i.result+r))},e_=function(t,n,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof n>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return I.Infinity}return Zy(t,n,r)},Ma=function(t,n,r){var i=0;if(n>r){var a=[r,n];n=a[0],r=a[1]}if(n<0){for(var s=n;s<Math.min(0,r);s++)i+=t.targetDuration;n=0}for(var o=n;o<r;o++)i+=t.segments[o].duration;return i},t_=function(t){if(!t.segments.length)return 0;for(var n=t.segments.length-1,r=t.segments[n].duration||t.targetDuration,i=r+t.targetDuration*2;n--&&(r+=t.segments[n].duration,!(r>=i)););return Math.max(0,n)},r_=function(t,n,r){if(!t||!t.segments)return null;if(t.endList)return e_(t);if(n===null)return null;n=n||0;var i=r?t_(t):t.segments.length;return Zy(t,t.mediaSequence+i,n)},xw=function(t,n){var r=!0,i=n||0,a=r_(t,n,r);return a===null?Cm():Cm(i,a)},wm=function(t){return t-Math.floor(t)===0},n_=function(t,n){if(wm(n))return n+t*.1;for(var r=n.toString().split(".")[1].length,i=1;i<=r;i++){var a=Math.pow(10,i),s=n*a;if(wm(s)||i===r)return(s+t)/a}},bw=n_.bind(null,1),Ew=n_.bind(null,-1),Cw=function(t,n,r,i){var a=void 0,s=void 0,o=t.segments.length,l=n-i;if(l<0){if(r>0){for(a=r-1;a>=0;a--)if(s=t.segments[a],l+=Ew(s.duration),l>0)return{mediaIndex:a,startTime:i-Ma(t,r,a)}}return{mediaIndex:0,startTime:n}}if(r<0){for(a=r;a<0;a++)if(l-=t.targetDuration,l<0)return{mediaIndex:0,startTime:n};r=0}for(a=r;a<o;a++)if(s=t.segments[a],l-=bw(s.duration),l<0)return{mediaIndex:a,startTime:i+Ma(t,r,a)};return{mediaIndex:o-1,startTime:n}},i_=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Zf=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Fl=function(t){var n=i_(t);return!t.disabled&&!n},ww=function(t){return t.disabled},kw=function(t){for(var n=0;n<t.segments.length;n++)if(t.segments[n].key)return!0;return!1},Pw=function(t){for(var n=0;n<t.segments.length;n++)if(t.segments[n].map)return!0;return!1},a_=function(t,n){return n.attributes&&n.attributes[t]},Aw=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!a_("BANDWIDTH",r))return NaN;var a=t*r.attributes.BANDWIDTH;return(a-i*8)/n},td=function(t,n){if(t.playlists.length===1)return!0;var r=n.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(function(i){return Fl(i)?(i.attributes.BANDWIDTH||0)<r:!1}).length===0},gt={duration:e_,seekable:xw,safeLiveIndex:t_,getMediaInfoForTime:Cw,isEnabled:Fl,isDisabled:ww,isBlacklisted:i_,isIncompatible:Zf,playlistEnd:r_,isAes:kw,isFmp4:Pw,hasAttribute:a_,estimateSegmentRequestTime:Aw,isLowestEnabledRendition:td},Iw=P.xhr,Lw=P.mergeOptions,s_=function(){var t=function n(r,i){r=Lw({timeout:45e3},r);var a=n.beforeRequest||P.Hls.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(r);s&&(r=s)}var o=Iw(r,function(u,c){var d=o.response;!u&&d&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=d.byteLength||d.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),c.headers&&(o.responseHeaders=c.headers),u&&u.code==="ETIMEDOUT"&&(o.timedout=!0),!u&&!o.aborted&&c.statusCode!==200&&c.statusCode!==206&&c.statusCode!==0&&(u=new Error("XHR Failed with a response of: "+(o&&(d||o.responseText)))),i(u,o)}),l=o.abort;return o.abort=function(){return o.aborted=!0,l.apply(o,arguments)},o.uri=r.uri,o.requestTime=Date.now(),o};return t},Ow=function(t){var n=void 0,r=void 0;return r=t.offset+t.length-1,n=t.offset,"bytes="+n+"-"+r},rd=function(t){var n={};return t.byterange&&(n.Range=Ow(t.byterange)),n},Dw=function(t,n){return t.start(n)+"-"+t.end(n)},Rw=function(t,n){var r=t.toString(16);return"00".substring(0,2-r.length)+r+(n%2?" ":"")},Mw=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},o_=function(t){var n={};return Object.keys(t).forEach(function(r){var i=t[r];ArrayBuffer.isView(i)?n[r]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:n[r]=i}),n},al=function(t){var n=t.byterange||{length:1/0,offset:0};return[n.length,n.offset,t.resolvedUri].join(",")},l_=function(t){return t.resolvedUri},u_=function(t){for(var n=Array.prototype.slice.call(t),r=16,i="",a=void 0,s=void 0,o=0;o<n.length/r;o++)a=n.slice(o*r,o*r+r).map(Rw).join(""),s=n.slice(o*r,o*r+r).map(Mw).join(""),i+=a+" "+s+`
`;return i},Nw=function(t){var n=t.bytes;return u_(n)},Uw=function(t){var n="",r=void 0;for(r=0;r<t.length;r++)n+=Dw(t,r)+" ";return n},Fw=Object.freeze({createTransferableMessage:o_,initSegmentId:al,segmentKeyId:l_,hexDump:u_,tagDump:Nw,textRanges:Uw}),c_=.25,Bw=function(t,n){if(!n.dateTimeObject)return null;var r=n.videoTimingInfo.transmuxerPrependedSeconds,i=n.videoTimingInfo.transmuxedPresentationStart,a=i+r,s=t-a;return new Date(n.dateTimeObject.getTime()+s*1e3)},jw=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},zw=function(t,n){var r=void 0;try{r=new Date(t)}catch{return null}if(!n||!n.segments||n.segments.length===0)return null;var i=n.segments[0];if(r<i.dateTimeObject)return null;for(var a=0;a<n.segments.length-1;a++){i=n.segments[a];var s=n.segments[a+1].dateTimeObject;if(r<s)break}var o=n.segments[n.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?jw(o.videoTimingInfo):o.duration+o.duration*c_,c=new Date(l.getTime()+u*1e3);return r>c?null:(r>l&&(i=o),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:gt.duration(n,n.mediaSequence+n.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},Hw=function(t,n){if(!n||!n.segments||n.segments.length===0)return null;for(var r=0,i=void 0,a=0;a<n.segments.length&&(i=n.segments[a],r=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration,!(t<=r));a++);var s=n.segments[n.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+s.duration*c_)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},Vw=function(t,n){var r=void 0,i=void 0;try{r=new Date(t),i=new Date(n)}catch{}var a=r.getTime(),s=i.getTime();return(s-a)/1e3},$w=function(t){if(!t.segments||t.segments.length===0)return!1;for(var n=0;n<t.segments.length;n++){var r=t.segments[n];if(!r.dateTimeObject)return!1}return!0},Ww=function(t){var n=t.playlist,r=t.time,i=r===void 0?void 0:r,a=t.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!n||i===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=Hw(i,n);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:i},l=Bw(i,s.segment);return l&&(o.programDateTime=l.toISOString()),a(null,o)},Gw=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,a=i===void 0?2:i,s=t.seekTo,o=t.pauseAfterSeek,l=o===void 0?!0:o,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!r||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!$w(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=zw(n,r);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,m=Vw(h.dateTimeObject,n);if(d.type==="estimate"){if(a===0)return c({message:n+" is not buffered yet. Try again"});s(d.estimatedStart+m),u.one("seeked",function(){e({programTime:n,playlist:r,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:c})});return}var T=h.start+m,E=function(){return c(null,u.currentTime())};u.one("seeked",E),l&&u.pause(),s(T)},Bl=1/30,kr=Bl*3,d_=function(t,n){var r=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)n(t.start(i),t.end(i))&&r.push([t.start(i),t.end(i)]);return P.createTimeRanges(r)},f_=function(t,n){return d_(t,function(r,i){return r-kr<=n&&i+kr>=n})},km=function(t,n){return d_(t,function(r){return r-Bl>=n})},qw=function(t){if(t.length<2)return P.createTimeRanges();for(var n=[],r=1;r<t.length;r++){var i=t.end(r-1),a=t.start(r);n.push([i,a])}return P.createTimeRanges(n)},eh=function(t){var n=[];if(!t||!t.length)return"";for(var r=0;r<t.length;r++)n.push(t.start(r)+" => "+t.end(r));return n.join(", ")},Kw=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=t.length?t.end(t.length-1):0;return(i-n)/r},Pm=function(t){for(var n=[],r=0;r<t.length;r++)n.push({start:t.start(r),end:t.end(r)});return n},Xw=function(t,n,r){var i=n.player_;if(r.captions&&r.captions.length){t.inbandTextTracks_||(t.inbandTextTracks_={});for(var a in r.captionStreams)if(!t.inbandTextTracks_[a]){i.tech_.trigger({type:"usage",name:"hls-608"});var s=i.textTracks().getTrackById(a);s?t.inbandTextTracks_[a]=s:t.inbandTextTracks_[a]=i.addRemoteTextTrack({kind:"captions",id:a,label:a},!1).track}}r.metadata&&r.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType)},wi=function(t,n,r){var i=void 0,a=void 0;if(r&&r.cues)for(i=r.cues.length;i--;)a=r.cues[i],a.startTime<=n&&a.endTime>=t&&r.removeCue(a)},Yw=function(t){Object.defineProperties(t.frame,{id:{get:function(){return P.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return P.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return P.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},h_=function(t){var n=void 0;return isNaN(t)||Math.abs(t)===1/0?n=Number.MAX_VALUE:n=t,n},Qw=function(t,n,r){var i=I.WebKitDataCue||I.VTTCue;if(n&&n.forEach(function(d){var h=d.stream;this.inbandTextTracks_[h].addCue(new i(d.startTime+this.timestampOffset,d.endTime+this.timestampOffset,d.text))},t),r){var a=h_(t.mediaSource_.duration);if(r.forEach(function(d){var h=d.cueTime+this.timestampOffset;typeof h!="number"||I.isNaN(h)||h<0||!(h<1/0)||d.frames.forEach(function(m){var T=new i(h,h,m.value||m.url||m.data||"");T.frame=m,T.value=m,Yw(T),this.metadataTrack_.addCue(T)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var s=t.metadataTrack_.cues,o=[],l=0;l<s.length;l++)s[l]&&o.push(s[l]);var u=o.reduce(function(d,h){var m=d[h.startTime]||[];return m.push(h),d[h.startTime]=m,d},{}),c=Object.keys(u).sort(function(d,h){return Number(d)-Number(h)});c.forEach(function(d,h){var m=u[d],T=Number(c[h+1])||a;m.forEach(function(E){E.endTime=T})})}}},Pn=typeof window<"u"?window:{},Vu=typeof Symbol>"u"?"__target":Symbol(),Jw="application/javascript",Zw=Pn.BlobBuilder||Pn.WebKitBlobBuilder||Pn.MozBlobBuilder||Pn.MSBlobBuilder,Bi=Pn.URL||Pn.webkitURL||Bi&&Bi.msURL,ki=Pn.Worker;function p_(e,t){return function(r){var i=this;if(t)if(ki&&!r){var a=t.toString().replace(/^function.+?{/,"").slice(0,-1),s=m_(a);return this[Vu]=new ki(s),ek(this[Vu],s),this[Vu]}else{var o={postMessage:function(u){i.onmessage&&setTimeout(function(){i.onmessage({data:u,target:o})})}};t.call(o),this.postMessage=function(l){setTimeout(function(){o.onmessage({data:l,target:i})})},this.isThisThread=!0}else return new ki(e)}}if(ki){var no,Am=m_("self.onmessage = function () {}"),Im=new Uint8Array(1);try{no=new ki(Am),no.postMessage(Im,[Im.buffer])}catch{ki=null}finally{Bi.revokeObjectURL(Am),no&&no.terminate()}}function m_(e){try{return Bi.createObjectURL(new Blob([e],{type:Jw}))}catch{var t=new Zw;return t.append(e),Bi.createObjectURL(t.getBlob(type))}}function ek(e,t){if(!(!e||!t)){var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Bi.revokeObjectURL(e.objURL),n.call(e)}}}var tk=new p_("./transmuxer-worker.worker.js",function(e,t){var n=this;(function(){var r=function(){this.init=function(){var f={};this.on=function(p,v){f[p]||(f[p]=[]),f[p]=f[p].concat(v)},this.off=function(p,v){var g;return f[p]?(g=f[p].indexOf(v),f[p]=f[p].slice(),f[p].splice(g,1),g>-1):!1},this.trigger=function(p){var v,g,_,x;if(v=f[p],!!v)if(arguments.length===2)for(_=v.length,g=0;g<_;++g)v[g].call(this,arguments[1]);else{for(x=[],g=arguments.length,g=1;g<arguments.length;++g)x.push(arguments[g]);for(_=v.length,g=0;g<_;++g)v[g].apply(this,x)}},this.dispose=function(){f={}}}};r.prototype.pipe=function(C){return this.on("data",function(f){C.push(f)}),this.on("done",function(f){C.flush(f)}),this.on("partialdone",function(f){C.partialFlush(f)}),this.on("endedtimeline",function(f){C.endTimeline(f)}),this.on("reset",function(f){C.reset(f)}),C},r.prototype.push=function(C){this.trigger("data",C)},r.prototype.flush=function(C){this.trigger("done",C)},r.prototype.partialFlush=function(C){this.trigger("partialdone",C)},r.prototype.endTimeline=function(C){this.trigger("endedtimeline",C)},r.prototype.reset=function(C){this.trigger("reset",C)};var i=r,a=Math.pow(2,32)-1,s,o,l,u,c,d,h,m,T,E,O,y,S,b,A,L,R,M,B,q,G,Q,$,de,Ae,Re,Be,Ee,H,X,te,ce,fe,Mt,nt,Qt;(function(){var C;if($={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(C in $)$.hasOwnProperty(C)&&($[C]=[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]);de=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Re=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Ae=new Uint8Array([0,0,0,1]),Be=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:Be,audio:Ee},ce=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),te=new Uint8Array([0,0,0,0,0,0,0,0]),fe=new Uint8Array([0,0,0,0,0,0,0,0]),Mt=fe,nt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Qt=fe,X=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(f){var p=[],v=0,g,_,x;for(g=1;g<arguments.length;g++)p.push(arguments[g]);for(g=p.length;g--;)v+=p[g].byteLength;for(_=new Uint8Array(v+8),x=new DataView(_.buffer,_.byteOffset,_.byteLength),x.setUint32(0,_.byteLength),_.set(f,4),g=0,v=8;g<p.length;g++)_.set(p[g],v),v+=p[g].byteLength;return _},o=function(){return s($.dinf,s($.dref,ce))},l=function(f){return s($.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},u=function(){return s($.ftyp,de,Ae,de,Re)},L=function(f){return s($.hdlr,H[f])},c=function(f){return s($.mdat,f)},A=function(f){var p=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(p[12]=f.samplerate>>>24&255,p[13]=f.samplerate>>>16&255,p[14]=f.samplerate>>>8&255,p[15]=f.samplerate&255),s($.mdhd,p)},b=function(f){return s($.mdia,A(f),L(f.type),h(f))},d=function(f){return s($.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},h=function(f){return s($.minf,f.type==="video"?s($.vmhd,X):s($.smhd,te),o(),M(f))},m=function(f,p){for(var v=[],g=p.length;g--;)v[g]=q(p[g]);return s.apply(null,[$.moof,d(f)].concat(v))},T=function(f){for(var p=f.length,v=[];p--;)v[p]=y(f[p]);return s.apply(null,[$.moov,O(4294967295)].concat(v).concat(E(f)))},E=function(f){for(var p=f.length,v=[];p--;)v[p]=G(f[p]);return s.apply(null,[$.mvex].concat(v))},O=function(f){var p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s($.mvhd,p)},R=function(f){var p=f.samples||[],v=new Uint8Array(4+p.length),g,_;for(_=0;_<p.length;_++)g=p[_].flags,v[_+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return s($.sdtp,v)},M=function(f){return s($.stbl,B(f),s($.stts,Qt),s($.stsc,Mt),s($.stsz,nt),s($.stco,fe))},function(){var C,f;B=function(v){return s($.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),v.type==="video"?C(v):f(v))},C=function(v){var g=v.sps||[],_=v.pps||[],x=[],k=[],w,D;for(w=0;w<g.length;w++)x.push((g[w].byteLength&65280)>>>8),x.push(g[w].byteLength&255),x=x.concat(Array.prototype.slice.call(g[w]));for(w=0;w<_.length;w++)k.push((_[w].byteLength&65280)>>>8),k.push(_[w].byteLength&255),k=k.concat(Array.prototype.slice.call(_[w]));if(D=[$.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(v.width&65280)>>8,v.width&255,(v.height&65280)>>8,v.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s($.avcC,new Uint8Array([1,v.profileIdc,v.profileCompatibility,v.levelIdc,255].concat([g.length],x,[_.length],k))),s($.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],v.sarRatio){var N=v.sarRatio[0],W=v.sarRatio[1];D.push(s($.pasp,new Uint8Array([(N&4278190080)>>24,(N&16711680)>>16,(N&65280)>>8,N&255,(W&4278190080)>>24,(W&16711680)>>16,(W&65280)>>8,W&255])))}return s.apply(null,D)},f=function(v){return s($.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(v.channelcount&65280)>>8,v.channelcount&255,(v.samplesize&65280)>>8,v.samplesize&255,0,0,0,0,(v.samplerate&65280)>>8,v.samplerate&255,0,0]),l(v))}}(),S=function(f){var p=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return s($.tkhd,p)},q=function(f){var p,v,g,_,x,k,w;return p=s($.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),k=Math.floor(f.baseMediaDecodeTime/(a+1)),w=Math.floor(f.baseMediaDecodeTime%(a+1)),v=s($.tfdt,new Uint8Array([1,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,k&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255])),x=32+20+8+16+8+8,f.type==="audio"?(g=Q(f,x),s($.traf,p,v,g)):(_=R(f),g=Q(f,_.length+x),s($.traf,p,v,g,_))},y=function(f){return f.duration=f.duration||4294967295,s($.trak,S(f),b(f))},G=function(f){var p=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(p[p.length-1]=0),s($.trex,p)},function(){var C,f,p;p=function(g,_){var x=0,k=0,w=0,D=0;return g.length&&(g[0].duration!==void 0&&(x=1),g[0].size!==void 0&&(k=2),g[0].flags!==void 0&&(w=4),g[0].compositionTimeOffset!==void 0&&(D=8)),[0,0,x|k|w|D,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(_&4278190080)>>>24,(_&16711680)>>>16,(_&65280)>>>8,_&255]},f=function(g,_){var x,k,w,D;for(k=g.samples||[],_+=8+12+16*k.length,x=p(k,_),D=0;D<k.length;D++)w=k[D],x=x.concat([(w.duration&4278190080)>>>24,(w.duration&16711680)>>>16,(w.duration&65280)>>>8,w.duration&255,(w.size&4278190080)>>>24,(w.size&16711680)>>>16,(w.size&65280)>>>8,w.size&255,w.flags.isLeading<<2|w.flags.dependsOn,w.flags.isDependedOn<<6|w.flags.hasRedundancy<<4|w.flags.paddingValue<<1|w.flags.isNonSyncSample,w.flags.degradationPriority&61440,w.flags.degradationPriority&15,(w.compositionTimeOffset&4278190080)>>>24,(w.compositionTimeOffset&16711680)>>>16,(w.compositionTimeOffset&65280)>>>8,w.compositionTimeOffset&255]);return s($.trun,new Uint8Array(x))},C=function(g,_){var x,k,w,D;for(k=g.samples||[],_+=8+12+8*k.length,x=p(k,_),D=0;D<k.length;D++)w=k[D],x=x.concat([(w.duration&4278190080)>>>24,(w.duration&16711680)>>>16,(w.duration&65280)>>>8,w.duration&255,(w.size&4278190080)>>>24,(w.size&16711680)>>>16,(w.size&65280)>>>8,w.size&255]);return s($.trun,new Uint8Array(x))},Q=function(g,_){return g.type==="audio"?C(g,_):f(g,_)}}();var je={ftyp:u,mdat:c,moof:m,moov:T,initSegment:function(f){var p=u(),v=T(f),g;return g=new Uint8Array(p.byteLength+v.byteLength),g.set(p),g.set(v,p.byteLength),g}},Jt=function(f){var p,v,g=[],_=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,g.byteLength=0,p=0;p<f.length;p++)v=f[p],v.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=v.dts-g.dts,_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g)),g=[v],g.byteLength=v.data.byteLength,g.pts=v.pts,g.dts=v.dts):(v.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=v.dts-g.dts,g.byteLength+=v.data.byteLength,g.push(v));return _.length&&(!g.duration||g.duration<=0)&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.length,_.duration+=g.duration,_.push(g),_},A_=function(f){var p,v,g=[],_=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=f[0].pts,g.dts=f[0].dts,_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=f[0].pts,_.dts=f[0].dts,p=0;p<f.length;p++)v=f[p],v.keyFrame?(g.length&&(_.push(g),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration),g=[v],g.nalCount=v.length,g.byteLength=v.byteLength,g.pts=v.pts,g.dts=v.dts,g.duration=v.duration):(g.duration+=v.duration,g.nalCount+=v.length,g.byteLength+=v.byteLength,g.push(v));return _.length&&g.duration<=0&&(g.duration=_[_.length-1].duration),_.byteLength+=g.byteLength,_.nalCount+=g.nalCount,_.duration+=g.duration,_.push(g),_},I_=function(f){var p;return!f[0][0].keyFrame&&f.length>1&&(p=f.shift(),f.byteLength-=p.byteLength,f.nalCount-=p.nalCount,f[0][0].dts=p.dts,f[0][0].pts=p.pts,f[0][0].duration+=p.duration),f},L_=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ih=function(f,p){var v=L_();return v.dataOffset=p,v.compositionTimeOffset=f.pts-f.dts,v.duration=f.duration,v.size=4*f.length,v.size+=f.byteLength,f.keyFrame&&(v.flags.dependsOn=2,v.flags.isNonSyncSample=0),v},O_=function(f,p){var v,g,_,x,k,w=p||0,D=[];for(v=0;v<f.length;v++)for(x=f[v],g=0;g<x.length;g++)k=x[g],_=ih(k,w),w+=_.size,D.push(_);return D},D_=function(f){var p,v,g,_,x,k,w=0,D=f.byteLength,N=f.nalCount,W=D+4*N,J=new Uint8Array(W),ee=new DataView(J.buffer);for(p=0;p<f.length;p++)for(_=f[p],v=0;v<_.length;v++)for(x=_[v],g=0;g<x.length;g++)k=x[g],ee.setUint32(w,k.data.byteLength),w+=4,J.set(k.data,w),w+=k.data.byteLength;return J},R_=function(f,p){var v,g=p||0,_=[];return v=ih(f,g),_.push(v),_},M_=function(f){var p,v,g=0,_=f.byteLength,x=f.length,k=_+4*x,w=new Uint8Array(k),D=new DataView(w.buffer);for(p=0;p<f.length;p++)v=f[p],D.setUint32(g,v.data.byteLength),g+=4,w.set(v.data,g),g+=v.data.byteLength;return w},Qi={groupNalsIntoFrames:Jt,groupFramesIntoGops:A_,extendFirstKeyFrame:I_,generateSampleTable:O_,concatenateNalData:D_,generateSampleTableForFrame:R_,concatenateNalDataForFrame:M_},Fr=[33,16,5,32,164,27],jl=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],he=function(f){for(var p=[];f--;)p.push(0);return p},N_=function(f){return Object.keys(f).reduce(function(p,v){return p[v]=new Uint8Array(f[v].reduce(function(g,_){return g.concat(_)},[])),p},{})},U_={96e3:[Fr,[227,64],he(154),[56]],88200:[Fr,[231],he(170),[56]],64e3:[Fr,[248,192],he(240),[56]],48e3:[Fr,[255,192],he(268),[55,148,128],he(54),[112]],44100:[Fr,[255,192],he(268),[55,163,128],he(84),[112]],32e3:[Fr,[255,192],he(268),[55,234],he(226),[112]],24e3:[Fr,[255,192],he(268),[55,255,128],he(268),[111,112],he(126),[224]],16e3:[Fr,[255,192],he(268),[55,255,128],he(268),[111,255],he(269),[223,108],he(195),[1,192]],12e3:[jl,he(268),[3,127,248],he(268),[6,255,240],he(268),[13,255,224],he(268),[27,253,128],he(259),[56]],11025:[jl,he(268),[3,127,248],he(268),[6,255,240],he(268),[13,255,224],he(268),[27,255,192],he(268),[55,175,128],he(108),[112]],8e3:[jl,he(268),[3,121,16],he(47),[7]]},F_=N_(U_),zl=9e4,Hl,Vl,_s,$l,ah,sh,oh;Hl=function(f){return f*zl},Vl=function(f,p){return f*p},_s=function(f){return f/zl},$l=function(f,p){return f/p},ah=function(f,p){return Hl($l(f,p))},sh=function(f,p){return Vl(_s(f),p)},oh=function(f,p,v){return _s(v?f:f-p)};var dr={ONE_SECOND_IN_TS:zl,secondsToVideoTs:Hl,secondsToAudioTs:Vl,videoTsToSeconds:_s,audioTsToSeconds:$l,audioTsToVideoTs:ah,videoTsToAudioTs:sh,metadataTsToSeconds:oh},B_=function(f){var p,v,g=0;for(p=0;p<f.length;p++)v=f[p],g+=v.data.byteLength;return g},j_=function(f,p,v,g){var _,x=0,k=0,w=0,D=0,N,W,J;if(p.length&&(_=dr.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),x=Math.ceil(dr.ONE_SECOND_IN_TS/(f.samplerate/1024)),v&&g&&(k=_-Math.max(v,g),w=Math.floor(k/x),D=w*x),!(w<1||D>dr.ONE_SECOND_IN_TS/2))){for(N=F_[f.samplerate],N||(N=p[0].data),W=0;W<w;W++)J=p[0],p.splice(0,0,{data:N,dts:J.dts-x,pts:J.pts-x});f.baseMediaDecodeTime-=Math.floor(dr.videoTsToAudioTs(D,f.samplerate))}},z_=function(f,p,v){return p.minSegmentDts>=v?f:(p.minSegmentDts=1/0,f.filter(function(g){return g.dts>=v?(p.minSegmentDts=Math.min(p.minSegmentDts,g.dts),p.minSegmentPts=p.minSegmentDts,!0):!1}))},H_=function(f){var p,v,g=[];for(p=0;p<f.length;p++)v=f[p],g.push({size:v.data.byteLength,duration:1024});return g},V_=function(f){var p,v,g=0,_=new Uint8Array(B_(f));for(p=0;p<f.length;p++)v=f[p],_.set(v.data,g),g+=v.data.byteLength;return _},Ts={prefixWithSilence:j_,trimAdtsFramesByEarliestDts:z_,generateSampleTable:H_,concatenateFrameData:V_},$_=dr.ONE_SECOND_IN_TS,W_=function(f,p){typeof p.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=p.pts),f.minSegmentPts===void 0?f.minSegmentPts=p.pts:f.minSegmentPts=Math.min(f.minSegmentPts,p.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=p.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,p.pts)),typeof p.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=p.dts),f.minSegmentDts===void 0?f.minSegmentDts=p.dts:f.minSegmentDts=Math.min(f.minSegmentDts,p.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=p.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,p.dts))},G_=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},q_=function(f,p){var v,g,_=f.minSegmentDts;return p||(_-=f.timelineStartInfo.dts),v=f.timelineStartInfo.baseMediaDecodeTime,v+=_,v=Math.max(0,v),f.type==="audio"&&(g=f.samplerate/$_,v*=g,v=Math.floor(v)),v},Zt={clearDtsInfo:G_,calculateTrackBaseMediaDecodeTime:q_,collectDtsInfo:W_},lh=4,K_=128,X_=function(f){for(var p=0,v={payloadType:-1,payloadSize:0},g=0,_=0;p<f.byteLength&&f[p]!==K_;){for(;f[p]===255;)g+=255,p++;for(g+=f[p++];f[p]===255;)_+=255,p++;if(_+=f[p++],!v.payload&&g===lh){v.payloadType=g,v.payloadSize=_,v.payload=f.subarray(p,p+_);break}p+=_,g=0,_=0}return v},Y_=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},Q_=function(f,p){var v=[],g,_,x,k;if(!(p[0]&64))return v;for(_=p[0]&31,g=0;g<_;g++)x=g*3,k={type:p[x+2]&3,pts:f},p[x+2]&4&&(k.ccData=p[x+3]<<8|p[x+4],v.push(k));return v},J_=function(f){for(var p=f.byteLength,v=[],g=1,_,x;g<p-2;)f[g]===0&&f[g+1]===0&&f[g+2]===3?(v.push(g+2),g+=2):g++;if(v.length===0)return f;_=p-v.length,x=new Uint8Array(_);var k=0;for(g=0;g<_;k++,g++)k===v[0]&&(k++,v.shift()),x[g]=f[k];return x},Ss={parseSei:X_,parseUserData:Y_,parseCaptionPackets:Q_,discardEmulationPreventionBytes:J_,USER_DATA_REGISTERED_ITU_T_T35:lh},Nt=function C(){C.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ce(0,0),new Ce(0,1),new Ce(1,0),new Ce(1,1)],this.reset(),this.ccStreams_.forEach(function(f){f.on("data",this.trigger.bind(this,"data")),f.on("partialdone",this.trigger.bind(this,"partialdone")),f.on("done",this.trigger.bind(this,"done"))},this)};Nt.prototype=new i,Nt.prototype.push=function(C){var f,p,v;if(C.nalUnitType==="sei_rbsp"&&(f=Ss.parseSei(C.escapedRBSP),f.payloadType===Ss.USER_DATA_REGISTERED_ITU_T_T35&&(p=Ss.parseUserData(f),!!p))){if(C.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(C.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}v=Ss.parseCaptionPackets(C.pts,p),this.captionPackets_=this.captionPackets_.concat(v),this.latestDts_!==C.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=C.dts}},Nt.prototype.flushCCStreams=function(C){this.ccStreams_.forEach(function(f){return C==="flush"?f.flush():f.partialFlush()},this)},Nt.prototype.flushStream=function(C){if(!this.captionPackets_.length){this.flushCCStreams(C);return}this.captionPackets_.forEach(function(f,p){f.presortIndex=p}),this.captionPackets_.sort(function(f,p){return f.pts===p.pts?f.presortIndex-p.presortIndex:f.pts-p.pts}),this.captionPackets_.forEach(function(f){f.type<2&&this.dispatchCea608Packet(f)},this),this.captionPackets_.length=0,this.flushCCStreams(C)},Nt.prototype.flush=function(){return this.flushStream("flush")},Nt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Nt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(C){C.reset()})},Nt.prototype.dispatchCea608Packet=function(C){this.setsTextOrXDSActive(C)?this.activeCea608Channel_[C.type]=null:this.setsChannel1Active(C)?this.activeCea608Channel_[C.type]=0:this.setsChannel2Active(C)&&(this.activeCea608Channel_[C.type]=1),this.activeCea608Channel_[C.type]!==null&&this.ccStreams_[(C.type<<1)+this.activeCea608Channel_[C.type]].push(C)},Nt.prototype.setsChannel1Active=function(C){return(C.ccData&30720)===4096},Nt.prototype.setsChannel2Active=function(C){return(C.ccData&30720)===6144},Nt.prototype.setsTextOrXDSActive=function(C){return(C.ccData&28928)===256||(C.ccData&30974)===4138||(C.ccData&30974)===6186};var Z_={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},xs=function(f){return f===null?"":(f=Z_[f]||f,String.fromCharCode(f))},bs=14,eT=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],mn=function(){for(var f=[],p=bs+1;p--;)f.push("");return f},Ce=function C(f,p){C.prototype.init.call(this),this.field_=f||0,this.dataChannel_=p||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(v){var g,_,x,k,w;if(g=v.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)===4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),x=g>>>8,k=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(v.pts),this.flushDisplayed(v.pts),_=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=_,this.startPts_=v.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(v.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(v.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(v.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(v.pts),this.flushDisplayed(v.pts),this.shiftRowsUp_(),this.startPts_=v.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(v.pts),this.displayed_=mn();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=mn();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(v.pts),this.displayed_=mn()),this.mode_="paintOn",this.startPts_=v.pts;else if(this.isSpecialCharacter(x,k))x=(x&3)<<8,w=xs(x|k),this[this.mode_](v.pts,w),this.column_++;else if(this.isExtCharacter(x,k))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),x=(x&3)<<8,w=xs(x|k),this[this.mode_](v.pts,w),this.column_++;else if(this.isMidRowCode(x,k))this.clearFormatting(v.pts),this[this.mode_](v.pts," "),this.column_++,(k&14)===14&&this.addFormatting(v.pts,["i"]),(k&1)===1&&this.addFormatting(v.pts,["u"]);else if(this.isOffsetControlCode(x,k))this.column_+=k&3;else if(this.isPAC(x,k)){var D=eT.indexOf(g&7968);this.mode_==="rollUp"&&(D-this.rollUpRows_+1<0&&(D=this.rollUpRows_-1),this.setRollUp(v.pts,D)),D!==this.row_&&(this.clearFormatting(v.pts),this.row_=D),k&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(v.pts,["u"]),(g&16)===16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(k)&&(k&14)===14&&this.addFormatting(v.pts,["i"])}else this.isNormalChar(x)&&(k===0&&(k=null),w=xs(x),w+=xs(k),this[this.mode_](v.pts,w),this.column_+=w.length)}};Ce.prototype=new i,Ce.prototype.flushDisplayed=function(C){var f=this.displayed_.map(function(p){try{return p.trim()}catch{return console.error("Skipping malformed caption."),""}}).join(`
`).replace(/^\n+|\n+$/g,"");f.length&&this.trigger("data",{startPts:this.startPts_,endPts:C,text:f,stream:this.name_})},Ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=mn(),this.nonDisplayed_=mn(),this.lastControlCode_=null,this.column_=0,this.row_=bs,this.rollUpRows_=2,this.formatting_=[]},Ce.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ce.prototype.isSpecialCharacter=function(C,f){return C===this.EXT_&&f>=48&&f<=63},Ce.prototype.isExtCharacter=function(C,f){return(C===this.EXT_+1||C===this.EXT_+2)&&f>=32&&f<=63},Ce.prototype.isMidRowCode=function(C,f){return C===this.EXT_&&f>=32&&f<=47},Ce.prototype.isOffsetControlCode=function(C,f){return C===this.OFFSET_&&f>=33&&f<=35},Ce.prototype.isPAC=function(C,f){return C>=this.BASE_&&C<this.BASE_+8&&f>=64&&f<=127},Ce.prototype.isColorPAC=function(C){return C>=64&&C<=79||C>=96&&C<=127},Ce.prototype.isNormalChar=function(C){return C>=32&&C<=127},Ce.prototype.setRollUp=function(C,f){if(this.mode_!=="rollUp"&&(this.row_=bs,this.mode_="rollUp",this.flushDisplayed(C),this.nonDisplayed_=mn(),this.displayed_=mn()),f!==void 0&&f!==this.row_)for(var p=0;p<this.rollUpRows_;p++)this.displayed_[f-p]=this.displayed_[this.row_-p],this.displayed_[this.row_-p]="";f===void 0&&(f=this.row_),this.topRow_=f-this.rollUpRows_+1},Ce.prototype.addFormatting=function(C,f){this.formatting_=this.formatting_.concat(f);var p=f.reduce(function(v,g){return v+"<"+g+">"},"");this[this.mode_](C,p)},Ce.prototype.clearFormatting=function(C){if(this.formatting_.length){var f=this.formatting_.reverse().reduce(function(p,v){return p+"</"+v+">"},"");this.formatting_=[],this[this.mode_](C,f)}},Ce.prototype.popOn=function(C,f){var p=this.nonDisplayed_[this.row_];p+=f,this.nonDisplayed_[this.row_]=p},Ce.prototype.rollUp=function(C,f){var p=this.displayed_[this.row_];p+=f,this.displayed_[this.row_]=p},Ce.prototype.shiftRowsUp_=function(){var C;for(C=0;C<this.topRow_;C++)this.displayed_[C]="";for(C=this.row_+1;C<bs+1;C++)this.displayed_[C]="";for(C=this.topRow_;C<this.row_;C++)this.displayed_[C]=this.displayed_[C+1];this.displayed_[this.row_]=""},Ce.prototype.paintOn=function(C,f){var p=this.displayed_[this.row_];p+=f,this.displayed_[this.row_]=p};var uh={CaptionStream:Nt,Cea608Stream:Ce},bt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},tT=8589934592,rT=4294967296,ch="shared",Wl=function(f,p){var v=1;for(f>p&&(v=-1);Math.abs(p-f)>rT;)f+=v*tT;return f},dh=function C(f){var p,v;C.prototype.init.call(this),this.type_=f||ch,this.push=function(g){this.type_!==ch&&g.type!==this.type_||(v===void 0&&(v=g.dts),g.dts=Wl(g.dts,v),g.pts=Wl(g.pts,v),p=g.dts,this.trigger("data",g))},this.flush=function(){v=p,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){v=void 0,p=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};dh.prototype=new i;var nT={TimestampRolloverStream:dh,handleRollover:Wl},fh=function(f,p,v){var g,_="";for(g=p;g<v;g++)_+="%"+("00"+f[g].toString(16)).slice(-2);return _},Es=function(f,p,v){return decodeURIComponent(fh(f,p,v))},iT=function(f,p,v){return unescape(fh(f,p,v))},Cs=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},hh={TXXX:function(f){var p;if(f.data[0]===3){for(p=1;p<f.data.length;p++)if(f.data[p]===0){f.description=Es(f.data,1,p),f.value=Es(f.data,p+1,f.data.length).replace(/\0*$/,"");break}f.data=f.value}},WXXX:function(f){var p;if(f.data[0]===3){for(p=1;p<f.data.length;p++)if(f.data[p]===0){f.description=Es(f.data,1,p),f.url=Es(f.data,p+1,f.data.length);break}}},PRIV:function(f){var p;for(p=0;p<f.data.length;p++)if(f.data[p]===0){f.owner=iT(f.data,0,p);break}f.privateData=f.data.subarray(p+1),f.data=f.privateData}},ws;ws=function(f){var p={debug:!!(f&&f.debug),descriptor:f&&f.descriptor},v=0,g=[],_=0,x;if(ws.prototype.init.call(this),this.dispatchType=bt.METADATA_STREAM_TYPE.toString(16),p.descriptor)for(x=0;x<p.descriptor.length;x++)this.dispatchType+=("00"+p.descriptor[x].toString(16)).slice(-2);this.push=function(k){var w,D,N,W,J,ee;if(k.type==="timed-metadata"){if(k.dataAlignmentIndicator&&(_=0,g.length=0),g.length===0&&(k.data.length<10||k.data[0]!=="I".charCodeAt(0)||k.data[1]!=="D".charCodeAt(0)||k.data[2]!=="3".charCodeAt(0))){p.debug&&console.log("Skipping unrecognized metadata packet");return}if(g.push(k),_+=k.data.byteLength,g.length===1&&(v=Cs(k.data.subarray(6,10)),v+=10),!(_<v)){for(w={data:new Uint8Array(v),frames:[],pts:g[0].pts,dts:g[0].dts},J=0;J<v;)w.data.set(g[0].data.subarray(0,v-J),J),J+=g[0].data.byteLength,_-=g[0].data.byteLength,g.shift();D=10,w.data[5]&64&&(D+=4,D+=Cs(w.data.subarray(10,14)),v-=Cs(w.data.subarray(16,20)));do{if(N=Cs(w.data.subarray(D+4,D+8)),N<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(ee=String.fromCharCode(w.data[D],w.data[D+1],w.data[D+2],w.data[D+3]),W={id:ee,data:w.data.subarray(D+10,D+N+10)},W.key=W.id,hh[W.id]&&(hh[W.id](W),W.owner==="com.apple.streaming.transportStreamTimestamp")){var ie=W.data,oe=(ie[3]&1)<<30|ie[4]<<22|ie[5]<<14|ie[6]<<6|ie[7]>>>2;oe*=4,oe+=ie[7]&3,W.timeStamp=oe,w.pts===void 0&&w.dts===void 0&&(w.pts=W.timeStamp,w.dts=W.timeStamp),this.trigger("timestamp",W)}w.frames.push(W),D+=10,D+=N}while(D<v);this.trigger("data",w)}}}},ws.prototype=new i;var aT=ws,sT=nT.TimestampRolloverStream,ks,Ji,Ps,Yn=188,Gl=71;ks=function(){var f=new Uint8Array(Yn),p=0;ks.prototype.init.call(this),this.push=function(v){var g=0,_=Yn,x;for(p?(x=new Uint8Array(v.byteLength+p),x.set(f.subarray(0,p)),x.set(v,p),p=0):x=v;_<x.byteLength;){if(x[g]===Gl&&x[_]===Gl){this.trigger("data",x.subarray(g,_)),g+=Yn,_+=Yn;continue}g++,_++}g<x.byteLength&&(f.set(x.subarray(g),0),p=x.byteLength-g)},this.flush=function(){p===Yn&&f[0]===Gl&&(this.trigger("data",f),p=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){p=0,this.trigger("reset")}},ks.prototype=new i,Ji=function(){var f,p,v,g;Ji.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(x,k){var w=0;k.payloadUnitStartIndicator&&(w+=x[w]+1),k.type==="pat"?p(x.subarray(w),k):v(x.subarray(w),k)},p=function(x,k){k.section_number=x[7],k.last_section_number=x[8],g.pmtPid=(x[10]&31)<<8|x[11],k.pmtPid=g.pmtPid},v=function(x,k){var w,D,N,W;if(x[5]&1){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},w=(x[1]&15)<<8|x[2],D=3+w-4,N=(x[10]&15)<<8|x[11],W=12+N;W<D;){var J=x[W],ee=(x[W+1]&31)<<8|x[W+2];J===bt.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=ee:J===bt.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=ee:J===bt.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][ee]=J),W+=((x[W+3]&15)<<8|x[W+4])+5}k.programMapTable=g.programMapTable}},this.push=function(_){var x={},k=4;if(x.payloadUnitStartIndicator=!!(_[1]&64),x.pid=_[1]&31,x.pid<<=8,x.pid|=_[2],(_[3]&48)>>>4>1&&(k+=_[k]+1),x.pid===0)x.type="pat",f(_.subarray(k),x),this.trigger("data",x);else if(x.pid===this.pmtPid)for(x.type="pmt",f(_.subarray(k),x),this.trigger("data",x);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([_,k,x]):this.processPes_(_,k,x)},this.processPes_=function(_,x,k){k.pid===this.programMapTable.video?k.streamType=bt.H264_STREAM_TYPE:k.pid===this.programMapTable.audio?k.streamType=bt.ADTS_STREAM_TYPE:k.streamType=this.programMapTable["timed-metadata"][k.pid],k.type="pes",k.data=_.subarray(x),this.trigger("data",k)}},Ji.prototype=new i,Ji.STREAM_TYPES={h264:27,adts:15},Ps=function(){var f=this,p={data:[],size:0},v={data:[],size:0},g={data:[],size:0},_,x=function(D,N){var W;N.packetLength=6+(D[4]<<8|D[5]),N.dataAlignmentIndicator=(D[6]&4)!==0,W=D[7],W&192&&(N.pts=(D[9]&14)<<27|(D[10]&255)<<20|(D[11]&254)<<12|(D[12]&255)<<5|(D[13]&254)>>>3,N.pts*=4,N.pts+=(D[13]&6)>>>1,N.dts=N.pts,W&64&&(N.dts=(D[14]&14)<<27|(D[15]&255)<<20|(D[16]&254)<<12|(D[17]&255)<<5|(D[18]&254)>>>3,N.dts*=4,N.dts+=(D[18]&6)>>>1)),N.data=D.subarray(9+D[8])},k=function(D,N,W){var J=new Uint8Array(D.size),ee={type:N},ie=0,oe=0,z=!1,Je;if(!(!D.data.length||D.size<9)){for(ee.trackId=D.data[0].pid,ie=0;ie<D.data.length;ie++)Je=D.data[ie],J.set(Je.data,oe),oe+=Je.data.byteLength;x(J,ee),z=N==="video"||ee.packetLength<=D.size,(W||z)&&(D.size=0,D.data.length=0),z&&f.trigger("data",ee)}};Ps.prototype.init.call(this),this.push=function(w){({pat:function(){},pes:function(){var N,W;switch(w.streamType){case bt.H264_STREAM_TYPE:case bt.H264_STREAM_TYPE:N=p,W="video";break;case bt.ADTS_STREAM_TYPE:N=v,W="audio";break;case bt.METADATA_STREAM_TYPE:N=g,W="timed-metadata";break;default:return}w.payloadUnitStartIndicator&&k(N,W,!0),N.data.push(w),N.size+=w.data.byteLength},pmt:function(){var N={type:"metadata",tracks:[]};_=w.programMapTable,_.video!==null&&N.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.video,codec:"avc",type:"video"}),_.audio!==null&&N.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+_.audio,codec:"adts",type:"audio"}),f.trigger("data",N)}})[w.type]()},this.reset=function(){p.size=0,p.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){k(p,"video"),k(v,"audio"),k(g,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},Ps.prototype=new i;var ph={PAT_PID:0,MP2T_PACKET_LENGTH:Yn,TransportPacketStream:ks,TransportParseStream:Ji,ElementaryStream:Ps,TimestampRolloverStream:sT,CaptionStream:uh.CaptionStream,Cea608Stream:uh.Cea608Stream,MetadataStream:aT};for(var ql in bt)bt.hasOwnProperty(ql)&&(ph[ql]=bt[ql]);var Sr=ph,oT=dr.ONE_SECOND_IN_TS,As,mh=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];As=function(f){var p,v=0;As.prototype.init.call(this),this.push=function(g){var _=0,x,k,w,D,N,W;if(f||(v=0),g.type==="audio")for(p?(D=p,p=new Uint8Array(D.byteLength+g.data.byteLength),p.set(D),p.set(g.data,D.byteLength)):p=g.data;_+5<p.length;){if(p[_]!==255||(p[_+1]&246)!==240){_++;continue}if(k=(~p[_+1]&1)*2,x=(p[_+3]&3)<<11|p[_+4]<<3|(p[_+5]&224)>>5,N=((p[_+6]&3)+1)*1024,W=N*oT/mh[(p[_+2]&60)>>>2],w=_+x,p.byteLength<w)return;if(this.trigger("data",{pts:g.pts+v*W,dts:g.dts+v*W,sampleCount:N,audioobjecttype:(p[_+2]>>>6&3)+1,channelcount:(p[_+2]&1)<<2|(p[_+3]&192)>>>6,samplerate:mh[(p[_+2]&60)>>>2],samplingfrequencyindex:(p[_+2]&60)>>>2,samplesize:16,data:p.subarray(_+7+k,w)}),v++,p.byteLength===w){p=void 0;return}p=p.subarray(w)}},this.flush=function(){v=0,this.trigger("done")},this.reset=function(){p=void 0,this.trigger("reset")},this.endTimeline=function(){p=void 0,this.trigger("endedtimeline")}},As.prototype=new i;var vh=As,gh;gh=function(f){var p=f.byteLength,v=0,g=0;this.length=function(){return 8*p},this.bitsAvailable=function(){return 8*p+g},this.loadWord=function(){var _=f.byteLength-p,x=new Uint8Array(4),k=Math.min(4,p);if(k===0)throw new Error("no bytes available");x.set(f.subarray(_,_+k)),v=new DataView(x.buffer).getUint32(0),g=k*8,p-=k},this.skipBits=function(_){var x;g>_?(v<<=_,g-=_):(_-=g,x=Math.floor(_/8),_-=x*8,p-=x,this.loadWord(),v<<=_,g-=_)},this.readBits=function(_){var x=Math.min(g,_),k=v>>>32-x;return g-=x,g>0?v<<=x:p>0&&this.loadWord(),x=_-x,x>0?k<<x|this.readBits(x):k},this.skipLeadingZeros=function(){var _;for(_=0;_<g;++_)if(v&2147483648>>>_)return v<<=_,g-=_,_;return this.loadWord(),_+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var _=this.skipLeadingZeros();return this.readBits(_+1)-1},this.readExpGolomb=function(){var _=this.readUnsignedExpGolomb();return 1&_?1+_>>>1:-1*(_>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var lT=gh,Is,Zi,yh;Zi=function(){var f=0,p,v;Zi.prototype.init.call(this),this.push=function(g){var _;v?(_=new Uint8Array(v.byteLength+g.data.byteLength),_.set(v),_.set(g.data,v.byteLength),v=_):v=g.data;for(var x=v.byteLength;f<x-3;f++)if(v[f+2]===1){p=f+5;break}for(;p<x;)switch(v[p]){case 0:if(v[p-1]!==0){p+=2;break}else if(v[p-2]!==0){p++;break}f+3!==p-2&&this.trigger("data",v.subarray(f+3,p-2));do p++;while(v[p]!==1&&p<x);f=p-2,p+=3;break;case 1:if(v[p-1]!==0||v[p-2]!==0){p+=3;break}this.trigger("data",v.subarray(f+3,p-2)),f=p-2,p+=3;break;default:p+=3;break}v=v.subarray(f),p-=f,f=0},this.reset=function(){v=null,f=0,this.trigger("reset")},this.flush=function(){v&&v.byteLength>3&&this.trigger("data",v.subarray(f+3)),v=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Zi.prototype=new i,yh={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Is=function(){var f=new Zi,p,v,g,_,x,k,w;Is.prototype.init.call(this),p=this,this.push=function(D){D.type==="video"&&(v=D.trackId,g=D.pts,_=D.dts,f.push(D))},f.on("data",function(D){var N={trackId:v,pts:g,dts:_,data:D};switch(D[0]&31){case 5:N.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:N.nalUnitType="sei_rbsp",N.escapedRBSP=x(D.subarray(1));break;case 7:N.nalUnitType="seq_parameter_set_rbsp",N.escapedRBSP=x(D.subarray(1)),N.config=k(N.escapedRBSP);break;case 8:N.nalUnitType="pic_parameter_set_rbsp";break;case 9:N.nalUnitType="access_unit_delimiter_rbsp";break}p.trigger("data",N)}),f.on("done",function(){p.trigger("done")}),f.on("partialdone",function(){p.trigger("partialdone")}),f.on("reset",function(){p.trigger("reset")}),f.on("endedtimeline",function(){p.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},w=function(N,W){var J=8,ee=8,ie,oe;for(ie=0;ie<N;ie++)ee!==0&&(oe=W.readExpGolomb(),ee=(J+oe+256)%256),J=ee===0?J:ee},x=function(N){for(var W=N.byteLength,J=[],ee=1,ie,oe;ee<W-2;)N[ee]===0&&N[ee+1]===0&&N[ee+2]===3?(J.push(ee+2),ee+=2):ee++;if(J.length===0)return N;ie=W-J.length,oe=new Uint8Array(ie);var z=0;for(ee=0;ee<ie;z++,ee++)z===J[0]&&(z++,J.shift()),oe[ee]=N[z];return oe},k=function(N){var W=0,J=0,ee=0,ie=0,oe=1,z,Je,er,Jn,Ql,Jl,bh,Eh,Ch,Zl,wh,Le,kh,gn;if(z=new lT(N),Je=z.readUnsignedByte(),Jn=z.readUnsignedByte(),er=z.readUnsignedByte(),z.skipUnsignedExpGolomb(),yh[Je]&&(Ql=z.readUnsignedExpGolomb(),Ql===3&&z.skipBits(1),z.skipUnsignedExpGolomb(),z.skipUnsignedExpGolomb(),z.skipBits(1),z.readBoolean()))for(wh=Ql!==3?8:12,gn=0;gn<wh;gn++)z.readBoolean()&&(gn<6?w(16,z):w(64,z));if(z.skipUnsignedExpGolomb(),Jl=z.readUnsignedExpGolomb(),Jl===0)z.readUnsignedExpGolomb();else if(Jl===1)for(z.skipBits(1),z.skipExpGolomb(),z.skipExpGolomb(),bh=z.readUnsignedExpGolomb(),gn=0;gn<bh;gn++)z.skipExpGolomb();if(z.skipUnsignedExpGolomb(),z.skipBits(1),Eh=z.readUnsignedExpGolomb(),Ch=z.readUnsignedExpGolomb(),Zl=z.readBits(1),Zl===0&&z.skipBits(1),z.skipBits(1),z.readBoolean()&&(W=z.readUnsignedExpGolomb(),J=z.readUnsignedExpGolomb(),ee=z.readUnsignedExpGolomb(),ie=z.readUnsignedExpGolomb()),z.readBoolean()&&z.readBoolean()){switch(kh=z.readUnsignedByte(),kh){case 1:Le=[1,1];break;case 2:Le=[12,11];break;case 3:Le=[10,11];break;case 4:Le=[16,11];break;case 5:Le=[40,33];break;case 6:Le=[24,11];break;case 7:Le=[20,11];break;case 8:Le=[32,11];break;case 9:Le=[80,33];break;case 10:Le=[18,11];break;case 11:Le=[15,11];break;case 12:Le=[64,33];break;case 13:Le=[160,99];break;case 14:Le=[4,3];break;case 15:Le=[3,2];break;case 16:Le=[2,1];break;case 255:{Le=[z.readUnsignedByte()<<8|z.readUnsignedByte(),z.readUnsignedByte()<<8|z.readUnsignedByte()];break}}Le&&(oe=Le[0]/Le[1])}return{profileIdc:Je,levelIdc:er,profileCompatibility:Jn,width:Math.ceil(((Eh+1)*16-W*2-J*2)*oe),height:(2-Zl)*(Ch+1)*16-ee*2-ie*2,sarRatio:Le}}},Is.prototype=new i;var uT={H264Stream:Is,NalByteStream:Zi},cT=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],dT=function(f){return f[0]==="I".charCodeAt(0)&&f[1]==="D".charCodeAt(0)&&f[2]==="3".charCodeAt(0)},_h=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},fT=function(f,p,v){var g,_="";for(g=p;g<v;g++)_+="%"+("00"+f[g].toString(16)).slice(-2);return _},hT=function(f,p,v){return unescape(fT(f,p,v))},pT=function(f,p){var v=f[p+6]<<21|f[p+7]<<14|f[p+8]<<7|f[p+9],g=f[p+5],_=(g&16)>>4;return _?v+20:v+10},mT=function(f,p){var v=(f[p+5]&224)>>5,g=f[p+4]<<3,_=f[p+3]&6144;return _|g|v},vT=function(f,p){return f[p]==="I".charCodeAt(0)&&f[p+1]==="D".charCodeAt(0)&&f[p+2]==="3".charCodeAt(0)?"timed-metadata":f[p]&!0&&(f[p+1]&240)===240?"audio":null},gT=function(f){for(var p=0;p+5<f.length;){if(f[p]!==255||(f[p+1]&246)!==240){p++;continue}return cT[(f[p+2]&60)>>>2]}return null},yT=function(f){var p,v,g,_;p=10,f[5]&64&&(p+=4,p+=_h(f.subarray(10,14)));do{if(v=_h(f.subarray(p+4,p+8)),v<1)return null;if(_=String.fromCharCode(f[p],f[p+1],f[p+2],f[p+3]),_==="PRIV"){g=f.subarray(p+10,p+v+10);for(var x=0;x<g.byteLength;x++)if(g[x]===0){var k=hT(g,0,x);if(k==="com.apple.streaming.transportStreamTimestamp"){var w=g.subarray(x+1),D=(w[3]&1)<<30|w[4]<<22|w[5]<<14|w[6]<<6|w[7]>>>2;return D*=4,D+=w[7]&3,D}break}}p+=10,p+=v}while(p<f.byteLength);return null},Kl={isLikelyAacData:dT,parseId3TagSize:pT,parseAdtsSize:mT,parseType:vT,parseSampleRate:gT,parseAacTimestamp:yT},Ls;Ls=function(){var f=new Uint8Array,p=0;Ls.prototype.init.call(this),this.setTimestamp=function(v){p=v},this.push=function(v){var g=0,_=0,x,k,w,D;for(f.length?(D=f.length,f=new Uint8Array(v.byteLength+D),f.set(f.subarray(0,D)),f.set(v,D)):f=v;f.length-_>=3;){if(f[_]==="I".charCodeAt(0)&&f[_+1]==="D".charCodeAt(0)&&f[_+2]==="3".charCodeAt(0)){if(f.length-_<10||(g=Kl.parseId3TagSize(f,_),_+g>f.length))break;k={type:"timed-metadata",data:f.subarray(_,_+g)},this.trigger("data",k),_+=g;continue}else if((f[_]&255)===255&&(f[_+1]&240)===240){if(f.length-_<7||(g=Kl.parseAdtsSize(f,_),_+g>f.length))break;w={type:"audio",data:f.subarray(_,_+g),pts:p,dts:p},this.trigger("data",w),_+=g;continue}_++}x=f.length-_,x>0?f=f.subarray(_):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},Ls.prototype=new i;var _T=Ls,TT=uT.H264Stream,ST=Kl.isLikelyAacData,xT=dr.ONE_SECOND_IN_TS,Xl=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Yl=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ea,Qn,Os,vn,Th=function(f,p){var v;if(f.length!==p.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==p[v])return!1;return!0},Sh=function(f,p,v,g,_,x){var k=v-p,w=g-p,D=_-v;return{start:{dts:f,pts:f+k},end:{dts:f+w,pts:f+D},prependedContentDuration:x,baseMediaDecodeTime:f}};Qn=function(f,p){var v=[],g=0,_=0,x=0,k=1/0;p=p||{},Qn.prototype.init.call(this),this.push=function(w){Zt.collectDtsInfo(f,w),f&&Xl.forEach(function(D){f[D]=w[D]}),v.push(w)},this.setEarliestDts=function(w){_=w-f.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(w){k=w},this.setAudioAppendStart=function(w){x=w},this.flush=function(){var w,D,N,W,J;if(v.length===0){this.trigger("done","AudioSegmentStream");return}w=Ts.trimAdtsFramesByEarliestDts(v,f,_),f.baseMediaDecodeTime=Zt.calculateTrackBaseMediaDecodeTime(f,p.keepOriginalTimestamps),Ts.prefixWithSilence(f,w,x,k),f.samples=Ts.generateSampleTable(w),N=je.mdat(Ts.concatenateFrameData(w)),v=[],D=je.moof(g,[f]),W=new Uint8Array(D.byteLength+N.byteLength),g++,W.set(D),W.set(N,D.byteLength),Zt.clearDtsInfo(f),J=Math.ceil(xT*1024/f.samplerate),w.length&&this.trigger("timingInfo",{start:w[0].dts,end:w[0].dts+w.length*J}),this.trigger("data",{track:f,boxes:W}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Zt.clearDtsInfo(f),v=[],this.trigger("reset")}},Qn.prototype=new i,ea=function(f,p){var v=0,g=[],_=[],x,k;p=p||{},ea.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(w){Zt.collectDtsInfo(f,w),w.nalUnitType==="seq_parameter_set_rbsp"&&!x&&(x=w.config,f.sps=[w.data],Yl.forEach(function(D){f[D]=x[D]},this)),w.nalUnitType==="pic_parameter_set_rbsp"&&!k&&(k=w.data,f.pps=[w.data]),g.push(w)},this.flush=function(){for(var w,D,N,W,J,ee,ie=0,oe,z;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(w=Qi.groupNalsIntoFrames(g),N=Qi.groupFramesIntoGops(w),N[0][0].keyFrame||(D=this.getGopForFusion_(g[0],f),D?(ie=D.duration,N.unshift(D),N.byteLength+=D.byteLength,N.nalCount+=D.nalCount,N.pts=D.pts,N.dts=D.dts,N.duration+=D.duration):N=Qi.extendFirstKeyFrame(N)),_.length){var Je;if(p.alignGopsAtEnd?Je=this.alignGopsAtEnd_(N):Je=this.alignGopsAtStart_(N),!Je){this.gopCache_.unshift({gop:N.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Zt.clearDtsInfo(f),N=Je}Zt.collectDtsInfo(f,N),f.samples=Qi.generateSampleTable(N),J=je.mdat(Qi.concatenateNalData(N)),f.baseMediaDecodeTime=Zt.calculateTrackBaseMediaDecodeTime(f,p.keepOriginalTimestamps),this.trigger("processedGopsInfo",N.map(function(er){return{pts:er.pts,dts:er.dts,byteLength:er.byteLength}})),oe=N[0],z=N[N.length-1],this.trigger("segmentTimingInfo",Sh(f.baseMediaDecodeTime,oe.dts,oe.pts,z.dts+z.duration,z.pts+z.duration,ie)),this.trigger("timingInfo",{start:N[0].dts,end:N[N.length-1].dts+N[N.length-1].duration}),this.gopCache_.unshift({gop:N.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),W=je.moof(v,[f]),ee=new Uint8Array(W.byteLength+J.byteLength),v++,ee.set(W),ee.set(J,W.byteLength),this.trigger("data",{track:f,boxes:ee}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,_.length=0,this.trigger("reset")},this.resetStream_=function(){Zt.clearDtsInfo(f),x=void 0,k=void 0},this.getGopForFusion_=function(w){var D=45e3,N=1e4,W=1/0,J,ee,ie,oe,z;for(z=0;z<this.gopCache_.length;z++)oe=this.gopCache_[z],ie=oe.gop,!(!(f.pps&&Th(f.pps[0],oe.pps[0]))||!(f.sps&&Th(f.sps[0],oe.sps[0])))&&(ie.dts<f.timelineStartInfo.dts||(J=w.dts-ie.dts-ie.duration,J>=-N&&J<=D&&(!ee||W>J)&&(ee=oe,W=J)));return ee?ee.gop:null},this.alignGopsAtStart_=function(w){var D,N,W,J,ee,ie,oe,z;for(ee=w.byteLength,ie=w.nalCount,oe=w.duration,D=N=0;D<_.length&&N<w.length&&(W=_[D],J=w[N],W.pts!==J.pts);){if(J.pts>W.pts){D++;continue}N++,ee-=J.byteLength,ie-=J.nalCount,oe-=J.duration}return N===0?w:N===w.length?null:(z=w.slice(N),z.byteLength=ee,z.duration=oe,z.nalCount=ie,z.pts=z[0].pts,z.dts=z[0].dts,z)},this.alignGopsAtEnd_=function(w){var D,N,W,J,ee,ie;for(D=_.length-1,N=w.length-1,ee=null,ie=!1;D>=0&&N>=0;){if(W=_[D],J=w[N],W.pts===J.pts){ie=!0;break}if(W.pts>J.pts){D--;continue}D===_.length-1&&(ee=N),N--}if(!ie&&ee===null)return null;var oe;if(ie?oe=N:oe=ee,oe===0)return w;var z=w.slice(oe),Je=z.reduce(function(er,Jn){return er.byteLength+=Jn.byteLength,er.duration+=Jn.duration,er.nalCount+=Jn.nalCount,er},{byteLength:0,duration:0,nalCount:0});return z.byteLength=Je.byteLength,z.duration=Je.duration,z.nalCount=Je.nalCount,z.pts=z[0].pts,z.dts=z[0].dts,z},this.alignGopsWith=function(w){_=w}},ea.prototype=new i,vn=function(f,p){this.numberOfTracks=0,this.metadataStream=p,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,vn.prototype.init.call(this),this.push=function(v){if(v.text)return this.pendingCaptions.push(v);if(v.frames)return this.pendingMetadata.push(v);this.pendingTracks.push(v.track),this.pendingBytes+=v.boxes.byteLength,v.track.type==="video"&&(this.videoTrack=v.track,this.pendingBoxes.push(v.boxes)),v.track.type==="audio"&&(this.audioTrack=v.track,this.pendingBoxes.unshift(v.boxes))}},vn.prototype=new i,vn.prototype.flush=function(C){var f=0,p={captions:[],captionStreams:{},metadata:[],info:{}},v,g,_,x=0,k;if(this.pendingTracks.length<this.numberOfTracks){if(C!=="VideoSegmentStream"&&C!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(x=this.videoTrack.timelineStartInfo.pts,Yl.forEach(function(w){p.info[w]=this.videoTrack[w]},this)):this.audioTrack&&(x=this.audioTrack.timelineStartInfo.pts,Xl.forEach(function(w){p.info[w]=this.audioTrack[w]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?p.type=this.pendingTracks[0].type:p.type="combined",this.emittedTracks+=this.pendingTracks.length,_=je.initSegment(this.pendingTracks),p.initSegment=new Uint8Array(_.byteLength),p.initSegment.set(_),p.data=new Uint8Array(this.pendingBytes),k=0;k<this.pendingBoxes.length;k++)p.data.set(this.pendingBoxes[k],f),f+=this.pendingBoxes[k].byteLength;for(k=0;k<this.pendingCaptions.length;k++)v=this.pendingCaptions[k],v.startTime=dr.metadataTsToSeconds(v.startPts,x,this.keepOriginalTimestamps),v.endTime=dr.metadataTsToSeconds(v.endPts,x,this.keepOriginalTimestamps),p.captionStreams[v.stream]=!0,p.captions.push(v);for(k=0;k<this.pendingMetadata.length;k++)g=this.pendingMetadata[k],g.cueTime=dr.metadataTsToSeconds(g.pts,x,this.keepOriginalTimestamps),p.metadata.push(g);for(p.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",p),k=0;k<p.captions.length;k++)v=p.captions[k],this.trigger("caption",v);for(k=0;k<p.metadata.length;k++)g=p.metadata[k],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},vn.prototype.setRemux=function(C){this.remuxTracks=C},Os=function(f){var p=this,v=!0,g,_;Os.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var x={};this.transmuxPipeline_=x,x.type="aac",x.metadataStream=new Sr.MetadataStream,x.aacStream=new _T,x.audioTimestampRolloverStream=new Sr.TimestampRolloverStream("audio"),x.timedMetadataTimestampRolloverStream=new Sr.TimestampRolloverStream("timed-metadata"),x.adtsStream=new vh,x.coalesceStream=new vn(f,x.metadataStream),x.headOfPipeline=x.aacStream,x.aacStream.pipe(x.audioTimestampRolloverStream).pipe(x.adtsStream),x.aacStream.pipe(x.timedMetadataTimestampRolloverStream).pipe(x.metadataStream).pipe(x.coalesceStream),x.metadataStream.on("timestamp",function(k){x.aacStream.setTimestamp(k.timeStamp)}),x.aacStream.on("data",function(k){k.type==="timed-metadata"&&!x.audioSegmentStream&&(_=_||{timelineStartInfo:{baseMediaDecodeTime:p.baseMediaDecodeTime},codec:"adts",type:"audio"},x.coalesceStream.numberOfTracks++,x.audioSegmentStream=new Qn(_,f),x.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),x.adtsStream.pipe(x.audioSegmentStream).pipe(x.coalesceStream)),p.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g})}),x.coalesceStream.on("data",this.trigger.bind(this,"data")),x.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var x={};this.transmuxPipeline_=x,x.type="ts",x.metadataStream=new Sr.MetadataStream,x.packetStream=new Sr.TransportPacketStream,x.parseStream=new Sr.TransportParseStream,x.elementaryStream=new Sr.ElementaryStream,x.timestampRolloverStream=new Sr.TimestampRolloverStream,x.adtsStream=new vh,x.h264Stream=new TT,x.captionStream=new Sr.CaptionStream,x.coalesceStream=new vn(f,x.metadataStream),x.headOfPipeline=x.packetStream,x.packetStream.pipe(x.parseStream).pipe(x.elementaryStream).pipe(x.timestampRolloverStream),x.timestampRolloverStream.pipe(x.h264Stream),x.timestampRolloverStream.pipe(x.adtsStream),x.timestampRolloverStream.pipe(x.metadataStream).pipe(x.coalesceStream),x.h264Stream.pipe(x.captionStream).pipe(x.coalesceStream),x.elementaryStream.on("data",function(k){var w;if(k.type==="metadata"){for(w=k.tracks.length;w--;)!g&&k.tracks[w].type==="video"?(g=k.tracks[w],g.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime):!_&&k.tracks[w].type==="audio"&&(_=k.tracks[w],_.timelineStartInfo.baseMediaDecodeTime=p.baseMediaDecodeTime);g&&!x.videoSegmentStream&&(x.coalesceStream.numberOfTracks++,x.videoSegmentStream=new ea(g,f),x.videoSegmentStream.on("timelineStartInfo",function(D){_&&(_.timelineStartInfo=D,x.audioSegmentStream.setEarliestDts(D.dts))}),x.videoSegmentStream.on("processedGopsInfo",p.trigger.bind(p,"gopInfo")),x.videoSegmentStream.on("segmentTimingInfo",p.trigger.bind(p,"videoSegmentTimingInfo")),x.videoSegmentStream.on("baseMediaDecodeTime",function(D){_&&x.audioSegmentStream.setVideoBaseMediaDecodeTime(D)}),x.videoSegmentStream.on("timingInfo",p.trigger.bind(p,"videoTimingInfo")),x.h264Stream.pipe(x.videoSegmentStream).pipe(x.coalesceStream)),_&&!x.audioSegmentStream&&(x.coalesceStream.numberOfTracks++,x.audioSegmentStream=new Qn(_,f),x.audioSegmentStream.on("timingInfo",p.trigger.bind(p,"audioTimingInfo")),x.adtsStream.pipe(x.audioSegmentStream).pipe(x.coalesceStream)),p.trigger("trackinfo",{hasAudio:!!_,hasVideo:!!g})}}),x.coalesceStream.on("data",this.trigger.bind(this,"data")),x.coalesceStream.on("id3Frame",function(k){k.dispatchType=x.metadataStream.dispatchType,p.trigger("id3Frame",k)}),x.coalesceStream.on("caption",this.trigger.bind(this,"caption")),x.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(x){var k=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=x),_&&(_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,Zt.clearDtsInfo(_),f.keepOriginalTimestamps||(_.timelineStartInfo.baseMediaDecodeTime=x),k.audioTimestampRolloverStream&&k.audioTimestampRolloverStream.discontinuity()),g&&(k.videoSegmentStream&&(k.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,Zt.clearDtsInfo(g),k.captionStream.reset(),f.keepOriginalTimestamps||(g.timelineStartInfo.baseMediaDecodeTime=x)),k.timestampRolloverStream&&k.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(x){_&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(x)},this.setRemux=function(x){var k=this.transmuxPipeline_;f.remux=x,k&&k.coalesceStream&&k.coalesceStream.setRemux(x)},this.alignGopsWith=function(x){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(x)},this.push=function(x){if(v){var k=ST(x);k&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!k&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),v=!1}this.transmuxPipeline_.headOfPipeline.push(x)},this.flush=function(){v=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Os.prototype=new i;var bT={Transmuxer:Os,VideoSegmentStream:ea,AudioSegmentStream:Qn,AUDIO_PROPERTIES:Xl,VIDEO_PROPERTIES:Yl,generateVideoSegmentTimingInfo:Sh},ET=function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")},CT=function(){function C(f,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,p,v){return p&&C(f.prototype,p),v&&C(f,v),f}}(),wT=function(f,p){p.on("data",function(v){var g=v.initSegment;v.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var _=v.data;v.data=_.buffer,f.postMessage({action:"data",segment:v,byteOffset:_.byteOffset,byteLength:_.byteLength},[v.data])}),p.captionStream&&p.captionStream.on("data",function(v){f.postMessage({action:"caption",data:v})}),p.on("done",function(v){f.postMessage({action:"done"})}),p.on("gopInfo",function(v){f.postMessage({action:"gopInfo",gopInfo:v})}),p.on("videoSegmentTimingInfo",function(v){f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})})},xh=function(){function C(f,p){ET(this,C),this.options=p||{},this.self=f,this.init()}return CT(C,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new bT.Transmuxer(this.options),wT(this.self,this.transmuxer)}},{key:"push",value:function(p){var v=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(v)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(p){var v=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(v*9e4))}},{key:"setAudioAppendStart",value:function(p){this.transmuxer.setAudioAppendStart(Math.ceil(p.appendStart*9e4))}},{key:"flush",value:function(p){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())}}]),C}(),kT=function(f){f.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new xh(f,p.data.options);return}this.messageHandlers||(this.messageHandlers=new xh(f)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}},PT=new kT(n);return PT})()}),v_={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},g_=function(t){return t.map(function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,a){var s=("00"+Number(i).toString(16)).slice(-2),o=("00"+Number(a).toString(16)).slice(-2);return"avc1."+s+"00"+o})})},as=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n={codecCount:0},r=void 0;return n.codecCount=t.split(",").length,n.codecCount=n.codecCount||2,r=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t),r&&(n.videoCodec=r[2],n.videoObjectTypeIndicator=r[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},rk=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(n){return g_([n])[0]})},$u=function(t,n,r){return t+"/"+n+'; codecs="'+r.filter(function(i){return!!i}).join(", ")+'"'},nk=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},ik=function(t){var n=t.attributes||{};return n.CODECS?as(n.CODECS):v_},ak=function(t,n){if(!t.mediaGroups.AUDIO||!n)return null;var r=t.mediaGroups.AUDIO[n];if(!r)return null;for(var i in r){var a=r[i];if(a.default&&a.playlists)return as(a.playlists[0].attributes.CODECS).audioProfile}return null},sk=function(t,n){var r=nk(n),i=ik(n),a=n.attributes||{},s=!0,o=!1;if(!n)return[];if(t.mediaGroups.AUDIO&&a.AUDIO){var l=t.mediaGroups.AUDIO[a.AUDIO];if(l){o=!0,s=!1;for(var u in l)if(!l[u].uri&&!l[u].playlists){s=!0;break}}}o&&!i.audioProfile&&(s||(i.audioProfile=ak(t,a.AUDIO)),i.audioProfile||(P.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=v_.audioProfile));var c={};i.videoCodec&&(c.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(c.audio="mp4a.40."+i.audioProfile);var d=$u("audio",r,[c.audio]),h=$u("video",r,[c.video]),m=$u("video",r,[c.video,c.audio]);return o?!s&&c.video?[h,d]:!s&&!c.video?[d,d]:[m,d]:c.video?[m]:[d]},ok=function(t){var n={type:"",parameters:{}},r=t.trim().split(";");return n.type=r.shift().trim(),r.forEach(function(i){var a=i.trim().split("=");if(a.length>1){var s=a[0].replace(/"/g,"").trim(),o=a[1].replace(/"/g,"").trim();n.parameters[s]=o}}),n},y_=function(t){return/mp4a\.\d+.\d+/i.test(t)},__=function(t){return/avc1\.[\da-f]+/i.test(t)},lk=function(t,n,r){if(typeof n>"u"||n===null||!t.length)return[];var i=Math.ceil((n-r+3)*9e4),a=void 0;for(a=0;a<t.length&&!(t[a].pts>i);a++);return t.slice(a)},uk=function(t,n,r){if(!n.length)return t;if(r)return n.slice();var i=n[0].pts,a=0;for(a;a<t.length&&!(t[a].pts>=i);a++);return t.slice(0,a).concat(n)},ck=function(t,n,r,i){for(var a=Math.ceil((n-i)*9e4),s=Math.ceil((r-i)*9e4),o=t.slice(),l=t.length;l--&&!(t[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(t[u].pts<=a););return u=Math.max(u,0),o.splice(u,l-u+1),o},dk=function(t,n,r){var i=null,a=null,s=0,o=[],l=[];if(!t&&!n)return P.createTimeRange();if(!t)return n.buffered;if(!n||r)return t.buffered;if(t.buffered.length===0&&n.buffered.length===0)return P.createTimeRange();for(var u=t.buffered,c=n.buffered,d=u.length;d--;)o.push({time:u.start(d),type:"start"}),o.push({time:u.end(d),type:"end"});for(d=c.length;d--;)o.push({time:c.start(d),type:"start"}),o.push({time:c.end(d),type:"end"});for(o.sort(function(h,m){return h.time-m.time}),d=0;d<o.length;d++)o[d].type==="start"?(s++,s===2&&(i=o[d].time)):o[d].type==="end"&&(s--,s===1&&(a=o[d].time)),i!==null&&a!==null&&(l.push([i,a]),i=null,a=null);return P.createTimeRanges(l)},ri=9e4,fk=function(t,n){var r=t.addSourceBuffer(n),i=Object.create(null);i.updating=!1,i.realBuffer_=r;var a=function(l){typeof r[l]=="function"?i[l]=function(){return r[l].apply(r,arguments)}:typeof i[l]>"u"&&Object.defineProperty(i,l,{get:function(){return r[l]},set:function(c){return r[l]=c}})};for(var s in r)a(s);return i},hk=function(e){Ur(t,e);function t(n,r){Yt(this,t);var i=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,P.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=n,i.codecs_=r,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=P.browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(s){y_(s)?i.audioCodec_=s:__(s)&&(i.videoCodec_=s)}),i.transmuxer_=new tk,i.transmuxer_.postMessage({action:"init",options:a}),i.transmuxer_.onmessage=function(s){if(s.data.action==="data")return i.data_(s);if(s.data.action==="done")return i.done_(s);if(s.data.action==="gopInfo")return i.appendGopInfo_(s);if(s.data.action==="videoSegmentTimingInfo")return i.videoSegmentTimingInfo_(s.data.videoSegmentTimingInfo)},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(o){typeof o=="number"&&o>=0&&(this.timestampOffset_=o,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:o}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(o){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=o),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=o)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return dk(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return cr(t,[{key:"data_",value:function(r){var i=r.data.segment;i.data=new Uint8Array(i.data,r.data.byteOffset,r.data.byteLength),i.initSegment=new Uint8Array(i.initSegment.data,i.initSegment.byteOffset,i.initSegment.byteLength),Xw(this,this.mediaSource_,i),this.pendingBuffers_.push(i)}},{key:"done_",value:function(r){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_()}},{key:"videoSegmentTimingInfo_",value:function(r){var i={start:{decode:r.start.dts/ri,presentation:r.start.pts/ri},end:{decode:r.end.dts/ri,presentation:r.end.pts/ri},baseMediaDecodeTime:r.baseMediaDecodeTime/ri};r.prependedContentDuration&&(i.prependedContentDuration=r.prependedContentDuration/ri),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})}},{key:"createRealSourceBuffers_",value:function(){var r=this,i=["audio","video"];i.forEach(function(a){if(r[a+"Codec_"]&&!r[a+"Buffer_"]){var s=null;if(r.mediaSource_[a+"Buffer_"])s=r.mediaSource_[a+"Buffer_"],s.updating=!1;else{var o=a+"Codec_",l=a+'/mp4;codecs="'+r[o]+'"';s=fk(r.mediaSource_.nativeMediaSource_,l),r.mediaSource_[a+"Buffer_"]=s}r[a+"Buffer_"]=s,["update","updatestart","updateend"].forEach(function(u){s.addEventListener(u,function(){if(!(a==="audio"&&r.audioDisabled_)){u==="updateend"&&(r[a+"Buffer_"].updating=!1);var c=i.every(function(d){return d==="audio"&&r.audioDisabled_?!0:!(a!==d&&r[d+"Buffer_"]&&r[d+"Buffer_"].updating)});if(c)return r.trigger(u)}})})}})}},{key:"appendBuffer",value:function(r){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var i=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:i.end(i.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:lk(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength},[r.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(r){this.gopBuffer_=uk(this.gopBuffer_,r.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(r,i){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(r,i),this.gopBuffer_=ck(this.gopBuffer_,r,i,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(r,i)),wi(r,i,this.metadataTrack_),this.inbandTextTracks_)for(var a in this.inbandTextTracks_)wi(r,i,this.inbandTextTracks_[a])}},{key:"processPendingSegments_",value:function(){var r={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length){this.trigger("updateend"),this.bufferUpdating_=!1;return}r=this.pendingBuffers_.reduce(function(a,s){var o=s.type,l=s.data,u=s.initSegment;return a[o].segments.push(l),a[o].bytes+=l.byteLength,a[o].initSegment=u,s.captions&&(a.captions=a.captions.concat(s.captions)),s.info&&(a[o].info=s.info),s.metadata&&(a.metadata=a.metadata.concat(s.metadata)),a},r),!this.videoBuffer_&&!this.audioBuffer_&&(r.video.bytes===0&&(this.videoCodec_=null),r.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_()),r.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:r.audio.info}),r.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:r.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(r.audio.segments.unshift(r.audio.initSegment),r.audio.bytes+=r.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var i=!1;this.videoBuffer_&&r.video.bytes?(r.video.segments.unshift(r.video.initSegment),r.video.bytes+=r.video.initSegment.byteLength,this.concatAndAppendSegments_(r.video,this.videoBuffer_)):this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)&&(i=!0),Qw(this,r.captions,r.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(r.audio,this.audioBuffer_),this.pendingBuffers_.length=0,i&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(r,i){var a=0,s=void 0;if(r.bytes){s=new Uint8Array(r.bytes),r.segments.forEach(function(o){s.set(o,a),a+=o.byteLength});try{i.updating=!0,i.appendBuffer(s)}catch(o){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:o.message,originalError:o})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(P.EventTarget),nd=function(e){Ur(t,e);function t(){Yt(this,t);var n=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=void 0;n.nativeMediaSource_=new I.MediaSource;for(r in n.nativeMediaSource_)!(r in t.prototype)&&typeof n.nativeMediaSource_[r]=="function"&&(n[r]=n.nativeMediaSource_[r].bind(n.nativeMediaSource_));return n.duration_=NaN,Object.defineProperty(n,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(a){if(this.duration_=a,a!==1/0){this.nativeMediaSource_.duration=a;return}}}),Object.defineProperty(n,"seekable",{get:function(){return this.duration_===1/0?P.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(n,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(n,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),n.sourceBuffers=[],n.activeSourceBuffers_=[],n.updateActiveSourceBuffers_=function(){if(n.activeSourceBuffers_.length=0,n.sourceBuffers.length===1){var i=n.sourceBuffers[0];i.appendAudioInitSegment_=!0,i.audioDisabled_=!i.audioCodec_,n.activeSourceBuffers_.push(i);return}for(var a=!1,s=!0,o=0;o<n.player_.audioTracks().length;o++){var l=n.player_.audioTracks()[o];if(l.enabled&&l.kind!=="main"){a=!0,s=!1;break}}n.sourceBuffers.forEach(function(u,c){if(u.appendAudioInitSegment_=!0,u.videoCodec_&&u.audioCodec_)u.audioDisabled_=a;else if(u.videoCodec_&&!u.audioCodec_)u.audioDisabled_=!0,s=!1;else if(!u.videoCodec_&&u.audioCodec_&&(u.audioDisabled_=c?s:!s,u.audioDisabled_))return;n.activeSourceBuffers_.push(u)})},n.onPlayerMediachange_=function(){n.sourceBuffers.forEach(function(i){i.appendAudioInitSegment_=!0})},n.onHlsReset_=function(){n.sourceBuffers.forEach(function(i){i.transmuxer_&&i.transmuxer_.postMessage({action:"resetCaptions"})})},n.onHlsSegmentTimeMapping_=function(i){n.sourceBuffers.forEach(function(a){return a.timeMapping_=i.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(i){this.nativeMediaSource_.addEventListener(i,this.trigger.bind(this))},n),n.on("sourceopen",function(i){var a=j.querySelector('[src="'+n.url_+'"]');a&&(n.player_=P(a.parentNode),n.player_&&(n.player_.tech_.on("hls-reset",n.onHlsReset_),n.player_.tech_.on("hls-segment-time-mapping",n.onHlsSegmentTimeMapping_),n.player_.audioTracks&&n.player_.audioTracks()&&(n.player_.audioTracks().on("change",n.updateActiveSourceBuffers_),n.player_.audioTracks().on("addtrack",n.updateActiveSourceBuffers_),n.player_.audioTracks().on("removetrack",n.updateActiveSourceBuffers_)),n.player_.on("mediachange",n.onPlayerMediachange_)))}),n.on("sourceended",function(i){for(var a=h_(n.duration),s=0;s<n.sourceBuffers.length;s++){var o=n.sourceBuffers[s],l=o.metadataTrack_&&o.metadataTrack_.cues;l&&l.length&&(l[l.length-1].endTime=a)}}),n.on("sourceclose",function(i){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),n}return cr(t,[{key:"addSeekableRange_",value:function(r,i){var a=void 0;if(this.duration!==1/0)throw a=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),a.name="InvalidStateError",a.code=11,a;(i>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=i)}},{key:"addSourceBuffer",value:function(r){var i=void 0,a=ok(r);if(/^(video|audio)\/mp2t$/i.test(a.type)){var s=[];a.parameters&&a.parameters.codecs&&(s=a.parameters.codecs.split(","),s=g_(s),s=s.filter(function(o){return y_(o)||__(o)})),s.length===0&&(s=["avc1.4d400d","mp4a.40.2"]),i=new hk(this,s),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else i=this.nativeMediaSource_.addSourceBuffer(r);return this.sourceBuffers.push(i),i}}]),t}(P.EventTarget),Lm=0;P.mediaSources={};var T_=function(t,n){var r=P.mediaSources[t];if(r)r.trigger({type:"sourceopen",swfId:n});else throw new Error("Media Source not found (Video.js)")},id=function(){return!!I.MediaSource&&!!I.MediaSource.isTypeSupported&&I.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},gs=function(){if(this.MediaSource={open:T_,supportsNativeMediaSources:id},id())return new nd;throw new Error("Cannot use create a virtual MediaSource for this video")};gs.open=T_;gs.supportsNativeMediaSources=id;var S_={createObjectURL:function(t){var n="blob:vjs-media-source/",r=void 0;return t instanceof nd?(r=I.URL.createObjectURL(t.nativeMediaSource_),t.url_=r,r):t instanceof nd?(r=n+Lm,Lm++,P.mediaSources[r]=t,r):(r=I.URL.createObjectURL(t),t.url_=r,r)}};P.MediaSource=gs;P.URL=S_;var pk=P.EventTarget,x_=P.mergeOptions,Om=function(t,n){for(var r=void 0,i=x_(t,{duration:n.duration,minimumUpdatePeriod:n.minimumUpdatePeriod}),a=0;a<n.playlists.length;a++){var s=ed(i,n.playlists[a]);s?i=s:r=!0}return Ul(n,function(o,l,u,c){if(o.playlists&&o.playlists.length){var d=o.playlists[0].uri,h=ed(i,o.playlists[0]);h&&(i=h,i.mediaGroups[l][u][c].playlists[0]=i.playlists[d],r=!1)}}),r?null:i},ad=function(t){var n=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+n},mk=function(t,n){var r=!t.map&&!n.map,i=r||!!(t.map&&n.map&&t.map.byterange.offset===n.map.byterange.offset&&t.map.byterange.length===n.map.byterange.length);return i&&t.uri===n.uri&&t.byterange.offset===n.byterange.offset&&t.byterange.length===n.byterange.length},Dm=function(t,n){var r={};for(var i in t){var a=t[i],s=a.sidx;if(s){var o=ad(s);if(!n[o])break;var l=n[o].sidxInfo;mk(l,s)&&(r[o]=n[o])}}return r},vk=function(t,n,r,i){var a=T0(t,{manifestUri:n,clientOffset:r}),s=Dm(a.playlists,i),o=s;return Ul(a,function(l,u,c,d){if(l.playlists&&l.playlists.length){var h=l.playlists;o=x_(o,Dm(h,i))}}),o},Rm=function(t,n,r,i,a){var s={uri:nl(i.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:n},o=P.mergeOptions(s,{responseType:"arraybuffer",headers:rd(s)});return r(o,a)},sd=function(e){Ur(t,e);function t(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments[3];Yt(this,t);var s=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=i.withCredentials,l=o===void 0?!1:o,u=i.handleManifestRedirects,c=u===void 0?!1:u;if(s.hls_=r,s.withCredentials=l,s.handleManifestRedirects=c,!n)throw new Error("A non-empty playlist URL or playlist is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().uri)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},typeof n=="string"?(s.srcUrl=n,s.sidxMapping_={},Tr(s)):(s.setupChildLoader(a,n),s)}return cr(t,[{key:"setupChildLoader",value:function(r,i){this.masterPlaylistLoader_=r,this.childPlaylist_=i}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},I.clearTimeout(this.minimumUpdatePeriodTimeout_),I.clearTimeout(this.mediaRequest_),I.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}}},{key:"sidxRequestFinished_",value:function(r,i,a,s){var o=this;return function(l,u){if(o.request){if(o.request=null,l)return o.error={status:u.status,message:"DASH playlist request error at URL: "+r.uri,response:u.response,code:2},a&&(o.state=a),o.trigger("error"),s(i,null);var c=new Uint8Array(u.response),d=zb.parseSidx(c.subarray(8));return s(i,d)}}}},{key:"media",value:function(r){var i=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}var s=!this.media_||r.uri!==this.media_.uri;if(s&&this.loadedPlaylists_[r.uri]&&this.loadedPlaylists_[r.uri].endList){this.state="HAVE_METADATA",this.media_=r,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}if(s){if(this.media_&&this.trigger("mediachanging"),!r.sidx){this.mediaRequest_=I.setTimeout(this.haveMetadata.bind(this,{startingState:a,playlist:r}),0);return}var o=void 0,l=void 0;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,l=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,l=this.sidxMapping_);var u=ad(r.sidx);l[u]={sidxInfo:r.sidx},this.request=Rm(r.sidx,r,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(r,o,a,function(c,d){if(!c||!d)throw new Error("failed to request sidx");l[u].sidx=d,i.haveMetadata({startingState:a,playlist:c.playlists[r.uri]})}))}}},{key:"haveMetadata",value:function(r){var i=r.startingState,a=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.uri]=a,this.mediaRequest_=null,this.refreshMedia_(a.uri),i==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),I.clearTimeout(this.mediaUpdateTimeout),I.clearTimeout(this.minimumUpdatePeriodTimeout_),this.state==="HAVE_NOTHING"&&(this.started=!1)}},{key:"load",value:function(r){var i=this;I.clearTimeout(this.mediaUpdateTimeout),I.clearTimeout(this.minimumUpdatePeriodTimeout_);var a=this.media();if(r){var s=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=I.setTimeout(function(){return i.load()},s);return}if(!this.started){this.start();return}this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function(){var r=T0(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});r.uri=this.srcUrl;for(var i=0;i<r.playlists.length;i++){var a="placeholder-uri-"+i;r.playlists[i].uri=a,r.playlists[a]=r.playlists[i]}return Ul(r,function(s,o,l,u){if(s.playlists&&s.playlists.length){var c="placeholder-uri-"+o+"-"+l+"-"+u;s.playlists[0].uri=c,r.playlists[c]=s.playlists[0]}}),Yy(r),Qy(r),r}},{key:"start",value:function(){var r=this;if(this.started=!0,this.masterPlaylistLoader_){this.mediaRequest_=I.setTimeout(this.haveMaster_.bind(this),0);return}this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,a){if(r.request){if(r.request=null,i)return r.error={status:a.status,message:"DASH playlist request error at URL: "+r.srcUrl,responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.masterXml_=a.responseText,a.responseHeaders&&a.responseHeaders.date?r.masterLoaded_=Date.parse(a.responseHeaders.date):r.masterLoaded_=Date.now(),r.srcUrl=nl(r.handleManifestRedirects,r.srcUrl,a),r.syncClientServerClock_(r.onClientServerClockSync_.bind(r))}})}},{key:"syncClientServerClock_",value:function(r){var i=this,a=Ub(this.masterXml_);if(a===null)return this.clientOffset_=this.masterLoaded_-Date.now(),r();if(a.method==="DIRECT")return this.clientOffset_=a.value-Date.now(),r();this.request=this.hls_.xhr({uri:Un(this.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(s,o){if(i.request){if(s)return i.clientOffset_=i.masterLoaded_-Date.now(),r();var l=void 0;a.method==="HEAD"?!o.responseHeaders||!o.responseHeaders.date?l=i.masterLoaded_:l=Date.parse(o.responseHeaders.date):l=Date.parse(o.responseText),i.clientOffset_=l-Date.now(),r()}})}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var r=this;this.haveMaster_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=I.setTimeout(function(){r.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var r=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,a){if(r.request){if(r.request=null,i)return r.error={status:a.status,message:"DASH playlist request error at URL: "+r.srcUrl,responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.masterXml_=a.responseText,r.sidxMapping_=vk(r.masterXml_,r.srcUrl,r.clientOffset_,r.sidxMapping_);var s=r.parseMasterXml(),o=Om(r.master,s),l=r.media().sidx;if(o)if(l){var u=ad(l);if(!r.sidxMapping_[u]){var c=r.media();r.request=Rm(c.sidx,c,r.hls_.xhr,{handleManifestRedirects:r.handleManifestRedirects},r.sidxRequestFinished_(c,s,r.state,function(d,h){if(!d||!h)throw new Error("failed to request sidx on minimumUpdatePeriod");r.sidxMapping_[u].sidx=h,r.minimumUpdatePeriodTimeout_=I.setTimeout(function(){r.trigger("minimumUpdatePeriod")},r.master.minimumUpdatePeriod),r.refreshMedia_(r.media().uri)}))}}else r.master=o;r.minimumUpdatePeriodTimeout_=I.setTimeout(function(){r.trigger("minimumUpdatePeriod")},r.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(r){var i=this;if(!r)throw new Error("refreshMedia_ must take a media uri");var a=void 0,s=void 0;this.masterPlaylistLoader_?(a=this.masterPlaylistLoader_.master,s=this.masterPlaylistLoader_.parseMasterXml()):(a=this.master,s=this.parseMasterXml());var o=Om(a,s);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[r]):(this.media_=s.playlists[r],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=I.setTimeout(function(){i.trigger("mediaupdatetimeout")},Jy(this.media(),!!o))),this.trigger("loadedplaylist")}}]),t}(pk),ys=function(t){return P.log.debug?P.log.debug.bind(P,"VHS:",t+" >"):function(){}};function gi(){}var gk=function(){function e(t,n,r,i){Yt(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=r,this.mimeType_=n,this.logger_=ys("SourceUpdater["+r+"]["+n+"]"),t.readyState==="closed"?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,i)):this.createSourceBuffer_(n,i)}return cr(e,[{key:"createSourceBuffer_",value:function(n,r){var i=this;if(this.sourceBuffer_=this.mediaSource.addSourceBuffer(n),this.logger_("created SourceBuffer"),r&&(r.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)){r.on("sourcebufferadded",function(){i.start_()});return}this.start_()}},{key:"start_",value:function(){var n=this;this.started_=!0,this.onUpdateendCallback_=function(){var r=n.pendingCallback_;n.pendingCallback_=null,n.sourceBuffer_.removing=!1,n.logger_("buffered ["+eh(n.buffered())+"]"),r&&r(),n.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(n){var r=this;this.processedAppend_&&this.queueCallback_(function(){r.sourceBuffer_.abort()},n)}},{key:"appendBuffer",value:function(n,r){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){n.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",n.videoSegmentTimingInfoCallback),i.sourceBuffer_.appendBuffer(n.bytes)},function(){n.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",n.videoSegmentTimingInfoCallback),r()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:P.createTimeRanges()}},{key:"remove",value:function(n,r){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gi;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+n+" => "+r+"]"),i.sourceBuffer_.removing=!0,i.sourceBuffer_.remove(n,r)},a)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==gi}},{key:"timestampOffset",value:function(n){var r=this;return typeof n<"u"&&(this.queueCallback_(function(){r.sourceBuffer_.timestampOffset=n,r.runCallback_()}),this.timestampOffset_=n),this.timestampOffset_}},{key:"queueCallback_",value:function(n,r){this.callbacks_.push([n.bind(this),r]),this.runCallback_()}},{key:"runCallback_",value:function(){var n=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(n=this.callbacks_.shift(),this.pendingCallback_=n[1],n[0]())}},{key:"dispose",value:function(){var n=this,r=function i(){n.sourceBuffer_&&n.mediaSource.readyState==="open"&&n.sourceBuffer_.abort(),n.sourceBuffer_.removeEventListener("updateend",i)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",r):r()}}]),e}(),Ct={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},an={FAILURE:2,TIMEOUT:-101,ABORTED:-102},b_=function(t){t.forEach(function(n){n.abort()})},yk=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},_k=function(t){var n=t.target,r=Date.now()-n.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:r||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},th=function(t,n){return n.timedout?{status:n.status,message:"HLS request timed-out at URL: "+n.uri,code:an.TIMEOUT,xhr:n}:n.aborted?{status:n.status,message:"HLS request aborted at URL: "+n.uri,code:an.ABORTED,xhr:n}:t?{status:n.status,message:"HLS request errored at URL: "+n.uri,code:an.FAILURE,xhr:n}:null},Tk=function(t,n){return function(r,i){var a=i.response,s=th(r,i);if(s)return n(s,t);if(a.byteLength!==16)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:an.FAILURE,xhr:i},t);var o=new DataView(a);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),n(null,t)}},Sk=function(t,n,r){return function(i,a){var s=a.response,o=th(i,a);return o?r(o,t):s.byteLength===0?r({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:an.FAILURE,xhr:a},t):(t.map.bytes=new Uint8Array(a.response),n&&!n.isInitialized()&&n.init(),t.map.timescales=Xo.timescale(t.map.bytes),t.map.videoTrackIds=Xo.videoTrackIds(t.map.bytes),r(null,t))}},xk=function(t,n,r){return function(i,a){var s=a.response,o=th(i,a),l=void 0;return o?r(o,t):s.byteLength===0?r({status:a.status,message:"Empty HLS segment content at URL: "+a.uri,code:an.FAILURE,xhr:a},t):(t.stats=yk(a),t.key?t.encryptedBytes=new Uint8Array(a.response):t.bytes=new Uint8Array(a.response),n&&t.map&&t.map.bytes&&(n.isInitialized()||n.init(),l=n.parse(t.bytes,t.map.videoTrackIds,t.map.timescales),l&&l.captions&&(t.captionStreams=l.captionStreams,t.fmp4Captions=l.captions)),r(null,t))}},bk=function(t,n,r){var i=function s(o){if(o.data.source===n.requestId){t.removeEventListener("message",s);var l=o.data.decrypted;return n.bytes=new Uint8Array(l.bytes,l.byteOffset,l.byteLength),r(null,n)}};t.addEventListener("message",i);var a=void 0;n.key.bytes.slice?a=n.key.bytes.slice():a=new Uint32Array(Array.prototype.slice.call(n.key.bytes)),t.postMessage(o_({source:n.requestId,encrypted:n.encryptedBytes,key:a,iv:n.key.iv}),[n.encryptedBytes.buffer,a.buffer])},Ek=function(t,n,r){var i=0,a=!1;return function(s,o){if(!a){if(s)return a=!0,b_(t),r(s,o);if(i+=1,i===t.length)return o.endOfAllRequests=Date.now(),o.encryptedBytes?bk(n,o,r):r(null,o)}}},Ck=function(t,n){return function(r){return t.stats=P.mergeOptions(t.stats,_k(r)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(r,t)}},wk=function(t,n,r,i,a,s,o){var l=[],u=Ek(l,r,o);if(a.key&&!a.key.bytes){var c=P.mergeOptions(n,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),d=Tk(a,u),h=t(c,d);l.push(h)}if(a.map&&!a.map.bytes){var m=P.mergeOptions(n,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:rd(a.map)}),T=Sk(a,i,u),E=t(m,T);l.push(E)}var O=P.mergeOptions(n,{uri:a.resolvedUri,responseType:"arraybuffer",headers:rd(a)}),y=xk(a,i,u),S=t(O,y);return S.addEventListener("progress",Ck(a,s)),l.push(S),function(){return b_(l)}},Mm=function(t,n){var r=void 0;return!t||(r=I.getComputedStyle(t),!r)?"":r[n]},ss=function(t,n){var r=t.slice();t.sort(function(i,a){var s=n(i,a);return s===0?r.indexOf(i)-r.indexOf(a):s})},rh=function(t,n){var r=void 0,i=void 0;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||I.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(i=n.attributes.BANDWIDTH),i=i||I.Number.MAX_VALUE,r-i},kk=function(t,n){var r=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||I.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(i=n.attributes.RESOLUTION.width),i=i||I.Number.MAX_VALUE,r===i&&t.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?t.attributes.BANDWIDTH-n.attributes.BANDWIDTH:r-i},Pk=function(t,n,r,i,a){var s=t.playlists.map(function(b){var A=void 0,L=void 0,R=void 0;return A=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width,L=b.attributes.RESOLUTION&&b.attributes.RESOLUTION.height,R=b.attributes.BANDWIDTH,R=R||I.Number.MAX_VALUE,{bandwidth:R,width:A,height:L,playlist:b}});ss(s,function(b,A){return b.bandwidth-A.bandwidth}),s=s.filter(function(b){return!gt.isIncompatible(b.playlist)});var o=s.filter(function(b){return gt.isEnabled(b.playlist)});o.length||(o=s.filter(function(b){return!gt.isDisabled(b.playlist)}));var l=o.filter(function(b){return b.bandwidth*Ct.BANDWIDTH_VARIANCE<n}),u=l[l.length-1],c=l.filter(function(b){return b.bandwidth===u.bandwidth})[0];if(a===!1){var d=c||o[0]||s[0];return d?d.playlist:null}var h=l.filter(function(b){return b.width&&b.height});ss(h,function(b,A){return b.width-A.width});var m=h.filter(function(b){return b.width===r&&b.height===i});u=m[m.length-1];var T=m.filter(function(b){return b.bandwidth===u.bandwidth})[0],E=void 0,O=void 0,y=void 0;T||(E=h.filter(function(b){return b.width>r||b.height>i}),O=E.filter(function(b){return b.width===E[0].width&&b.height===E[0].height}),u=O[O.length-1],y=O.filter(function(b){return b.bandwidth===u.bandwidth})[0]);var S=y||T||c||o[0]||s[0];return S?S.playlist:null},Ak=function(){return Pk(this.playlists.master,this.systemBandwidth,parseInt(Mm(this.tech_.el(),"width"),10),parseInt(Mm(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},Ik=function(t){var n=t.master,r=t.currentTime,i=t.bandwidth,a=t.duration,s=t.segmentDuration,o=t.timeUntilRebuffer,l=t.currentTimeline,u=t.syncController,c=n.playlists.filter(function(E){return!gt.isIncompatible(E)}),d=c.filter(gt.isEnabled);d.length||(d=c.filter(function(E){return!gt.isDisabled(E)}));var h=d.filter(gt.hasAttribute.bind(null,"BANDWIDTH")),m=h.map(function(E){var O=u.getSyncPoint(E,a,l,r),y=O?1:2,S=gt.estimateSegmentRequestTime(s,i,E),b=S*y-o;return{playlist:E,rebufferingImpact:b}}),T=m.filter(function(E){return E.rebufferingImpact<=0});return ss(T,function(E,O){return rh(O.playlist,E.playlist)}),T.length?T[0]:(ss(m,function(E,O){return E.rebufferingImpact-O.rebufferingImpact}),m[0]||null)},Lk=function(){var t=this.playlists.master.playlists.filter(gt.isEnabled);ss(t,function(r,i){return rh(r,i)});var n=t.filter(function(r){return as(r.attributes.CODECS).videoCodec});return n[0]||null},Ok=function(t,n,r){for(var i in r)if(!t[i]){n.trigger({type:"usage",name:"hls-608"});var a=n.textTracks().getTrackById(i);a?t[i]=a:t[i]=n.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}},Dk=function(t){var n=t.inbandTextTracks,r=t.captionArray,i=t.timestampOffset;if(r){var a=window.WebKitDataCue||window.VTTCue;r.forEach(function(s){var o=s.stream,l=s.startTime,u=s.endTime;n[o]&&(l+=i,u+=i,n[o].addCue(new a(l,u,s.text)))})}},Rk=500,Mk=function(t,n,r){if(!t||!n)return!1;var i=t.segments,a=r===i.length;return t.endList&&n.readyState==="open"&&a},Nm=function(t){return typeof t=="number"&&isFinite(t)},Nk=function(t,n,r){return t!=="main"||!n||!r?null:!r.containsAudio&&!r.containsVideo?"Neither audio nor video found in segment.":n.containsVideo&&!r.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!n.containsVideo&&r.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Uk=function(t,n,r){var i=void 0;return t.length&&t.start(0)>0&&t.start(0)<n?i=t.start(0):i=n-30,Math.min(i,n-r)},Fk=function(t){var n=t.segment,r=n.start,i=n.end,a=t.playlist,s=a.mediaSequence,o=a.id,l=a.segments,u=l===void 0?[]:l,c=t.mediaIndex,d=t.timeline;return["appending ["+c+"] of ["+s+", "+(s+u.length)+"] from playlist ["+o+"]","["+r+" => "+i+"] in timeline ["+d+"]"].join(" ")},od=function(e){Ur(t,e);function t(n){Yt(this,t);var r=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=n.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=n.hasPlayed,r.currentTime_=n.currentTime,r.seekable_=n.seekable,r.seeking_=n.seeking,r.duration_=n.duration,r.mediaSource_=n.mediaSource,r.hls_=n.hls,r.loaderType_=n.loaderType,r.startingMedia_=void 0,r.segmentMetadataTrack_=n.segmentMetadataTrack,r.goalBufferLength_=n.goalBufferLength,r.sourceType_=n.sourceType,r.inbandTextTracks_=n.inbandTextTracks,r.state_="INIT",r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.mimeType_=null,r.sourceUpdater_=null,r.xhrOptions_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=n.cacheEncryptionKeys,r.keyCache_={},r.loaderType_==="main"?r.captionParser_=new aE:r.captionParser_=null,r.decrypter_=n.decrypter,r.syncController_=n.syncController,r.syncPoint_={segmentIndex:0,time:0},r.syncController_.on("syncinfoupdate",function(){return r.trigger("syncinfoupdate")}),r.mediaSource_.addEventListener("sourceopen",function(){return r.ended_=!1}),r.fetchAtBuffer_=!1,r.logger_=ys("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(r,"state",{get:function(){return this.state_},set:function(a){a!==this.state_&&(this.logger_(this.state_+" -> "+a),this.state_=a)}}),r}return cr(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(r){return typeof r<"u"&&(this.error_=r),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():P.createTimeRanges()}},{key:"initSegment",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)return null;var a=al(r),s=this.initSegments_[a];return i&&!s&&r.bytes&&(this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,timescales:r.timescales,videoTrackIds:r.videoTrackIds}),s||r}},{key:"segmentKey",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)return null;var a=l_(r),s=this.keyCache_[a];this.cacheEncryptionKeys_&&i&&!s&&r.bytes&&(this.keyCache_[a]=s={resolvedUri:r.resolvedUri,bytes:r.bytes});var o={resolvedUri:(s||r).resolvedUri};return s&&(o.bytes=s.bytes),o}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new gk(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r){var a=this.playlist_,s=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=i,this.hasPlayed_()||(r.syncInfo={mediaSequence:r.mediaSequence,time:0});var o=null;if(a&&(a.id?o=a.id:a.uri&&(o=a.uri)),this.logger_("playlist update ["+o+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==r.uri){this.mediaIndex!==null&&this.resyncLoader();return}var l=r.mediaSequence-a.mediaSequence;this.logger_("live window shift ["+l+"]"),this.mediaIndex!==null&&(this.mediaIndex-=l),s&&(s.mediaIndex-=l,s.mediaIndex>=0&&(s.segment=r.segments[s.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(a,r)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(r,i){this.mimeType_||(this.mimeType_=r,this.sourceBufferEmitter_=i,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(r){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),r),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(r,i,a){if(this.sourceUpdater_&&this.sourceUpdater_.remove(r,i,a),wi(r,i,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var s in this.inbandTextTracks_)wi(r,i,this.inbandTextTracks_[s])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=I.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&I.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=I.setTimeout(this.monitorBufferTick_.bind(this),Rk)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var r=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(r){if(this.isEndOfStream_(r.mediaIndex)){this.endOfStream();return}r.mediaIndex===this.playlist_.segments.length-1&&this.mediaSource_.readyState==="ended"&&!this.seeking_()||(r.timeline!==this.currentTimeline_&&(this.syncController_.reset(),r.timestampOffset=r.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(r))}}}},{key:"isEndOfStream_",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.playlist_;return Mk(i,this.mediaSource_,r)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(r,i,a,s,o,l){var u=0,c=void 0;r.length&&(u=r.end(r.length-1));var d=Math.max(0,u-o);if(!i.segments.length||d>=this.goalBufferLength_()||!s&&d>=1)return null;if(l===null)return a=this.getSyncSegmentCandidate_(i),this.generateSegmentInfo_(i,a,null,!0);if(a!==null)return i.segments[a],c=u,this.generateSegmentInfo_(i,a+1,c,!1);if(this.fetchAtBuffer_){var h=gt.getMediaInfoForTime(i,u,l.segmentIndex,l.time);a=h.mediaIndex,c=h.startTime}else{var m=gt.getMediaInfoForTime(i,o,l.segmentIndex,l.time);a=m.mediaIndex,c=m.startTime}return this.generateSegmentInfo_(i,a,c,!1)}},{key:"getSyncSegmentCandidate_",value:function(r){var i=this;if(this.currentTimeline_===-1)return 0;var a=r.segments.map(function(s,o){return{timeline:s.timeline,segmentIndex:o}}).filter(function(s){return s.timeline===i.currentTimeline_});return a.length?a[Math.min(a.length-1,1)].segmentIndex:Math.max(r.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(r,i,a,s){if(i<0||i>=r.segments.length)return null;var o=r.segments[i];return{requestId:"segment-loader-"+Math.random(),uri:o.resolvedUri,mediaIndex:i,isSyncRequest:s,startOfSegment:a,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:o.timeline,duration:o.duration,segment:o}}},{key:"abortRequestEarly_",value:function(r){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)return!1;var i=this.currentTime_(),a=r.bandwidth,s=this.pendingSegment_.duration,o=gt.estimateSegmentRequestTime(s,a,this.playlist_,r.bytesReceived),l=Kw(this.buffered_(),i,this.hls_.tech_.playbackRate())-1;if(o<=l)return!1;var u=Ik({master:this.hls_.playlists.master,currentTime:i,bandwidth:a,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(u){var c=o-l,d=c-u.rebufferingImpact,h=.5;return l<=Bl&&(h=1),!u.playlist||u.playlist.uri===this.playlist_.uri||d<h?!1:(this.bandwidth=u.playlist.attributes.BANDWIDTH*Ct.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(r,i){!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId||this.abortRequestEarly_(i.stats)||this.trigger("progress")}},{key:"loadSegment_",value:function(r){this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),r.abortRequests=wk(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(r),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(r){var i=Uk(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}},{key:"createSimplifiedSegmentObj_",value:function(r){var i=r.segment,a={resolvedUri:i.resolvedUri,byterange:i.byterange,requestId:r.requestId};if(i.key){var s=i.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);a.key=this.segmentKey(i.key),a.key.iv=s}return i.map&&(a.map=this.initSegment(i.map)),a}},{key:"segmentRequestFinished_",value:function(r,i){if(this.mediaRequests+=1,i.stats&&(this.mediaBytesTransferred+=i.stats.bytesReceived,this.mediaTransferDuration+=i.stats.roundTripTime),!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(i.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===an.ABORTED){this.mediaRequestsAborted+=1;return}if(this.pause(),r.code===an.TIMEOUT){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}this.bandwidth=i.stats.bandwidth,this.roundTrip=i.stats.roundTripTime,i.map&&(i.map=this.initSegment(i.map,!0)),i.key&&this.segmentKey(i.key,!0),this.processSegmentResponse_(i)}}},{key:"processSegmentResponse_",value:function(r){var i=this.pendingSegment_;i.bytes=r.bytes,r.map&&(i.segment.map.bytes=r.map.bytes),i.endOfAllRequests=r.endOfAllRequests,r.fmp4Captions&&(Ok(this.inbandTextTracks_,this.hls_.tech_,r.captionStreams),Dk({inbandTextTracks:this.inbandTextTracks_,captionArray:r.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var r=this;if(!this.pendingSegment_){this.state="READY";return}var i=this.pendingSegment_,a=i.segment,s=this.syncController_.probeSegmentInfo(i);typeof this.startingMedia_>"u"&&s&&(s.containsAudio||s.containsVideo)&&(this.startingMedia_={containsAudio:s.containsAudio,containsVideo:s.containsVideo});var o=Nk(this.loaderType_,this.startingMedia_,s);if(o){this.error({message:o,blacklistDuration:1/0}),this.trigger("error");return}if(i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}if(i.timestampOffset!==null&&i.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(s&&s.segmentTimestampInfo){var l=s.segmentTimestampInfo[0].ptsTime,u=s.segmentTimestampInfo[0].dtsTime;i.timestampOffset-=l-u}this.sourceUpdater_.timestampOffset(i.timestampOffset),this.trigger("timestampoffset")}var c=this.syncController_.mappingForTimeline(i.timeline);if(c!==null&&this.trigger({type:"segmenttimemapping",mapping:c}),this.state="APPENDING",a.map){var d=al(a.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==d){var h=this.initSegment(a.map);this.sourceUpdater_.appendBuffer({bytes:h.bytes},function(){r.activeInitSegmentId_=d})}}i.byteLength=i.bytes.byteLength,typeof a.start=="number"&&typeof a.end=="number"?this.mediaSecondsLoaded+=a.end-a.start:this.mediaSecondsLoaded+=a.duration,this.logger_(Fk(i)),this.sourceUpdater_.appendBuffer({bytes:i.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,i.requestId)},this.handleUpdateEnd_.bind(this))}},{key:"handleVideoSegmentTimingInfo_",value:function(r,i){if(!(!this.pendingSegment_||r!==this.pendingSegment_.requestId)){var a=this.pendingSegment_.segment;a.videoTimingInfo||(a.videoTimingInfo={}),a.videoTimingInfo.transmuxerPrependedSeconds=i.videoSegmentTimingInfo.prependedContentDuration||0,a.videoTimingInfo.transmuxedPresentationStart=i.videoSegmentTimingInfo.start.presentation,a.videoTimingInfo.transmuxedPresentationEnd=i.videoSegmentTimingInfo.end.presentation,a.videoTimingInfo.baseMediaDecodeTime=i.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_,i=r.segment,a=this.mediaIndex!==null;if(this.pendingSegment_=null,this.recordThroughput_(r),this.addSegmentMetadataCue_(r),this.state="READY",this.mediaIndex=r.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate"),i.end&&this.currentTime_()-i.end>r.playlist.targetDuration*3){this.resetEverything();return}a&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(r.mediaIndex+1,r.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(r){var i=this.throughput.rate,a=Date.now()-r.endOfAllRequests+1,s=Math.floor(r.byteLength/a*8*1e3);this.throughput.rate+=(s-i)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(r){if(this.segmentMetadataTrack_){var i=r.segment,a=i.start,s=i.end;if(!(!Nm(a)||!Nm(s))){wi(a,s,this.segmentMetadataTrack_);var o=I.WebKitDataCue||I.VTTCue,l={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.uri,start:a,end:s},u=JSON.stringify(l),c=new o(a,s,u);c.value=l,this.segmentMetadataTrack_.addCue(c)}}}}]),t}(P.EventTarget),Um=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Fm=new Uint8Array(`

`.split("").map(function(e){return e.charCodeAt(0)})),Bk=function(e){Ur(t,e);function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yt(this,t);var i=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return cr(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return P.createTimeRanges();var r=this.subtitlesTrack_.cues,i=r[0].startTime,a=r[r.length-1].startTime;return P.createTimeRanges([[i,a]])}},{key:"initSegment",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)return null;var a=al(r),s=this.initSegments_[a];if(i&&!s&&r.bytes){var o=Fm.byteLength+r.bytes.byteLength,l=new Uint8Array(o);l.set(r.bytes),l.set(Fm,r.bytes.byteLength),this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:l}}return s||r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(r){return typeof r>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(r,i){wi(r,i,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var r=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var i=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(i=this.skipEmptySegments_(i),!!i){if(this.syncController_.timestampOffsetForTimeline(i.timeline)===null){var a=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(i)}}},{key:"skipEmptySegments_",value:function(r){for(;r&&r.segment.empty;)r=this.generateSegmentInfo_(r.playlist,r.mediaIndex+1,r.startOfSegment+r.duration,r.isSyncRequest);return r}},{key:"handleSegment_",value:function(){var r=this;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state="READY";return}this.state="APPENDING";var i=this.pendingSegment_,a=i.segment;if(typeof I.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s=void 0,o=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.error({message:"Error loading vtt.js"}),r.state="READY",r.pause(),r.trigger("error")};s=function(){r.subtitlesTrack_.tech_.off("vttjserror",o),r.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),this.subtitlesTrack_.tech_.one("vttjserror",o);return}a.requested=!0;try{this.parseVTTCues_(i)}catch(l){return this.error({message:l.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.length&&this.remove(i.cues[0].endTime,i.cues[i.cues.length-1].endTime),i.cues.forEach(function(l){r.subtitlesTrack_.addCue(l)}),this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(r){var i=void 0,a=!1;typeof I.TextDecoder=="function"?i=new I.TextDecoder("utf8"):(i=I.WebVTT.StringDecoder(),a=!0);var s=new I.WebVTT.Parser(I,I.vttjs,i);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=r.cues.push.bind(r.cues),s.ontimestampmap=function(u){return r.timestampmap=u},s.onparsingerror=function(u){P.log.warn("Error encountered when parsing cues: "+u.message)},r.segment.map){var o=r.segment.map.bytes;a&&(o=Um(o)),s.parse(o)}var l=r.bytes;a&&(l=Um(l)),s.parse(l),s.flush()}},{key:"updateTimeMapping_",value:function(r,i,a){var s=r.segment;if(i){if(!r.cues.length){s.empty=!0;return}var o=r.timestampmap,l=o.MPEGTS/9e4-o.LOCAL+i.mapping;if(r.cues.forEach(function(d){d.startTime+=l,d.endTime+=l}),!a.syncInfo){var u=r.cues[0].startTime,c=r.cues[r.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:Math.min(u,c-s.duration)}}}}}]),t}(od),jk=function(t,n){for(var r=t.cues,i=0;i<r.length;i++){var a=r[i];if(n>=a.adStartTime&&n<=a.adEndTime)return a}return null},zk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(t.segments)for(var i=r,a=void 0,s=0;s<t.segments.length;s++){var o=t.segments[s];if(a||(a=jk(n,i+o.duration/2)),a){if("cueIn"in o){a.endTime=i,a.adEndTime=i,i+=o.duration,a=null;continue}if(i<a.endTime){i+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new I.VTTCue(i,i+o.duration,o.cueOut),a.adStartTime=i,a.adEndTime=i+parseFloat(o.cueOut),n.addCue(a)),"cueOutCont"in o){var l=void 0,u=void 0,c=o.cueOutCont.split("/").map(parseFloat),d=mw(c,2);l=d[0],u=d[1],a=new I.VTTCue(i,i+o.duration,""),a.adStartTime=i-l,a.adEndTime=a.adStartTime+u,n.addCue(a)}i+=o.duration}},Hk=ME.inspect,Bm=[{name:"VOD",run:function(t,n,r,i,a){if(r!==1/0){var s={time:0,segmentIndex:0};return s}return null}},{name:"ProgramDateTime",run:function(t,n,r,i,a){if(!t.datetimeToDisplayTime)return null;var s=n.segments||[],o=null,l=null;a=a||0;for(var u=0;u<s.length;u++){var c=s[u];if(c.dateTimeObject){var d=c.dateTimeObject.getTime()/1e3,h=d+t.datetimeToDisplayTime,m=Math.abs(a-h);if(l!==null&&(m===0||l<m))break;l=m,o={time:h,segmentIndex:u}}}return o}},{name:"Segment",run:function(t,n,r,i,a){var s=n.segments||[],o=null,l=null;a=a||0;for(var u=0;u<s.length;u++){var c=s[u];if(c.timeline===i&&typeof c.start<"u"){var d=Math.abs(a-c.start);if(l!==null&&l<d)break;(!o||l===null||l>=d)&&(l=d,o={time:c.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(t,n,r,i,a){var s=null;if(a=a||0,n.discontinuityStarts&&n.discontinuityStarts.length)for(var o=null,l=0;l<n.discontinuityStarts.length;l++){var u=n.discontinuityStarts[l],c=n.discontinuitySequence+l+1,d=t.discontinuities[c];if(d){var h=Math.abs(a-d.time);if(o!==null&&o<h)break;(!s||o===null||o>=h)&&(o=h,s={time:d.time,segmentIndex:u})}}return s}},{name:"Playlist",run:function(t,n,r,i,a){if(n.syncInfo){var s={time:n.syncInfo.time,segmentIndex:n.syncInfo.mediaSequence-n.mediaSequence};return s}return null}}],Vk=function(e){Ur(t,e);function t(){Yt(this,t);var n=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.inspectCache_=void 0,n.timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=ys("SyncController"),n}return cr(t,[{key:"getSyncPoint",value:function(r,i,a,s){var o=this.runStrategies_(r,i,a,s);return o.length?this.selectSyncPoint_(o,{key:"time",value:s}):null}},{key:"getExpiredTime",value:function(r,i){if(!r||!r.segments)return null;var a=this.runStrategies_(r,i,r.discontinuitySequence,0);if(!a.length)return null;var s=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+Ma(r,s.segmentIndex,0))}},{key:"runStrategies_",value:function(r,i,a,s){for(var o=[],l=0;l<Bm.length;l++){var u=Bm[l],c=u.run(this,r,i,a,s);c&&(c.strategy=u.name,o.push({strategy:u.name,syncPoint:c}))}return o}},{key:"selectSyncPoint_",value:function(r,i){for(var a=r[0].syncPoint,s=Math.abs(r[0].syncPoint[i.key]-i.value),o=r[0].strategy,l=1;l<r.length;l++){var u=Math.abs(r[l].syncPoint[i.key]-i.value);u<s&&(s=u,a=r[l].syncPoint,o=r[l].strategy)}return this.logger_("syncPoint for ["+i.key+": "+i.value+"] chosen with strategy"+(" ["+o+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex+"]")),a}},{key:"saveExpiredSegmentInfo",value:function(r,i){for(var a=i.mediaSequence-r.mediaSequence,s=a-1;s>=0;s--){var o=r.segments[s];if(o&&typeof o.start<"u"){i.syncInfo={mediaSequence:r.mediaSequence+s,time:o.start},this.logger_("playlist refresh sync: [time:"+i.syncInfo.time+","+(" mediaSequence: "+i.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(r){if(!this.datetimeToDisplayTime&&r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var i=r.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-i}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(r){var i=r.segment,a=r.playlist,s=void 0;return i.map?s=this.probeMp4Segment_(r):s=this.probeTsSegment_(r),s&&this.calculateSegmentTimeMapping_(r,s)&&(this.saveDiscontinuitySyncInfo_(r),a.syncInfo||(a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:i.start})),s}},{key:"probeMp4Segment_",value:function(r){var i=r.segment,a=Xo.timescale(i.map.bytes),s=Xo.startTime(a,r.bytes);return r.timestampOffset!==null&&(r.timestampOffset-=s),{start:s,end:s+i.duration}}},{key:"probeTsSegment_",value:function(r){var i=Hk(r.bytes,this.inspectCache_),a=void 0,s=void 0,o=void 0;if(!i)return null;i.video&&i.video.length===2?(this.inspectCache_=i.video[1].dts,a=i.video[0].dtsTime,s=i.video[1].dtsTime,o=i.video):i.audio&&i.audio.length===2&&(this.inspectCache_=i.audio[1].dts,a=i.audio[0].dtsTime,s=i.audio[1].dtsTime,o=i.audio);var l={segmentTimestampInfo:o,start:a,end:s,containsVideo:i.video&&i.video.length===2,containsAudio:i.audio&&i.audio.length===2};return l}},{key:"timestampOffsetForTimeline",value:function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].time}},{key:"mappingForTimeline",value:function(r){return typeof this.timelines[r]>"u"?null:this.timelines[r].mapping}},{key:"calculateSegmentTimeMapping_",value:function(r,i){var a=r.segment,s=this.timelines[r.timeline];if(r.timestampOffset!==null)s={time:r.startOfSegment,mapping:r.startOfSegment-i.start},this.timelines[r.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+s.time+"] [mapping: "+s.mapping+"]")),a.start=r.startOfSegment,a.end=i.end+s.mapping;else if(s)a.start=i.start+s.mapping,a.end=i.end+s.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(r){var i=r.playlist,a=r.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(var s=0;s<i.discontinuityStarts.length;s++){var o=i.discontinuityStarts[s],l=i.discontinuitySequence+s+1,u=o-r.mediaIndex,c=Math.abs(u);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>c){var d=void 0;u<0?d=a.start-Ma(i,r.mediaIndex,o):d=a.end+Ma(i,r.mediaIndex+1,o),this.discontinuities[l]={time:d,accuracy:c}}}}}]),t}(P.EventTarget),$k=new p_("./decrypter-worker.worker.js",function(e,t){var n=this;(function(){function r(b){return b.subarray(0,b.byteLength-b[b.byteLength-1])}var i=function(A,L){if(!(A instanceof L))throw new TypeError("Cannot call a class as a function")},a=function(){function b(A,L){for(var R=0;R<L.length;R++){var M=L[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,L,R){return L&&b(A.prototype,L),R&&b(A,R),A}}(),s=function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);A.prototype=Object.create(L&&L.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(A,L):A.__proto__=L)},o=function(A,L){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:A},l=function(){var A=[[[],[],[],[],[]],[[],[],[],[],[]]],L=A[0],R=A[1],M=L[4],B=R[4],q=void 0,G=void 0,Q=void 0,$=[],de=[],Ae=void 0,Re=void 0,Be=void 0,Ee=void 0,H=void 0,X=void 0;for(q=0;q<256;q++)de[($[q]=q<<1^(q>>7)*283)^q]=q;for(G=Q=0;!M[G];G^=Ae||1,Q=de[Q]||1)for(Ee=Q^Q<<1^Q<<2^Q<<3^Q<<4,Ee=Ee>>8^Ee&255^99,M[G]=Ee,B[Ee]=G,Be=$[Re=$[Ae=$[G]]],X=Be*16843009^Re*65537^Ae*257^G*16843008,H=$[Ee]*257^Ee*16843008,q=0;q<4;q++)L[q][G]=H=H<<24^H>>>8,R[q][Ee]=X=X<<24^X>>>8;for(q=0;q<5;q++)L[q]=L[q].slice(0),R[q]=R[q].slice(0);return A},u=null,c=function(){function b(A){i(this,b),u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var L=void 0,R=void 0,M=void 0,B=void 0,q=void 0,G=this._tables[0][4],Q=this._tables[1],$=A.length,de=1;if($!==4&&$!==6&&$!==8)throw new Error("Invalid aes key size");for(B=A.slice(0),q=[],this._key=[B,q],L=$;L<4*$+28;L++)M=B[L-1],(L%$===0||$===8&&L%$===4)&&(M=G[M>>>24]<<24^G[M>>16&255]<<16^G[M>>8&255]<<8^G[M&255],L%$===0&&(M=M<<8^M>>>24^de<<24,de=de<<1^(de>>7)*283)),B[L]=B[L-$]^M;for(R=0;L;R++,L--)M=B[R&3?L:L-4],L<=4||R<4?q[R]=M:q[R]=Q[0][G[M>>>24]]^Q[1][G[M>>16&255]]^Q[2][G[M>>8&255]]^Q[3][G[M&255]]}return b.prototype.decrypt=function(L,R,M,B,q,G){var Q=this._key[1],$=L^Q[0],de=B^Q[1],Ae=M^Q[2],Re=R^Q[3],Be=void 0,Ee=void 0,H=void 0,X=Q.length/4-2,te=void 0,ce=4,fe=this._tables[1],Mt=fe[0],nt=fe[1],Qt=fe[2],je=fe[3],Jt=fe[4];for(te=0;te<X;te++)Be=Mt[$>>>24]^nt[de>>16&255]^Qt[Ae>>8&255]^je[Re&255]^Q[ce],Ee=Mt[de>>>24]^nt[Ae>>16&255]^Qt[Re>>8&255]^je[$&255]^Q[ce+1],H=Mt[Ae>>>24]^nt[Re>>16&255]^Qt[$>>8&255]^je[de&255]^Q[ce+2],Re=Mt[Re>>>24]^nt[$>>16&255]^Qt[de>>8&255]^je[Ae&255]^Q[ce+3],ce+=4,$=Be,de=Ee,Ae=H;for(te=0;te<4;te++)q[(3&-te)+G]=Jt[$>>>24]<<24^Jt[de>>16&255]<<16^Jt[Ae>>8&255]<<8^Jt[Re&255]^Q[ce++],Be=$,$=de,de=Ae,Ae=Re,Re=Be},b}(),d=function(){function b(){i(this,b),this.listeners={}}return b.prototype.on=function(L,R){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push(R)},b.prototype.off=function(L,R){if(!this.listeners[L])return!1;var M=this.listeners[L].indexOf(R);return this.listeners[L].splice(M,1),M>-1},b.prototype.trigger=function(L){var R=this.listeners[L];if(R)if(arguments.length===2)for(var M=R.length,B=0;B<M;++B)R[B].call(this,arguments[1]);else for(var q=Array.prototype.slice.call(arguments,1),G=R.length,Q=0;Q<G;++Q)R[Q].apply(this,q)},b.prototype.dispose=function(){this.listeners={}},b.prototype.pipe=function(L){this.on("data",function(R){L.push(R)})},b}(),h=function(b){s(A,b);function A(){i(this,A);var L=o(this,b.call(this,d));return L.jobs=[],L.delay=1,L.timeout_=null,L}return A.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},A.prototype.push=function(R){this.jobs.push(R),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},A}(d),m=function(A){return A<<24|(A&65280)<<8|(A&16711680)>>8|A>>>24},T=function(A,L,R){var M=new Int32Array(A.buffer,A.byteOffset,A.byteLength>>2),B=new c(Array.prototype.slice.call(L)),q=new Uint8Array(A.byteLength),G=new Int32Array(q.buffer),Q=void 0,$=void 0,de=void 0,Ae=void 0,Re=void 0,Be=void 0,Ee=void 0,H=void 0,X=void 0;for(Q=R[0],$=R[1],de=R[2],Ae=R[3],X=0;X<M.length;X+=4)Re=m(M[X]),Be=m(M[X+1]),Ee=m(M[X+2]),H=m(M[X+3]),B.decrypt(Re,Be,Ee,H,G,X),G[X]=m(G[X]^Q),G[X+1]=m(G[X+1]^$),G[X+2]=m(G[X+2]^de),G[X+3]=m(G[X+3]^Ae),Q=Re,$=Be,de=Ee,Ae=H;return q},E=function(){function b(A,L,R,M){i(this,b);var B=b.STEP,q=new Int32Array(A.buffer),G=new Uint8Array(A.byteLength),Q=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(q.subarray(Q,Q+B),L,R,G)),Q=B;Q<q.length;Q+=B)R=new Uint32Array([m(q[Q-4]),m(q[Q-3]),m(q[Q-2]),m(q[Q-1])]),this.asyncStream_.push(this.decryptChunk_(q.subarray(Q,Q+B),L,R,G));this.asyncStream_.push(function(){M(null,r(G))})}return b.prototype.decryptChunk_=function(L,R,M,B){return function(){var q=T(L,R,M);B.set(q,L.byteOffset)}},a(b,null,[{key:"STEP",get:function(){return 32e3}}]),b}(),O=function(A){var L={};return Object.keys(A).forEach(function(R){var M=A[R];ArrayBuffer.isView(M)?L[R]={bytes:M.buffer,byteOffset:M.byteOffset,byteLength:M.byteLength}:L[R]=M}),L},y=function(A){A.onmessage=function(L){var R=L.data,M=new Uint8Array(R.encrypted.bytes,R.encrypted.byteOffset,R.encrypted.byteLength),B=new Uint32Array(R.key.bytes,R.key.byteOffset,R.key.byteLength/4),q=new Uint32Array(R.iv.bytes,R.iv.byteOffset,R.iv.byteLength/4);new E(M,B,q,function(G,Q){A.postMessage(O({source:R.source,decrypted:Q}),[Q.buffer])})}},S=new y(n);return S})()}),Wk=function(t){var n=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(n="main-desc"),n},sl=function(t,n){t.abort(),t.pause(),n&&n.activePlaylistLoader&&(n.activePlaylistLoader.pause(),n.activePlaylistLoader=null)},ld=function(t,n){n.activePlaylistLoader=t,t.load()},Gk=function(t,n){return function(){var r=n.segmentLoaders,i=r[t],a=r.main,s=n.mediaTypes[t],o=s.activeTrack(),l=s.activeGroup(o),u=s.activePlaylistLoader;if(sl(i,s),!!l){if(!l.playlistLoader){u&&a.resetEverything();return}i.resyncLoader(),ld(l.playlistLoader,s)}}},qk=function(t,n){return function(){var r=n.segmentLoaders,i=r[t],a=r.main,s=n.mediaTypes[t],o=s.activeTrack(),l=s.activeGroup(o),u=s.activePlaylistLoader;if(sl(i,s),!!l){if(!l.playlistLoader){a.resetEverything();return}if(u===l.playlistLoader){ld(l.playlistLoader,s);return}i.track&&i.track(o),i.resetEverything(),ld(l.playlistLoader,s)}}},ol={AUDIO:function(t,n){return function(){var r=n.segmentLoaders[t],i=n.mediaTypes[t],a=n.blacklistCurrentPlaylist;sl(r,i);var s=i.activeTrack(),o=i.activeGroup(),l=(o.filter(function(d){return d.default})[0]||o[0]).id,u=i.tracks[l];if(s===u){a({message:"Problem encountered loading the default audio track."});return}P.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in i.tracks)i.tracks[c].enabled=i.tracks[c]===u;i.onTrackChanged()}},SUBTITLES:function(t,n){return function(){var r=n.segmentLoaders[t],i=n.mediaTypes[t];P.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),sl(r,i);var a=i.activeTrack();a&&(a.mode="disabled"),i.onTrackChanged()}}},jm={AUDIO:function(t,n,r){if(n){var i=r.tech,a=r.requestOptions,s=r.segmentLoaders[t];n.on("loadedmetadata",function(){var o=n.media();s.playlist(o,a),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),i.paused()||s.load()}),n.on("error",ol[t](t,r))}},SUBTITLES:function(t,n,r){var i=r.tech,a=r.requestOptions,s=r.segmentLoaders[t],o=r.mediaTypes[t];n.on("loadedmetadata",function(){var l=n.media();s.playlist(l,a),s.track(o.activeTrack()),(!i.paused()||l.endList&&i.preload()!=="none")&&s.load()}),n.on("loadedplaylist",function(){s.playlist(n.media(),a),i.paused()||s.load()}),n.on("error",ol[t](t,r))}},Kk={AUDIO:function(t,n){var r=n.hls,i=n.sourceType,a=n.segmentLoaders[t],s=n.requestOptions,o=n.master.mediaGroups,l=n.mediaTypes[t],u=l.groups,c=l.tracks,d=n.masterPlaylistLoader;(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}});for(var h in o[t]){u[h]||(u[h]=[]);for(var m in o[t][h]){var T=o[t][h][m],E=void 0;if(T.resolvedUri?E=new il(T.resolvedUri,r,s):T.playlists&&i==="dash"?E=new sd(T.playlists[0],r,s,d):E=null,T=P.mergeOptions({id:m,playlistLoader:E},T),jm[t](t,T.playlistLoader,n),u[h].push(T),typeof c[m]>"u"){var O=new P.AudioTrack({id:m,kind:Wk(T),enabled:!1,language:T.language,default:T.default,label:m});c[m]=O}}}a.on("error",ol[t](t,n))},SUBTITLES:function(t,n){var r=n.tech,i=n.hls,a=n.sourceType,s=n.segmentLoaders[t],o=n.requestOptions,l=n.master.mediaGroups,u=n.mediaTypes[t],c=u.groups,d=u.tracks,h=n.masterPlaylistLoader;for(var m in l[t]){c[m]||(c[m]=[]);for(var T in l[t][m])if(!l[t][m][T].forced){var E=l[t][m][T],O=void 0;if(a==="hls"?O=new il(E.resolvedUri,i,o):a==="dash"&&(O=new sd(E.playlists[0],i,o,h)),E=P.mergeOptions({id:T,playlistLoader:O},E),jm[t](t,E.playlistLoader,n),c[m].push(E),typeof d[T]>"u"){var y=r.addRemoteTextTrack({id:T,kind:"subtitles",default:E.default&&E.autoselect,language:E.language,label:T},!1).track;d[T]=y}}}s.on("error",ol[t](t,n))},"CLOSED-CAPTIONS":function(t,n){var r=n.tech,i=n.master.mediaGroups,a=n.mediaTypes[t],s=a.groups,o=a.tracks;for(var l in i[t]){s[l]||(s[l]=[]);for(var u in i[t][l]){var c=i[t][l][u];if(c.instreamId.match(/CC\d/)&&(s[l].push(P.mergeOptions({id:u},c)),typeof o[u]>"u")){var d=r.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default&&c.autoselect,language:c.language,label:u},!1).track;o[u]=d}}}}},Xk=function(t,n){return function(r){var i=n.masterPlaylistLoader,a=n.mediaTypes[t].groups,s=i.media();if(!s)return null;var o=null;return s.attributes[t]&&(o=a[s.attributes[t]]),o=o||a.main,typeof r>"u"?o:r===null?null:o.filter(function(l){return l.id===r.id})[0]||null}},Yk={AUDIO:function(t,n){return function(){var r=n.mediaTypes[t].tracks;for(var i in r)if(r[i].enabled)return r[i];return null}},SUBTITLES:function(t,n){return function(){var r=n.mediaTypes[t].tracks;for(var i in r)if(r[i].mode==="showing")return r[i];return null}}},Qk=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(c){Kk[c](c,t)});var n=t.mediaTypes,r=t.masterPlaylistLoader,i=t.tech,a=t.hls;["AUDIO","SUBTITLES"].forEach(function(c){n[c].activeGroup=Xk(c,t),n[c].activeTrack=Yk[c](c,t),n[c].onGroupChanged=Gk(c,t),n[c].onTrackChanged=qk(c,t)});var s=n.AUDIO.activeGroup(),o=(s.filter(function(c){return c.default})[0]||s[0]).id;n.AUDIO.tracks[o].enabled=!0,n.AUDIO.onTrackChanged(),r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(c){return n[c].onGroupChanged()})});var l=function(){n.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",n.SUBTITLES.onTrackChanged),a.on("dispose",function(){i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",n.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(var u in n.AUDIO.tracks)i.audioTracks().addTrack(n.AUDIO.tracks[u])},Jk=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(n){t[n]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:gi,activeTrack:gi,onGroupChanged:gi,onTrackChanged:gi}}),t},Zk=60*2,jr=void 0,eP=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],tP=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},rP=function(e){Ur(t,e);function t(n){Yt(this,t);var r=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=n.url,a=n.handleManifestRedirects,s=n.withCredentials,o=n.tech,l=n.bandwidth,u=n.externHls,c=n.useCueTags,d=n.blacklistDuration,h=n.enableLowInitialPlaylist,m=n.sourceType,T=n.seekTo,E=n.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");jr=u,r.withCredentials=s,r.tech_=o,r.hls_=o.hls,r.seekTo_=T,r.sourceType_=m,r.useCueTags_=c,r.blacklistDuration=d,r.enableLowInitialPlaylist=h,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:s,handleManifestRedirects:a,timeout:null},r.mediaTypes_=Jk(),r.mediaSource=new P.MediaSource,r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r)),r.seekable_=P.createTimeRanges(),r.hasPlayed_=function(){return!1},r.syncController_=new Vk(n),r.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new $k,r.inbandTextTracks_={};var O={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:l,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:E};return r.masterPlaylistLoader_=r.sourceType_==="dash"?new sd(i,r.hls_,r.requestOptions_):new il(i,r.hls_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new od(P.mergeOptions(O,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),n),r.audioSegmentLoader_=new od(P.mergeOptions(O,{loaderType:"audio"}),n),r.subtitleSegmentLoader_=new Bk(P.mergeOptions(O,{loaderType:"vtt"}),n),r.setupSegmentLoaderListeners_(),eP.forEach(function(y){r[y+"_"]=tP.bind(r,y)}),r.logger_=ys("MPC"),r.masterPlaylistLoader_.load(),r}return cr(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var i=r.masterPlaylistLoader_.media(),a=i.targetDuration*1.5*1e3;td(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,i.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(i,r.requestOptions_),r.mainSegmentLoader_.load()),Qk({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,hls:r.hls_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),i);try{r.setupSourceBuffers_()}catch(s){return P.log.warn("Failed to create SourceBuffers",s),r.mediaSource.endOfStream("decode")}r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var i=r.masterPlaylistLoader_.media();if(!i){r.excludeUnsupportedVariants_();var a=void 0;r.enableLowInitialPlaylist&&(a=r.selectInitialPlaylist()),a||(a=r.selectPlaylist()),r.initialMedia_=a,r.masterPlaylistLoader_.media(r.initialMedia_);return}if(r.useCueTags_&&r.updateAdCues_(i),r.mainSegmentLoader_.playlist(i,r.requestOptions_),r.updateDuration(),r.tech_.paused()||(r.mainSegmentLoader_.load(),r.audioSegmentLoader_&&r.audioSegmentLoader_.load()),!i.endList){var s=function(){var u=r.seekable();u.length!==0&&r.mediaSource.addSeekableRange_(u.start(0),u.end(0))};if(r.duration()!==1/0){var o=function l(){r.duration()===1/0?s():r.tech_.one("durationchange",l)};r.tech_.one("durationchange",o)}else s()}}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var i=r.masterPlaylistLoader_.media(),a=i.targetDuration*1.5*1e3;td(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,r.mainSegmentLoader_.playlist(i,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var i=r.masterPlaylistLoader_.media(),a=r.stuckAtPlaylistEnd_(i);a&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),r.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(r,i){var a=r.mediaGroups||{},s=!0,o=Object.keys(a.AUDIO);for(var l in a.AUDIO)for(var u in a.AUDIO[l]){var c=a.AUDIO[l][u];c.uri||(s=!1)}s&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(a.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),jr.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),jr.Playlist.isFmp4(i)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),o.length&&Object.keys(a.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var r=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var i=r.selectPlaylist(),a=r.masterPlaylistLoader_.media(),s=r.tech_.buffered(),o=s.length?s.end(s.length-1)-r.tech_.currentTime():0,l=r.bufferLowWaterLine();(!a.endList||r.duration()<Ct.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<a.attributes.BANDWIDTH||o>=l)&&r.masterPlaylistLoader_.media(i),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},Zk)}),this.mainSegmentLoader_.on("reseteverything",function(){r.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(i){r.tech_.trigger({type:"hls-segment-time-mapping",mapping:i.mapping})}),this.audioSegmentLoader_.on("ended",function(){r.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var r=this.selectPlaylist();r!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(r),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var r=this,i=this.selectPlaylist();i!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(i),this.mainSegmentLoader_.resetEverything(function(){P.browser.IE_VERSION||P.browser.IS_EDGE?r.tech_.setCurrentTime(r.tech_.currentTime()+.04):r.tech_.setCurrentTime(r.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.seekTo_(r.end(r.length-1))}}},{key:"setupFirstPlay",value:function(){var r=this,i=this.masterPlaylistLoader_.media();if(!i||this.tech_.paused()||this.hasPlayed_())return!1;if(!i.endList){var a=this.seekable();if(!a.length)return!1;if(P.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.seekTo_(a.end(0)),r.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(a.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(i){return P.log.warn("Failed to create Source Buffers",i),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var r=this.tech_.play();typeof r<"u"&&typeof r.then=="function"&&r.then(null,function(i){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_),!!r){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(i){P.log.warn("Failed to call media source endOfStream",i)}}}},{key:"stuckAtPlaylistEnd_",value:function(r){var i=this.seekable();if(!i.length)return!1;var a=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(a===null)return!1;var s=jr.Playlist.playlistEnd(r,a),o=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return s-o<=kr;var u=l.end(l.length-1);return u-o<=kr&&s-u<=kr}},{key:"blacklistCurrentPlaylist",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1],a=void 0,s=void 0;if(a=r.playlist||this.masterPlaylistLoader_.media(),i=i||r.blacklistDuration||this.blacklistDuration,!a){this.error=r;try{return this.mediaSource.endOfStream("network")}catch{return this.trigger("error")}}var o=this.masterPlaylistLoader_.master.playlists.filter(Fl).length===1,l=this.masterPlaylistLoader_.master.playlists;return l.length===1?(P.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o)):(o&&(P.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),l.forEach(function(u){u.excludeUntil!==1/0&&delete u.excludeUntil}),this.tech_.trigger("retryplaylist")),a.excludeUntil=Date.now()+i*1e3,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),s=this.selectPlaylist(),P.log.warn("Problem encountered with the current HLS playlist."+(r.message?" "+r.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(s,o))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(r){var i=f_(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(i&&i.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:jr.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var r=void 0,i=void 0;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.mediaSource.duration);if(s!==null&&(r=jr.Playlist.seekable(a,s),r.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.mediaSource.duration),s===null||(i=jr.Playlist.seekable(a,s),i.length===0))))){var o=void 0,l=void 0;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),l=this.seekable_.start(0)),i?i.start(0)>r.end(0)||r.start(0)>i.end(0)?this.seekable_=r:this.seekable_=P.createTimeRanges([[i.start(0)>r.start(0)?i.start(0):r.start(0),i.end(0)<r.end(0)?i.end(0):r.end(0)]]):this.seekable_=r,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===l)&&(this.logger_("seekable updated ["+eh(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var r=this,i=this.mediaSource.duration,a=jr.Playlist.duration(this.masterPlaylistLoader_.media()),s=this.tech_.buffered(),o=function l(){r.logger_("Setting duration from "+r.mediaSource.duration+" => "+a);try{r.mediaSource.duration=a}catch(u){P.log.warn("Failed to set media source duration",u)}r.tech_.trigger("durationchange"),r.mediaSource.removeEventListener("sourceopen",l)};s.length>0&&(a=Math.max(a,s.end(s.length-1))),i!==a&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",o):o())}},{key:"dispose",value:function(){var r=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(i){var a=r.mediaTypes_[i].groups;for(var s in a)a[s].forEach(function(o){o.playlistLoader&&o.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var r=this.masterPlaylistLoader_.media(),i=void 0;if(!(!r||this.mediaSource.readyState!=="open")){if(i=sk(this.masterPlaylistLoader_.master,r),i.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+r.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(i),this.excludeIncompatibleVariants_(r)}}},{key:"configureLoaderMimeTypes_",value:function(r){var i=r.length>1&&r[0].indexOf(",")===-1&&r[0]!==r[1]?new P.EventTarget:null;this.mainSegmentLoader_.mimeType(r[0],i),r[1]&&this.audioSegmentLoader_.mimeType(r[1],i)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(r){r.attributes.CODECS&&I.MediaSource&&I.MediaSource.isTypeSupported&&!I.MediaSource.isTypeSupported('video/mp4; codecs="'+rk(r.attributes.CODECS)+'"')&&(r.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(r){var i=2,a=null,s=void 0;r.attributes.CODECS&&(s=as(r.attributes.CODECS),a=s.videoCodec,i=s.codecCount),this.master().playlists.forEach(function(o){var l={codecCount:2,videoCodec:null};o.attributes.CODECS&&(l=as(o.attributes.CODECS)),l.codecCount!==i&&(o.excludeUntil=1/0),l.videoCodec!==a&&(o.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(r){var i=0,a=this.seekable();a.length&&(i=a.start(0)),zk(r,this.cueTagsTrack_,i)}},{key:"goalBufferLength",value:function(){var r=this.tech_.currentTime(),i=Ct.GOAL_BUFFER_LENGTH,a=Ct.GOAL_BUFFER_LENGTH_RATE,s=Math.max(i,Ct.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+r*a,s)}},{key:"bufferLowWaterLine",value:function(){var r=this.tech_.currentTime(),i=Ct.BUFFER_LOW_WATER_LINE,a=Ct.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(i,Ct.MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+r*a,s)}}]),t}(P.EventTarget),nP=function(t,n,r){return function(i){var a=t.master.playlists[n],s=Zf(a),o=Fl(a);return typeof i>"u"?o:(i?delete a.disabled:a.disabled=!0,i!==o&&!s&&(r(),i?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),i)}},iP=function e(t,n,r){Yt(this,e);var i=t.masterPlaylistController_,a=t.options_.smoothQualityChange,s=a?"smooth":"fast",o=i[s+"QualityChange_"].bind(i);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=nP(t.playlists,n.uri,o)},aP=function(t){var n=t.playlists;t.representations=function(){return n.master.playlists.filter(function(r){return!Zf(r)}).map(function(r,i){return new iP(t,r,r.uri)})}},zm=["seeking","seeked","pause","playing","error"],sP=function(){function e(t){var n=this;Yt(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ys("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},a=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",i),this.tech_.on(zm,a),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",i),n.tech_.off(zm,a),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&I.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return cr(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&I.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=I.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime();return}if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===n&&(!r.length||n+kr>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var n=this.tech_.seeking();if(!n)return!1;var r=this.seekable(),i=this.tech_.currentTime(),a=this.afterSeekableWindow_(r,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow),s=void 0;if(a){var o=r.end(r.length-1);s=o}if(this.beforeSeekableWindow_(r,i)){var l=r.start(0);s=l+kr}return typeof s<"u"?(this.logger_("Trying to seek outside of seekable at time "+i+" with "+("seekable range "+eh(r)+". Seeking to ")+(s+".")),this.seekTo(s),!0):!1}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),r=this.tech_.buffered(),i=f_(r,n);if(i.length&&n+3<=i.end(0)){this.cancelTimer_(),this.seekTo(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}}},{key:"techWaiting_",value:function(){var n=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,r)){var i=n.end(n.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+i)),this.cancelTimer_(),this.seekTo(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.buffered(),s=km(a,r);if(this.videoUnderflow_(s,a,r))return this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(s.length>0){var o=s.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+o+", seeking "+("to "+s.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),o*1e3,r),!0}return!1}},{key:"afterSeekableWindow_",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!n.length)return!1;var s=n.end(n.length-1)+kr,o=!i.endList;return o&&a&&(s=n.end(n.length-1)+i.targetDuration*3),r>s}},{key:"beforeSeekableWindow_",value:function(n,r){return!!(n.length&&n.start(0)>0&&r<n.start(0)-kr)}},{key:"videoUnderflow_",value:function(n,r,i){if(n.length===0){var a=this.gapFromVideoUnderflow_(r,i);if(a)return this.logger_("Encountered a gap in video from "+a.start+" to "+a.end+". "+("Seeking to current time "+i)),!0}return!1}},{key:"skipTheGap_",value:function(n){var r=this.tech_.buffered(),i=this.tech_.currentTime(),a=km(r,i);this.cancelTimer_(),!(a.length===0||i!==n)&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.seekTo(a.start(0)+Bl),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(n,r){for(var i=qw(n),a=0;a<i.length;a++){var s=i.start(a),o=i.end(a);if(r-s<4&&r-s>2)return{start:s,end:o}}return null}}]),e}(),oP={errorInterval:30,getSource:function(t){var n=this.tech({IWillNotUseThisInPlugins:!0}),r=n.currentSource_;return t(r)}},lP=function e(t,n){var r=0,i=0,a=P.mergeOptions(oP,n);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){i&&t.currentTime(i)},o=function(h){h!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(h),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-r<a.errorInterval*1e3){t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){P.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),a.getSource.call(t,o)},u=function d(){t.off("loadedmetadata",s),t.off("error",l),t.off("dispose",d)},c=function(h){u(),e(t,h)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=c},Hm=function(t){lP(this,t)},uP="1.10.6";P.use("*",function(e){return{setSource:function(n,r){r(null,n)},setCurrentTime:function(n){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(n),n},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}});var xt={PlaylistLoader:il,Playlist:gt,Decrypter:HE,AsyncStream:U0,decrypt:F0,utils:Fw,STANDARD_PLAYLIST_SELECTOR:Ak,INITIAL_PLAYLIST_SELECTOR:Lk,comparePlaylistBandwidth:rh,comparePlaylistResolution:kk,xhr:s_()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(xt,e,{get:function(){return P.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Ct[e]},set:function(n){if(P.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),typeof n!="number"||n<0){P.log.warn("value of Hls."+e+" must be greater than or equal to 0");return}Ct[e]=n}})});var E_="videojs-vhs",C_=function(t){var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(n.test(t))return"hls";var r=/^application\/dash\+xml/i;return r.test(t)?"dash":null},w_=function(t,n){for(var r=n.media(),i=-1,a=0;a<t.length;a++)if(t[a].id===r.uri){i=a;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},cP=function(t,n){n.representations().forEach(function(r){t.addQualityLevel(r)}),w_(t,n.playlists)};xt.canPlaySource=function(){return P.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var dP=function(t,n,r){if(!t)return t;var i={};for(var a in t)i[a]={audioContentType:'audio/mp4; codecs="'+r.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+n.attributes.CODECS+'"'},n.contentProtection&&n.contentProtection[a]&&n.contentProtection[a].pssh&&(i[a].pssh=n.contentProtection[a].pssh),typeof t[a]=="string"&&(i[a].url=t[a]);return P.mergeOptions(t,i)},fP=function(t){if(t.options_.sourceType==="dash"){var n=P.players[t.tech_.options_.playerId];if(n.eme){var r=dP(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());r&&(n.currentSource().keySystems=r,n.eme.initializeMediaKeys&&n.eme.initializeMediaKeys())}}},k_=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem(E_);if(!t)return null;try{return JSON.parse(t)}catch{return null}},hP=function(t){if(!window.localStorage)return!1;var n=k_();n=n?P.mergeOptions(n,t):t;try{window.localStorage.setItem(E_,JSON.stringify(n))}catch{return!1}return n};xt.supportsNativeHls=function(){var e=j.createElement("video");if(!P.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(n){return/maybe|probably/i.test(e.canPlayType(n))})}();xt.supportsNativeDash=function(){return P.getTech("Html5").isSupported()?/maybe|probably/i.test(j.createElement("video").canPlayType("application/dash+xml")):!1}();xt.supportsTypeNatively=function(e){return e==="hls"?xt.supportsNativeHls:e==="dash"?xt.supportsNativeDash:!1};xt.isSupported=function(){return P.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var pP=P.getComponent("Component"),P_=function(e){Ur(t,e);function t(n,r,i){Yt(this,t);var a=Tr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i.hls));if(r.options_&&r.options_.playerId){var s=P(r.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return P.log.warn("player.hls is deprecated. Use player.tech().hls instead."),r.trigger({type:"usage",name:"hls-player-access"}),a},configurable:!0}),s.vhs=a,s.dash=a,a.player_=s}if(a.tech_=r,a.source_=n,a.stats={},a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(j,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(o){var l=j.fullscreenElement||j.webkitFullscreenElement||j.mozFullScreenElement||j.msFullscreenElement;l&&l.contains(a.tech_.el())&&a.masterPlaylistController_.smoothQualityChange_()}),a.on(a.tech_,"seeking",function(){this.tech_.currentTime()===0&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),a.on(a.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}return cr(t,[{key:"setOptions_",value:function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var i=k_();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ct.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ct.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(a){typeof r.source_[a]<"u"&&(r.options_[a]=r.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(r,i){var a=this;r&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=xt,this.options_.sourceType=C_(i),this.options_.seekTo=function(s){a.tech_.setCurrentTime(s),a.setCurrentTime(s)},this.masterPlaylistController_=new rP(this.options_),this.playbackWatcher_=new sP(P.mergeOptions(this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){var s=P.players[a.tech_.options_.playerId];s.error(a.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):xt.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=xt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(o){this.masterPlaylistController_.selectPlaylist=o.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(o){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=o,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(o){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=o,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var o=1/(this.bandwidth||1),l=void 0;this.throughput>0?l=1/this.throughput:l=0;var u=Math.floor(1/(o+l));return u},set:function(){P.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Pm(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Pm(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&hP({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){aP(a),fP(a)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return a.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(P.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var r=this,i=P.players[this.tech_.options_.playerId];i&&i.qualityLevels&&(this.qualityLevels_=i.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){cP(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){w_(r.qualityLevels_,r.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(r){this.masterPlaylistController_.setCurrentTime(r)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,pw(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(r,i){return Ww({playlist:this.masterPlaylistController_.media(),time:r,callback:i})}},{key:"seekToProgramTime",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2;return Gw({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}}]),t}(pP),nh={name:"videojs-http-streaming",VERSION:uP,canHandleSource:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=P.mergeOptions(P.options,n);return nh.canPlayType(t.type,r)},handleSource:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=P.mergeOptions(P.options,r);return n.hls=new P_(t,n,i),n.hls.xhr=s_(),n.hls.src(t.src,t.type),n.hls},canPlayType:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=P.mergeOptions(P.options,n),i=r.hls.overrideNative,a=C_(t),s=a&&(!xt.supportsTypeNatively(a)||i);return s?"maybe":""}};(typeof P.MediaSource>"u"||typeof P.URL>"u")&&(P.MediaSource=gs,P.URL=S_);gs.supportsNativeMediaSources()&&P.getTech("Html5").registerSourceHandler(nh,0);P.HlsHandler=P_;P.HlsSourceHandler=nh;P.Hls=xt;P.use||P.registerComponent("Hls",xt);P.options.hls=P.options.hls||{};P.registerPlugin?P.registerPlugin("reloadSourceOnError",Hm):P.plugin("reloadSourceOnError",Hm);const mP={controls:!0,fluid:!0,controlBar:{volumePanel:{inline:!1}}},vP=({options:e})=>{const t=An.createRef(),n=An.createRef();return An.useEffect(()=>(t.current&&(n.current=P(t.current,{...mP,...e}).ready(function(){})),()=>{n.current&&n.current.dispose()}),[e]),Z("video",{ref:t,className:"video-js vjs-big-play-centered"})},gP=({media:e})=>{const t={sources:[{src:e,type:"video/mp4"}]};var n=e.toString(),r=n.endsWith(".mp4"),i=n.endsWith(".png");return r?(console.log("Selected media"+n+" is a video"),Z(vP,{options:t})):i?(console.log("Selected media"+n+" is an image"),Z("img",{height:"100%",width:"100%",src:e})):(console.log("Selected media"+n+" is an unsupported file ending or format"),Z("div",{children:"Selected media is unsupported, please use .mp4 or .png"}))},yP=({display:e,closePopup:t,children:n,media:r,title:i})=>Z("div",{style:{position:"fixed",zIndex:5,width:"100%",height:"100%",top:"0px",bottom:"0px"},className:e?"Show":"Hide",id:"thingythingthing1",children:Z("div",{style:{position:"fixed",width:"100%",height:"100%"},children:mt("div",{style:{position:"fixed",zIndex:5,width:"100%",height:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},className:e?"Show":"Hide",id:"thingythingthing",children:[Z("svg",{width:"100%",height:"100%",style:{position:"fixed"},children:Z("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"#000000",opacity:.5},onClick:t})}),mt("svg",{width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 177 100",style:{position:"fixed",pointerEvents:"none"},children:[Z("defs",{children:mt("linearGradient",{id:"Gradient1",children:[Z("stop",{className:"popgradstop1",offset:"0%"}),Z("stop",{className:"popgradstop2",offset:"100%"})]})}),Z("rect",{x:"0",y:"0",width:"90%",height:"90%",rx:"5",className:"popupOutline",style:{opacity:1,transform:"translate(5%, 5%)",pointerEvents:"auto"}}),Z("foreignObject",{x:"5%",y:"5%",width:"90%",height:"90%",className:"LightMargin",children:mt("div",{className:"ThumbnailContainer",style:{width:"90%",height:"90%",transform:"translate(5%, 5%)"},children:[Z("div",{style:{width:"100%",height:"100%",pointerEvents:"auto"},className:"ThumbnailGridArea ",children:Z("div",{className:"centerVertically roundedCorner",children:Z(gP,{media:r})})}),Z("div",{className:"textend ",children:Z("h3",{className:"nomargin outlinedgradientbackgoutline ",style:{display:"grid",fontSize:"5px",alignSelf:"end",zIndex:7},children:i})}),Z("div",{className:"textstart outlinedgradientbackg nobottommargin",style:{fontSize:"2.5px"},children:Z("p",{className:"nobottommargin",children:n})})]})})]}),Z("div",{style:{width:"90%",height:"90%",position:"fixed",pointerEvents:"none"}})]})})}),hr=({SrcImage:e,children:t,media:n,hovertext:r,marginTopval:i,title:a})=>{const[s,o]=An.useState(!1);function l(){o(!0),console.log("visible state is:"+s)}return mt("div",{style:{marginTop:i},children:[Z(yP,{display:s,closePopup:()=>o(!1),media:n,title:a,children:t}),mt("div",{style:{position:"relative",zIndex:2,cursor:"pointer"},children:[Z("img",{src:e,className:"img-responsive unhighlightable thumbnailOutline",id:"thumbnail",alt:"Cinque Terre",onClick:()=>l(),style:{width:"100%",borderRadius:"5%/10%",zIndex:5}}),Z("h1",{id:"hovertext",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",height:"auto",width:"100%",whiteSpace:"normal",textAlign:"center"},className:"darkmodelightmodetexthover child",children:r})]})]})},_P="/react-app-gh-pages/assets/rja icon-2729f70f.svg",TP="/react-app-gh-pages/assets/noodleimage1-91614b0d.png",SP="/react-app-gh-pages/assets/noodleportfoliopiece-2e1724c1.mp4",xP="/react-app-gh-pages/assets/thumbnail-image_2.1.1-16-9-a88ff939.png",bP="/react-app-gh-pages/assets/noodleshort-3db4574f.mp4",EP="/react-app-gh-pages/assets/wanshowpng-6eb6171e.png",CP="/react-app-gh-pages/assets/wan portfolio piece-855ce33b.mp4",Vm="/react-app-gh-pages/assets/blahajsubsideview-c5711da9.png",$m="/react-app-gh-pages/assets/untitled-aed3997e.png",wP="/react-app-gh-pages/assets/bed adhesion pt2 v2 2-e4f64a0f.mp4",kP="/react-app-gh-pages/assets/Untitled_1.7.1-9d47f617.png",PP="/react-app-gh-pages/assets/stringing-c5d31599.mp4",AP="/react-app-gh-pages/assets/stringing_1.1.1-e4b31f58.png",IP="/react-app-gh-pages/assets/intro-345473d2.mp4",LP="/react-app-gh-pages/assets/intro v2-00_00_06_04-061a5f2b.png",Wm="/react-app-gh-pages/assets/SQLite_Logo-18081e79.png",Gm="/react-app-gh-pages/assets/samba-a7976d47.png",OP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Adobe_After_Effects_digital_badge-removebg-preview-a0d2edf6.png",DP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Video_Design_digital_badge-removebg-preview-8260bfeb.png",RP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Adobe_Illustrator_digital_badge-removebg-preview-c60cf802.png",MP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Adobe_InDesign_digital_badge-removebg-preview-d60e967c.png",NP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Adobe_Premiere_Pro_digital_badge-removebg-preview-8672dcfd.png",UP="/react-app-gh-pages/assets/Adobe_Certified_Professional_Adobe_Animate_digital_badge-removebg-preview-045f1a0a.png";function FP(){open("https://linktr.ee/rhettadams")}function ni(e){open(e)}function BP(){return mt("div",{className:"backgroundGradient",children:[mt("div",{className:"topbar topbargrid",style:{width:"99%",height:"10%",position:"fixed",transform:"translate(.5%, 5%)",zIndex:3},children:[Z("div",{children:Z("img",{style:{width:"100%",height:"100%",top:"0",left:"0",objectFit:"cover"},src:_P,alt:"RJA Logo",className:"filterinvert"})}),mt("div",{style:{display:"flex",alignContent:"center",alignItems:"center"},children:[Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6,alignSelf:"center"},src:DP,onClick:()=>ni("https://www.credly.com/badges/7e12dd15-d024-4651-8046-ad23f3770e2f/linked_in_profile")}),Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6},src:OP,onClick:()=>ni("https://www.credly.com/badges/2e67363d-e99b-45fe-beb8-f02305005eba/linked_in_profile")}),Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6},src:RP,onClick:()=>ni("https://www.credly.com/badges/4c19b377-9a05-468b-bb7b-09507522a9b4/linked_in_profile")}),Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6},src:MP,onClick:()=>ni("https://www.credly.com/badges/b7cac60b-838f-4c45-bd46-bac2974fee22/linked_in_profile")}),Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6},src:NP,onClick:()=>ni("https://www.credly.com/badges/3b34d04d-94b8-4c4d-a5ac-65419393663b/linked_in_profile")}),Z("img",{style:{height:"80%",padding:"1%",cursor:"pointer",zIndex:6},src:UP,onClick:()=>ni("https://www.credly.com/badges/f0e029e5-926b-4012-be7b-a5d0d25cc2e7/linked_in_profile")})]}),Z("div",{children:Z("button",{style:{width:"8%",height:"70%",top:"15%",right:"1%",borderRadius:"10px",position:"fixed"},className:"buttonstyle ",type:"button",onClick:FP,children:Z("h3",{className:"darkmodelightmodetext",style:{fontSize:"1.6vw",display:"inline-block"},children:"CONTACT"})})})]}),mt("div",{id:"container",children:[Z("div",{children:mt("div",{style:{display:"inline-grid",justifyContent:"center"},children:[Z(hr,{SrcImage:EP,media:CP,hovertext:"hello",title:"3D pixel art with 3D lighting and rigging.",marginTopval:"100%",children:"(DISCLAIMER: I did not make the clip at the end of characters carrying a couch nor do I claim any ownership of any intellectual property or affiliation with LMG.) The WAN Show is an online talk showand podcast. On the show a host mentioned the need for a new intro. I decided to attempt to recreate their old intro in blender with dynamic lighting and 3D rigging. All characters in my version are 3d characters animated and lit in 3D."}),Z(hr,{SrcImage:TP,media:SP,hovertext:"2D Animation in a 3D World",title:"Animating a short-film that couldn't be Aniamted",marginTopval:"60%",children:"Animator and influencer Julian Morley creates animated content for Youtube and Patreon platforms. He posts cardboard-puppet videos in between his animated features to keep his audience entertained during the long production time of animation. I chose to try to animate one of his cardboard-puppet videos in Blender. I animated a 2D character in a 3D environment. This was a 2 week long project I did over the summer and I am very proud of the result."}),Z(hr,{SrcImage:xP,media:bP,hovertext:"2D Animation in a 3D World (first iteration)",title:"Trying 2D Animation in a 3D Enviornment",marginTopval:"0px",children:"Animator and influencer Julian Morley creates animated content for Youtube and Patreon platforms. He posts cardboard-puppet videos in between his animated features to keep his audience entertained during the long production time of animation. I chose to try to animate one of his cardboard-puppet videos in Blender. I animated a 2D character in a 3D environment. This was a 2 week long project I did over the summer and I am very proud of the result."}),Z(hr,{SrcImage:Vm,media:Vm,hovertext:"Modelling in 3D with Constraints and Goals",title:"Modelling in 3D with Constraints and Goals",marginTopval:"10vw",children:"I was tasked with creating a custom vehicle in a 3D modelling course. I chose to create a submirsible based off of a shark that I had grown fond of. I took extra care to meet the goals and desirables of the project. I put in the extra effort of creating wear in the shader and ensuring I got the metallic and reflective look I was going for. All this work paid off as I recieved good marks on this project."}),Z(hr,{SrcImage:$m,media:$m,hovertext:"Recreating a Crime Scene with Digital Tools",title:"Recreating a Crime Scene with Digital Tools",marginTopval:"10vw",children:"I was tasked with recreating a crime scene with whatever tools I chose. Of course, I chose the tool I could create the best output with, Blender. I recreated this crime scene too scale with digital blood effects and realistic lighting. I completed this within time constraints and met project goals. The result was my teacher's pride of the class. My teacher claimed it to be some of the best he had seen and proudly showed it off to the rest of the participants. This leads me to be confident in the quality I can produce at an academic and professional level."}),Z(wu,{linelength:"90vw",collumname:"3D Animation"})]})}),Z("div",{children:mt("div",{style:{display:"inline-grid",justifyContent:"center"},children:[Z(hr,{SrcImage:kP,media:wP,hovertext:"15,000 Views in a 3-week period",title:"15,000 Views in a 3-week period",marginTopval:"190%",children:"I worked hard to specifically optimize my videos to achieve great success in the algorithm. I optimized my content based on popular user search results. I achieved over 15,000 organic views in under 3 weeks and recieved over 70 comments as a channel of under 150 subscribers. This algorithm expertise is something few can master and I feel that I am on the road to truely understanding how to use this tool."}),Z(hr,{SrcImage:AP,media:PP,hovertext:"68,000 views on a Youtube Short",title:"68,000 views on a Youtube Short",marginTopval:"135%",children:"When I started my youtube channel I hoped to gain some experience in social media marketing. On only my 3rd video I achieved rapid success. As opposed to a typical view-curve of many views at publish and a slow death of views, my video has only been accelrating into higher and higher view counts, with it recently hitting 67,000 views."}),Z(hr,{SrcImage:LP,media:IP,hovertext:"My first motion graphic",title:"My first motion graphic",marginTopval:"220%",children:"In 2021 I took my first delve into motion graphics. I chose to make an intro for a former youtube channel. I carefully selected an appropriate musical choice and properly timed keyframes to match said music. This piece may be on the older side but I am still very proud of it."}),Z(wu,{collumname:"Video Editing",linelength:"120vw"})]})}),Z("div",{children:mt("div",{style:{display:"inline-grid",justifyContent:"center"},children:[Z(hr,{SrcImage:Wm,media:Wm,hovertext:"Learning efficient methods of using sqlite",title:"Learning efficient methods of using sqlite",marginTopval:"44vw",children:"I was tasked with building a custom python bot for my school's Esports club. I needed to store teams and the discord users of said teams. I chose to use sqlite to store these values and learned efficient ways to store these values in a way that would work consistently for my club. I also learned how to efficiently create, organize, and delete databases at a program and terminal level."}),Z(hr,{SrcImage:Gm,media:Gm,hovertext:"Using Samba to better ingest and organize large video files over a Home Network",title:"Using Samba to better organize video files over a Home Network",marginTopval:"30vw",children:"I was struggling to handle management of my many media files for my Jellyfin and Video Editing projects, so I turned to Samba for a solution. I spent weeks finding the best way to compose a Samba Docker container and the result is a consistent and useful tool that I use regularly for handling very large media files over my network. The current solution runs on a Raspberry Pi 4 with a custom SSD boot and HDD storage setup that can store over a terabyte of media."}),Z(wu,{collumname:"IT",linelength:"100vw"})]})})]})]})}Wu.createRoot(document.getElementById("root")).render(Z(WT.StrictMode,{children:Z(BP,{})}));
